/*! For license information please see 2220.7f8766a6.chunk.js.LICENSE.txt */
(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[2220],{74794:function(e,t,n){"use strict";var a=n(1413),r=(n(72791),n(61889)),o=n(11135),i=n(25787),c=n(23814),s=n(80184);t.Z=(0,i.Z)((function(e){return(0,o.Z)((0,a.Z)({},c.Bw))}))((function(e){var t=e.classes,n=e.className,a=void 0===n?"":n,o=e.children;return(0,s.jsx)("div",{className:t.contentSpacer,children:(0,s.jsx)(r.ZP,{container:!0,children:(0,s.jsx)(r.ZP,{item:!0,xs:12,className:a,children:o})})})}))},32291:function(e,t,n){"use strict";n(72791);var a=n(60364),r=n(61889),o=n(11135),i=n(25787),c=n(20890),s=n(13400),l=n(95466),u=n(84683),d=n(3925),f=n(96389),p=n(80184),m={toggleList:d.kQ},b=(0,a.$j)((function(e){return{sidebarOpen:e.system.sidebarOpen,operatorMode:e.system.operatorMode,managerObjects:e.objectBrowser.objectManager.objectsToManage}}),m);t.Z=b((0,i.Z)((function(e){return(0,o.Z)({headerContainer:{width:"100%",minHeight:79,display:"flex",backgroundColor:"#fff",left:0,boxShadow:"rgba(0,0,0,.08) 0 3px 10px"},label:{display:"flex",justifyContent:"flex-start",alignItems:"center"},labelStyle:{color:"#000",fontSize:18,fontWeight:700,marginLeft:34,marginTop:8},rightMenu:{textAlign:"right"},logo:{marginLeft:34,fill:e.palette.primary.main,"& .min-icon":{width:120}},middleComponent:{display:"flex",justifyContent:"center",alignItems:"center"}})}))((function(e){var t=e.classes,n=e.label,a=e.actions,o=e.sidebarOpen,i=e.operatorMode,d=e.managerObjects,m=e.toggleList,b=e.middleComponent;return(0,p.jsxs)(r.ZP,{container:!0,className:"".concat(t.headerContainer," page-header"),direction:"row",alignItems:"center",children:[(0,p.jsxs)(r.ZP,{item:!0,xs:12,sm:12,md:b?3:6,className:t.label,sx:{paddingTop:["15px","15px","0","0"]},children:[!o&&(0,p.jsx)("div",{className:t.logo,children:i?(0,p.jsx)(l.Z,{}):(0,p.jsx)(u.Z,{})}),(0,p.jsx)(c.Z,{variant:"h4",className:t.labelStyle,children:n})]}),b&&(0,p.jsx)(r.ZP,{item:!0,xs:12,sm:12,md:6,className:t.middleComponent,sx:{marginTop:["10px","10px","0","0"]},children:b}),(0,p.jsxs)(r.ZP,{item:!0,xs:12,sm:12,md:b?3:6,className:t.rightMenu,children:[a&&a,d&&d.length>0&&(0,p.jsx)(s.Z,{color:"primary","aria-label":"Refresh List",component:"span",onClick:function(){m()},size:"large",children:(0,p.jsx)(f.gx,{})})]})]})})))},76272:function(e,t,n){"use strict";n.r(t);var a=n(70885),r=n(1413),o=n(72791),i=n(4834),c=n(61889),s=n(68096),l=n(58406),u=n(23786),d=n(27391),f=n(36151),p=n(95087),m=n(60364),b=n(11135),g=n(25787),h=n(21352),v=n(45248),x=n(26824),Z=n(23814),y=n(92983),w=n(32291),j=n(81207),k=n(74794),C=n(80184),S=(0,g.Z)((function(e){return(0,b.Z)({root:{lineHeight:"50px","label + &":{marginTop:e.spacing(3)},"& .MuiSelect-select:focus":{backgroundColor:"transparent"}},input:{height:50,fontSize:13,lineHeight:"50px"}})}))(i.ZP),O=(0,m.$j)((function(e){return{messages:e.watch.messages}}),{watchMessageReceived:h.pG,watchResetMessages:h.uE});t.default=O((0,g.Z)((function(e){return(0,b.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({searchPrefix:{flexGrow:1,marginLeft:15},watchTableHeight:{height:"calc(100vh - 270px)"},bucketField:{flexGrow:2,minWidth:200}},Z.VX),Z.OR),Z.qg),(0,Z.Bz)(e.spacing(4))))}))((function(e){var t=e.classes,n=e.watchMessageReceived,r=e.watchResetMessages,i=e.messages,m=(0,o.useState)(!1),b=(0,a.Z)(m,2),g=b[0],h=b[1],Z=(0,o.useState)("Select Bucket"),O=(0,a.Z)(Z,2),N=O[0],P=O[1],M=(0,o.useState)(""),T=(0,a.Z)(M,2),_=T[0],I=T[1],F=(0,o.useState)(""),L=(0,a.Z)(F,2),E=L[0],G=L[1],R=(0,o.useState)([]),V=(0,a.Z)(R,2),z=V[0],B=V[1];(0,o.useEffect)((function(){j.Z.invoke("GET","/api/v1/buckets").then((function(e){var t=[];null!==e.buckets&&(t=e.buckets),B(t)})).catch((function(e){console.log(e)}))}),[]),(0,o.useEffect)((function(){if(r(),g&&z.some((function(e){return e.name===N}))){var e=new URL(window.location.toString()),t=e.port,a=(0,x.x2)(e.protocol),o=new p.w3cwebsocket("".concat(a,"://").concat(e.hostname,":").concat(t,"/ws/watch/").concat(N,"?prefix=").concat(_,"&suffix=").concat(E)),i=null;if(null!==o)return o.onopen=function(){console.log("WebSocket Client Connected"),o.send("ok"),i=setInterval((function(){o.send("ok")}),1e4)},o.onmessage=function(e){var t=JSON.parse(e.data.toString());t.Time=new Date(t.Time.toString()),t.key=Math.random(),n(t)},o.onclose=function(){clearInterval(i),console.log("connection closed by server"),h(!1)},function(){o.close(1e3),clearInterval(i),console.log("closing websockets")}}else h(!1)}),[n,g,z,N,_,E,r]);var H=z.map((function(e){return{label:e.name,value:e.name}}));return(0,C.jsxs)(o.Fragment,{children:[(0,C.jsx)(w.Z,{label:"Watch"}),(0,C.jsx)(k.Z,{children:(0,C.jsxs)(c.ZP,{item:!0,xs:12,children:[(0,C.jsxs)(c.ZP,{item:!0,xs:12,className:t.actionsTray,children:[(0,C.jsx)(s.Z,{variant:"outlined",className:t.bucketField,children:(0,C.jsxs)(l.Z,{id:"bucket-name",name:"bucket-name",value:N,onChange:function(e){P(e.target.value)},className:t.searchField,disabled:g,input:(0,C.jsx)(S,{}),children:[(0,C.jsx)(u.Z,{value:N,disabled:!0,children:"Select Bucket"},"select-bucket-name-default"),H.map((function(e){return(0,C.jsx)(u.Z,{value:e.value,children:e.label},"select-bucket-name-".concat(e.label))}))]})}),(0,C.jsx)(d.Z,{className:"".concat(t.searchField," ").concat(t.searchPrefix),id:"prefix-resource",label:"Prefix",disabled:g,InputProps:{disableUnderline:!0},onChange:function(e){I(e.target.value)},variant:"standard"}),(0,C.jsx)(d.Z,{className:"".concat(t.searchField," ").concat(t.searchPrefix),id:"suffix-resource",label:"Suffix",disabled:g,InputProps:{disableUnderline:!0},onChange:function(e){G(e.target.value)},variant:"standard"}),(0,C.jsx)(f.Z,{type:"submit",variant:"contained",color:"primary",disabled:g,onClick:function(){return h(!0)},children:"Start"})]}),(0,C.jsx)("div",{className:t.tableBlock,children:(0,C.jsx)(y.Z,{columns:[{label:"Time",elementKey:"Time",renderFunction:v.zk},{label:"Size",elementKey:"Size",renderFunction:v.ae},{label:"Type",elementKey:"Type"},{label:"Path",elementKey:"Path"}],records:i,entityName:"Watch",customEmptyMessage:"No Changes at this time",idField:"watch_table",isLoading:!1,customPaperHeight:t.watchTableHeight})})]})})]})})))},26824:function(e,t,n){"use strict";n.d(t,{V9:function(){return a},ci:function(){return r},HE:function(){return o},x2:function(){return i}});var a=1006,r=1008,o=1011,i=function(e){var t="ws";return"https:"===e&&(t="wss"),t}},90133:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});var a=n(95159);function r(e){return(0,a.Z)("MuiDivider",e)}var o=(0,n(30208).Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);t.Z=o},23786:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var a=n(4942),r=n(63366),o=n(87462),i=n(72791),c=n(28182),s=n(90767),l=n(12065),u=n(47630),d=n(93736),f=n(66199),p=n(95080),m=n(40162),b=n(42071),g=n(90133),h=n(96014),v=n(29849),x=n(95159);function Z(e){return(0,x.Z)("MuiMenuItem",e)}var y=(0,n(30208).Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),w=n(80184),j=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],k=(0,u.ZP)(p.Z,{shouldForwardProp:function(e){return(0,u.FO)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,o.Z)({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.divider&&{borderBottom:"1px solid ".concat(n.palette.divider),backgroundClip:"padding-box"},(t={"&:hover":{textDecoration:"none",backgroundColor:n.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,a.Z)(t,"&.".concat(y.selected),(0,a.Z)({backgroundColor:(0,l.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(y.focusVisible),{backgroundColor:(0,l.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,a.Z)(t,"&.".concat(y.selected,":hover"),{backgroundColor:(0,l.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,l.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),(0,a.Z)(t,"&.".concat(y.focusVisible),{backgroundColor:n.palette.action.focus}),(0,a.Z)(t,"&.".concat(y.disabled),{opacity:n.palette.action.disabledOpacity}),(0,a.Z)(t,"& + .".concat(g.Z.root),{marginTop:n.spacing(1),marginBottom:n.spacing(1)}),(0,a.Z)(t,"& + .".concat(g.Z.inset),{marginLeft:52}),(0,a.Z)(t,"& .".concat(v.Z.root),{marginTop:0,marginBottom:0}),(0,a.Z)(t,"& .".concat(v.Z.inset),{paddingLeft:36}),(0,a.Z)(t,"& .".concat(h.Z.root),{minWidth:36}),t),!r.dense&&(0,a.Z)({},n.breakpoints.up("sm"),{minHeight:"auto"}),r.dense&&(0,o.Z)({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,(0,a.Z)({},"& .".concat(h.Z.root," svg"),{fontSize:"1.25rem"})))})),C=i.forwardRef((function(e,t){var n=(0,d.Z)({props:e,name:"MuiMenuItem"}),a=n.autoFocus,l=void 0!==a&&a,u=n.component,p=void 0===u?"li":u,g=n.dense,h=void 0!==g&&g,v=n.divider,x=void 0!==v&&v,y=n.disableGutters,C=void 0!==y&&y,S=n.focusVisibleClassName,O=n.role,N=void 0===O?"menuitem":O,P=n.tabIndex,M=(0,r.Z)(n,j),T=i.useContext(f.Z),_={dense:h||T.dense||!1,disableGutters:C},I=i.useRef(null);(0,m.Z)((function(){l&&I.current&&I.current.focus()}),[l]);var F,L=(0,o.Z)({},n,{dense:_.dense,divider:x,disableGutters:C}),E=function(e){var t=e.disabled,n=e.dense,a=e.divider,r=e.disableGutters,i=e.selected,c=e.classes,l={root:["root",n&&"dense",t&&"disabled",!r&&"gutters",a&&"divider",i&&"selected"]},u=(0,s.Z)(l,Z,c);return(0,o.Z)({},c,u)}(n),G=(0,b.Z)(I,t);return n.disabled||(F=void 0!==P?P:-1),(0,w.jsx)(f.Z.Provider,{value:_,children:(0,w.jsx)(k,(0,o.Z)({ref:G,role:N,tabIndex:F,component:p,focusVisibleClassName:(0,c.Z)(E.focusVisible,S)},M,{ownerState:L,classes:E}))})}))},96532:function(e,t){"use strict";var n=60103,a=60106,r=60107,o=60108,i=60114,c=60109,s=60110,l=60112,u=60113,d=60120,f=60115,p=60116,m=60121,b=60122,g=60117,h=60129,v=60131;if("function"===typeof Symbol&&Symbol.for){var x=Symbol.for;n=x("react.element"),a=x("react.portal"),r=x("react.fragment"),o=x("react.strict_mode"),i=x("react.profiler"),c=x("react.provider"),s=x("react.context"),l=x("react.forward_ref"),u=x("react.suspense"),d=x("react.suspense_list"),f=x("react.memo"),p=x("react.lazy"),m=x("react.block"),b=x("react.server.block"),g=x("react.fundamental"),h=x("react.debug_trace_mode"),v=x("react.legacy_hidden")}function Z(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case r:case i:case o:case u:case d:return e;default:switch(e=e&&e.$$typeof){case s:case l:case p:case f:case c:return e;default:return t}}case a:return t}}}},78457:function(e,t,n){"use strict";n(96532)},94210:function(e){var t=function(){if("object"===typeof self&&self)return self;if("object"===typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"===typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}()},95087:function(e,t,n){var a;if("object"===typeof globalThis)a=globalThis;else try{a=n(94210)}catch(c){}finally{if(a||"undefined"===typeof window||(a=window),!a)throw new Error("Could not determine global this")}var r=a.WebSocket||a.MozWebSocket,o=n(51496);function i(e,t){return t?new r(e,t):new r(e)}r&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(i,e,{get:function(){return r[e]}})})),e.exports={w3cwebsocket:r?i:null,version:o}},51496:function(e,t,n){e.exports=n(19794).version},45987:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(63366);function r(e,t){if(null==e)return{};var n,r,o=(0,a.Z)(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},19794:function(e){"use strict";e.exports={version:"1.0.34"}}}]);
//# sourceMappingURL=2220.7f8766a6.chunk.js.map