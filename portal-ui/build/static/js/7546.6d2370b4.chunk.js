"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[7546],{21435:function(e,t,o){var n=o(1413),a=o(72791),i=o(27391),r=o(61889),c=o(30829),l=o(20068),s=o(13400),d=o(11135),u=o(72455),h=o(25787),m=o(23814),p=o(84570),Z=o(28182),v=o(80184),f=(0,u.Z)((function(e){return(0,d.Z)((0,n.Z)({},m.gM))}));function b(e){var t=f();return(0,v.jsx)(i.Z,(0,n.Z)({InputProps:{classes:t}},e))}t.Z=(0,h.Z)((function(e){return(0,d.Z)((0,n.Z)((0,n.Z)((0,n.Z)({},m.YI),m.Hr),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}},inputLabel:(0,n.Z)((0,n.Z)({},m.YI.inputLabel),{},{fontWeight:"normal"})}))}))((function(e){var t=e.label,o=e.onChange,i=e.value,d=e.id,u=e.name,h=e.type,m=void 0===h?"text":h,f=e.autoComplete,x=void 0===f?"off":f,g=e.disabled,w=void 0!==g&&g,k=e.multiline,j=void 0!==k&&k,S=e.tooltip,y=void 0===S?"":S,C=e.index,N=void 0===C?0:C,P=e.error,R=void 0===P?"":P,M=e.required,z=void 0!==M&&M,I=e.placeholder,F=void 0===I?"":I,B=e.min,E=e.max,L=e.overlayIcon,A=void 0===L?null:L,G=e.overlayObject,T=void 0===G?null:G,O=e.extraInputProps,U=void 0===O?{}:O,W=e.overlayAction,D=e.noLabelMinWidth,_=void 0!==D&&D,q=e.pattern,H=void 0===q?"":q,X=e.autoFocus,Y=void 0!==X&&X,$=e.classes,K=e.className,V=void 0===K?"":K,J=(0,n.Z)({"data-index":N},U);return"number"===m&&B&&(J.min=B),"number"===m&&E&&(J.max=E),""!==H&&(J.pattern=H),(0,v.jsx)(a.Fragment,{children:(0,v.jsxs)(r.ZP,{container:!0,className:(0,Z.Z)(""!==V?V:"",""!==R?$.errorInField:$.inputBoxContainer),children:[""!==t&&(0,v.jsxs)(c.Z,{htmlFor:d,className:_?$.noMinWidthLabel:$.inputLabel,children:[(0,v.jsxs)("span",{children:[t,z?"*":""]}),""!==y&&(0,v.jsx)("div",{className:$.tooltipContainer,children:(0,v.jsx)(l.Z,{title:y,placement:"top-start",children:(0,v.jsx)("div",{className:$.tooltip,children:(0,v.jsx)(p.Z,{})})})})]}),(0,v.jsxs)("div",{className:$.textBoxContainer,children:[(0,v.jsx)(b,{id:d,name:u,fullWidth:!0,value:i,autoFocus:Y,disabled:w,onChange:o,type:m,multiline:j,autoComplete:x,inputProps:J,error:""!==R,helperText:R,placeholder:F,className:$.inputRebase}),A&&(0,v.jsx)("div",{className:"".concat($.overlayAction," ").concat(""!==t?"withLabel":""),children:(0,v.jsx)(s.Z,{onClick:W?function(){W()}:function(){return null},size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:A})}),T&&(0,v.jsx)("div",{className:"".concat($.overlayAction," ").concat(""!==t?"withLabel":""),children:T})]})]})})}))},57413:function(e,t,o){o.r(t);var n=o(70885),a=o(1413),i=o(72791),r=o(60364),c=o(11135),l=o(25787),s=o(36151),d=o(40986),u=o(61889),h=o(23814),m=o(42649),p=o(81207),Z=o(40228),v=o(401),f=o(21435),b=o(81159),x=o(64163),g=o(96389),w=o(80184),k={setModalErrorSnackMessage:m.zb},j=(0,r.$j)(null,k);t.default=(0,l.Z)((function(e){return(0,c.Z)((0,a.Z)((0,a.Z)((0,a.Z)({buttonContainer:{textAlign:"right"},userSelector:{"& .MuiPaper-root":{padding:0,marginBottom:15}}},h.DF),h.bK),h.ID))}))(j((function(e){var t=e.open,o=e.selectedGroup,a=e.closeModalAndRefresh,r=e.classes,c=e.setModalErrorSnackMessage,l=(0,i.useState)(""),h=(0,n.Z)(l,2),m=h[0],k=h[1],j=(0,i.useState)(!1),S=(0,n.Z)(j,2),y=S[0],C=S[1],N=(0,i.useState)(!1),P=(0,n.Z)(N,2),R=P[0],M=P[1],z=(0,i.useState)([]),I=(0,n.Z)(z,2),F=I[0],B=I[1],E=(0,i.useState)(!1),L=(0,n.Z)(E,2),A=L[0],G=L[1],T=(0,i.useState)(!1),O=(0,n.Z)(T,2),U=O[0],W=O[1];(0,i.useEffect)((function(){null!==o?G(!0):(k(""),B([]))}),[o]),(0,i.useEffect)((function(){W(""!==m.trim())}),[m,F]),(0,i.useEffect)((function(){if(R){null!==o?p.Z.invoke("PUT","/api/v1/group?name=".concat(encodeURI(m)),{group:m,members:F,status:y?"enabled":"disabled"}).then((function(e){M(!1),a()})).catch((function(e){M(!1),c(e)})):p.Z.invoke("POST","/api/v1/groups",{group:m,members:F}).then((function(e){M(!1),a()})).catch((function(e){M(!1),c(e)}))}}),[R,m,F,y,o,a,c]),(0,i.useEffect)((function(){if(o&&A){p.Z.invoke("GET","/api/v1/group?name=".concat(encodeURI(o))).then((function(e){C("enabled"===e.status),k(e.name),B(e.members)})).catch((function(e){c(e),G(!1)}))}}),[A,o,c]);return(0,w.jsxs)(v.Z,{modalOpen:t,onClose:a,title:null!==o?"Edit Group":"Create Group",titleIcon:(0,w.jsx)(g.ye,{}),children:[null!==o&&(0,w.jsx)("div",{className:r.floatingEnabled,children:(0,w.jsx)(b.Z,{indicatorLabels:["Enabled","Disabled"],checked:y,value:"group_enabled",id:"group-status",name:"group-status",onChange:function(e){C(e.target.checked)},switchOnly:!0})}),(0,w.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),M(!0)},children:(0,w.jsxs)(u.ZP,{container:!0,children:[(0,w.jsxs)(u.ZP,{item:!0,xs:12,className:r.modalFormScrollable,children:[null===o?(0,w.jsx)(u.ZP,{item:!0,xs:12,className:r.formFieldRow,children:(0,w.jsx)(f.Z,{id:"group-name",name:"group-name",label:"Group Name",autoFocus:!0,value:m,onChange:function(e){k(e.target.value)}})}):(0,w.jsx)(u.ZP,{item:!0,xs:12,className:r.formFieldRow,children:(0,w.jsx)(x.Z,{label:"Group Name",content:o})}),(0,w.jsx)(u.ZP,{item:!0,xs:12,className:r.userSelector,children:(0,w.jsx)(Z.Z,{selectedUsers:F,setSelectedUsers:B,editMode:null!==o})})]}),(0,w.jsxs)(u.ZP,{item:!0,xs:12,className:r.buttonContainer,children:[(0,w.jsx)(s.Z,{type:"button",variant:"outlined",color:"primary",className:r.spacerRight,onClick:function(){null===o&&k(""),B([])},children:"Clear"}),(0,w.jsx)(s.Z,{type:"submit",variant:"contained",color:"primary",disabled:R||!U,children:"Save"})]}),R&&(0,w.jsx)(u.ZP,{item:!0,xs:12,children:(0,w.jsx)(d.Z,{})})]})})]})})))},9955:function(e,t,o){o.d(t,{Z:function(){return j}});var n=o(4942),a=o(63366),i=o(87462),r=o(72791),c=o(28182),l=o(90767),s=o(12065),d=o(14036),u=o(97278),h=o(93736),m=o(47630),p=o(95159);function Z(e){return(0,p.Z)("MuiSwitch",e)}var v=(0,o(30208).Z)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),f=o(80184),b=["className","color","edge","size","sx"],x=(0,m.ZP)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:function(e,t){var o=e.ownerState;return[t.root,o.edge&&t["edge".concat((0,d.Z)(o.edge))],t["size".concat((0,d.Z)(o.size))]]}})((function(e){var t,o=e.ownerState;return(0,i.Z)({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},"start"===o.edge&&{marginLeft:-8},"end"===o.edge&&{marginRight:-8},"small"===o.size&&(t={width:40,height:24,padding:7},(0,n.Z)(t,"& .".concat(v.thumb),{width:16,height:16}),(0,n.Z)(t,"& .".concat(v.switchBase),(0,n.Z)({padding:4},"&.".concat(v.checked),{transform:"translateX(16px)"})),t))})),g=(0,m.ZP)(u.Z,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:function(e,t){var o=e.ownerState;return[t.switchBase,(0,n.Z)({},"& .".concat(v.input),t.input),"default"!==o.color&&t["color".concat((0,d.Z)(o.color))]]}})((function(e){var t,o=e.theme;return t={position:"absolute",top:0,left:0,zIndex:1,color:"light"===o.palette.mode?o.palette.common.white:o.palette.grey[300],transition:o.transitions.create(["left","transform"],{duration:o.transitions.duration.shortest})},(0,n.Z)(t,"&.".concat(v.checked),{transform:"translateX(20px)"}),(0,n.Z)(t,"&.".concat(v.disabled),{color:"light"===o.palette.mode?o.palette.grey[100]:o.palette.grey[600]}),(0,n.Z)(t,"&.".concat(v.checked," + .").concat(v.track),{opacity:.5}),(0,n.Z)(t,"&.".concat(v.disabled," + .").concat(v.track),{opacity:"light"===o.palette.mode?.12:.2}),(0,n.Z)(t,"& .".concat(v.input),{left:"-100%",width:"300%"}),t}),(function(e){var t,o=e.theme,a=e.ownerState;return(0,i.Z)({"&:hover":{backgroundColor:(0,s.Fq)(o.palette.action.active,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==a.color&&(t={},(0,n.Z)(t,"&.".concat(v.checked),(0,n.Z)({color:o.palette[a.color].main,"&:hover":{backgroundColor:(0,s.Fq)(o.palette[a.color].main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(v.disabled),{color:"light"===o.palette.mode?(0,s.$n)(o.palette[a.color].main,.62):(0,s._j)(o.palette[a.color].main,.55)})),(0,n.Z)(t,"&.".concat(v.checked," + .").concat(v.track),{backgroundColor:o.palette[a.color].main}),t))})),w=(0,m.ZP)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:function(e,t){return t.track}})((function(e){var t=e.theme;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:"light"===t.palette.mode?t.palette.common.black:t.palette.common.white,opacity:"light"===t.palette.mode?.38:.3}})),k=(0,m.ZP)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:function(e,t){return t.thumb}})((function(e){return{boxShadow:e.theme.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),j=r.forwardRef((function(e,t){var o=(0,h.Z)({props:e,name:"MuiSwitch"}),n=o.className,r=o.color,s=void 0===r?"primary":r,u=o.edge,m=void 0!==u&&u,p=o.size,v=void 0===p?"medium":p,j=o.sx,S=(0,a.Z)(o,b),y=(0,i.Z)({},o,{color:s,edge:m,size:v}),C=function(e){var t=e.classes,o=e.edge,n=e.size,a=e.color,r=e.checked,c=e.disabled,s={root:["root",o&&"edge".concat((0,d.Z)(o)),"size".concat((0,d.Z)(n))],switchBase:["switchBase","color".concat((0,d.Z)(a)),r&&"checked",c&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},u=(0,l.Z)(s,Z,t);return(0,i.Z)({},t,u)}(y),N=(0,f.jsx)(k,{className:C.thumb,ownerState:y});return(0,f.jsxs)(x,{className:(0,c.Z)(C.root,n),sx:j,ownerState:y,children:[(0,f.jsx)(g,(0,i.Z)({type:"checkbox",icon:N,checkedIcon:N,ref:t,ownerState:y},S,{classes:(0,i.Z)({},C,{root:C.switchBase})})),(0,f.jsx)(w,{className:C.track,ownerState:y})]})}))}}]);
//# sourceMappingURL=7546.6d2370b4.chunk.js.map