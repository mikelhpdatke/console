/*! For license information please see 8829.55b10a45.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[8829],{42303:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var i,a=n(70885),r=n(1413),o=n(72791),s=n(60364),l=n(63466),c=n(40986),d=n(13239),m=n(10703),u=n(11135),p=n(72455),g=n(25787),x=n(36151),h=n(27391),f=n(61889);!function(e){e.unknown="unknown",e.form="form",e.redirect="redirect",e.serviceAccount="service-account"}(i||(i={}));var v=n(42649),b=n(81207),j=n(62666),Z=n(28789),y=n(28057),w=n(45248),S=n(96389),P=n(23814),I=n(80184),N=(0,p.Z)((function(e){return(0,u.Z)({root:{"& .MuiOutlinedInput-root":{paddingLeft:0,"& svg":{height:16,color:e.palette.primary.main},"& input":{padding:5,paddingLeft:0,"&::placeholder":{fontSize:12},"@media (max-width: 900px)":{padding:10}},"& fieldset":{border:"none",borderBottom:"1px solid #EAEAEA",borderRadius:0},"&.Mui-focused fieldset":{borderBottom:"1px solid #000000",borderRadius:0},"& fieldset:hover":{borderBottom:"2px solid #000000",borderRadius:0}}}})}));function A(e){var t=N();return(0,I.jsx)(h.Z,(0,r.Z)({classes:{root:t.root},variant:"standard"},e))}var L=(0,s.$j)((function(e){return{loggedIn:e.loggedIn}}),{userLoggedIn:v.nD,setErrorSnackMessage:v.Ih})((0,g.Z)((function(e){return(0,u.Z)((0,r.Z)({form:{width:"100%"},submit:{margin:"30px 0px 16px",height:40,boxShadow:"none",padding:"16px 30px"},loginPage:{height:"100%",display:"flex",flexFlow:"column",alignItems:"stretch",position:"relative",padding:84,"@media (max-width: 900px)":{padding:0}},shadowBox:{boxShadow:"rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0) 0px 0px 0px 0px, rgba(0, 0, 0, 0.125) 0px 15px 50px 0px",height:"100%"},loginContainer:{flex:1,height:"100%","& .right-items":{padding:50,flex:1,height:"100%",display:"flex",flexFlow:"column",alignItems:"center",justifyContent:"center",maxWidth:"33%","@media (max-width: 900px)":{maxWidth:"100%",margin:"auto"}},"& .consoleTextBanner":{fontWeight:300,fontSize:"calc(3vw + 3vh + 1.5vmin)",lineHeight:1.15,color:"#ffffff",flex:1,textAlign:"center",height:"100%",display:"flex",justifyContent:"flex-start",margin:"auto",flexFlow:"column",background:"linear-gradient(120deg,#081c42,#073052)","& .logoLine":{display:"flex",alignItems:"center",fontSize:18,marginTop:40},"& .left-items":{margin:"auto",textAlign:"left",paddingRight:240,paddingBottom:200,"@media (max-width: 1400px)":{paddingBottom:120,paddingRight:50},"@media (max-width: 900px)":{paddingBottom:0,paddingRight:0},"@media (max-width: 600px)":{paddingBottom:0,paddingRight:0}},"& .left-logo":{"& .min-icon":{color:"white",width:108},marginBottom:10},"& .text-line1":{font:" 100 70px 'Lato'","@media (max-width: 600px)":{fontSize:35},"@media (max-width: 800px)":{fontSize:45}},"& .text-line2":{fontSize:100,fontWeight:100,textTransform:"uppercase","@media (max-width: 600px)":{fontSize:35,marginLeft:0},"@media (max-width: 800px)":{fontSize:55,marginLeft:0}},"& .logo-console":{display:"flex",alignItems:"center","@media (max-width: 900px)":{marginTop:20,flexFlow:"column","& svg":{width:"50%"}}}}},"@media (max-width: 900px)":{loginContainer:{display:"flex",flexFlow:"column","& .consoleTextBanner":{margin:0,flex:2,"& .left-items":{alignItems:"center",textAlign:"center"},"& .logoLine":{justifyContent:"center"}}}},loadingLoginStrategy:{textAlign:"center"},headerTitle:{marginRight:"auto",marginBottom:15},submitContainer:{textAlign:"right"},linearPredef:{height:10},loaderAlignment:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center",flexDirection:"column"},retryButton:{alignSelf:"flex-end"}},P.bK))}))((function(e){var t=e.classes,n=e.userLoggedIn,r=e.setErrorSnackMessage,s=(0,o.useState)(""),u=(0,a.Z)(s,2),p=u[0],g=u[1],h=(0,o.useState)(""),v=(0,a.Z)(h,2),P=v[0],N=v[1],L=(0,o.useState)(""),C=(0,a.Z)(L,2),k=C[0],B=C[1],E=(0,o.useState)({loginStrategy:i.unknown,redirect:""}),z=(0,a.Z)(E,2),F=z[0],R=z[1],T=(0,o.useState)(!1),W=(0,a.Z)(T,2),M=W[0],_=W[1],K=(0,o.useState)(!0),D=(0,a.Z)(K,2),$=D[0],V=D[1],O={form:"/api/v1/login","service-account":"/api/v1/login/operator"},H={form:{accessKey:p,secretKey:k},"service-account":{jwt:P}},q=function(e){e.preventDefault(),_(!0),b.Z.invoke("POST",O[F.loginStrategy]||"/api/v1/login",H[F.loginStrategy]).then((function(){n(!0),F.loginStrategy===i.form&&localStorage.setItem("userLoggedIn",(0,w.ug)(p));var e="/";localStorage.getItem("redirect-path")&&""!==localStorage.getItem("redirect-path")&&(e="".concat(localStorage.getItem("redirect-path")),localStorage.setItem("redirect-path","")),j.Z.push(e)})).catch((function(e){_(!1),r(e)}))};(0,o.useEffect)((function(){$&&b.Z.invoke("GET","/api/v1/login").then((function(e){R(e),V(!1)})).catch((function(e){r(e),V(!1)}))}),[$,r]);var G=null;switch(F.loginStrategy){case i.form:G=(0,I.jsx)(o.Fragment,{children:(0,I.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:q,children:[(0,I.jsxs)(f.ZP,{container:!0,spacing:2,children:[(0,I.jsx)(f.ZP,{item:!0,xs:12,className:t.spacerBottom,children:(0,I.jsx)(A,{fullWidth:!0,id:"accessKey",className:t.inputField,value:p,onChange:function(e){return g(e.target.value)},placeholder:"Username",name:"accessKey",autoComplete:"username",disabled:M,variant:"outlined",InputProps:{startAdornment:(0,I.jsx)(l.Z,{position:"start",className:t.iconColor,children:(0,I.jsx)(S.oy,{})})}})}),(0,I.jsx)(f.ZP,{item:!0,xs:12,children:(0,I.jsx)(A,{fullWidth:!0,className:t.inputField,value:k,onChange:function(e){return B(e.target.value)},name:"secretKey",type:"password",id:"secretKey",autoComplete:"current-password",disabled:M,placeholder:"Password",variant:"outlined",InputProps:{startAdornment:(0,I.jsx)(l.Z,{position:"start",className:t.iconColor,children:(0,I.jsx)(S.mB,{})})}})})]}),(0,I.jsx)(f.ZP,{item:!0,xs:12,className:t.submitContainer,children:(0,I.jsx)(x.Z,{type:"submit",variant:"contained",color:"primary",className:t.submit,disabled:""===k||""===p||M,children:"Login"})}),(0,I.jsx)(f.ZP,{item:!0,xs:12,className:t.linearPredef,children:M&&(0,I.jsx)(c.Z,{})})]})});break;case i.redirect:G=(0,I.jsx)(o.Fragment,{children:(0,I.jsx)(x.Z,{component:"a",href:F.redirect,type:"submit",variant:"contained",color:"primary",className:t.submit,children:"Login with VASI ID"})});break;case i.serviceAccount:G=(0,I.jsx)(o.Fragment,{children:(0,I.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:q,children:[(0,I.jsx)(f.ZP,{container:!0,spacing:2,children:(0,I.jsx)(f.ZP,{item:!0,xs:12,children:(0,I.jsx)(A,{required:!0,className:t.inputField,fullWidth:!0,id:"jwt",value:P,onChange:function(e){return N(e.target.value)},name:"jwt",autoComplete:"off",disabled:M,placeholder:"Enter JWT",variant:"outlined",InputProps:{startAdornment:(0,I.jsx)(l.Z,{position:"start",children:(0,I.jsx)(S.mB,{})})}})})}),(0,I.jsx)(f.ZP,{item:!0,xs:12,className:t.submitContainer,children:(0,I.jsx)(x.Z,{type:"submit",variant:"contained",color:"primary",className:t.submit,disabled:""===P||M,children:"Login"})}),(0,I.jsx)(f.ZP,{item:!0,xs:12,className:t.linearPredef,children:M&&(0,I.jsx)(c.Z,{})})]})});break;default:G=(0,I.jsx)("div",{className:t.loaderAlignment,children:$?(0,I.jsx)(d.Z,{className:t.loadingLoginStrategy}):(0,I.jsxs)(o.Fragment,{children:[(0,I.jsx)("div",{children:(0,I.jsx)("p",{children:"An error has occurred, the backend cannot be reached."})}),(0,I.jsx)("div",{children:(0,I.jsx)(x.Z,{onClick:function(){V(!0)},endIcon:(0,I.jsx)(Z.default,{}),color:"primary",variant:"outlined",className:t.retryButton,children:"Retry"})})]})})}var J=F.loginStrategy===i.serviceAccount?"Operator":"VASI Data Lake";return(0,I.jsx)(o.Fragment,{children:(0,I.jsxs)(m.Z,{className:t.loginPage,children:[(0,I.jsx)(y.Z,{}),(0,I.jsx)("div",{className:t.shadowBox,children:(0,I.jsxs)(f.ZP,{container:!0,className:t.loginContainer,children:[(0,I.jsx)(f.ZP,{item:!0,className:"consoleTextBanner",children:(0,I.jsxs)("div",{className:"left-items",children:[(0,I.jsx)("div",{className:"text-line1",children:"Welcome to"}),(0,I.jsx)("div",{className:"text-line2",children:J})]})}),(0,I.jsx)(f.ZP,{item:!0,className:"right-items",children:G})]})})]})})})))},63466:function(e,t,n){n.d(t,{Z:function(){return y}});var i=n(4942),a=n(63366),r=n(87462),o=n(72791),s=n(28182),l=n(90767),c=n(14036),d=n(20890),m=n(93840),u=n(52930),p=n(47630),g=n(95159);function x(e){return(0,g.Z)("MuiInputAdornment",e)}var h,f=(0,n(30208).Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),v=n(93736),b=n(80184),j=["children","className","component","disablePointerEvents","disableTypography","position","variant"],Z=(0,p.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["position".concat((0,c.Z)(n.position))],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,r.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:t.palette.action.active},"filled"===n.variant&&(0,i.Z)({},"&.".concat(f.positionStart,"&:not(.").concat(f.hiddenLabel,")"),{marginTop:16}),"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})})),y=o.forwardRef((function(e,t){var n=(0,v.Z)({props:e,name:"MuiInputAdornment"}),i=n.children,p=n.className,g=n.component,f=void 0===g?"div":g,y=n.disablePointerEvents,w=void 0!==y&&y,S=n.disableTypography,P=void 0!==S&&S,I=n.position,N=n.variant,A=(0,a.Z)(n,j),L=(0,u.Z)()||{},C=N;N&&L.variant,L&&!C&&(C=L.variant);var k=(0,r.Z)({},n,{hiddenLabel:L.hiddenLabel,size:L.size,disablePointerEvents:w,position:I,variant:C}),B=function(e){var t=e.classes,n=e.disablePointerEvents,i=e.hiddenLabel,a=e.position,r=e.size,o=e.variant,s={root:["root",n&&"disablePointerEvents",a&&"position".concat((0,c.Z)(a)),o,i&&"hiddenLabel",r&&"size".concat((0,c.Z)(r))]};return(0,l.Z)(s,x,t)}(k);return(0,b.jsx)(m.Z.Provider,{value:null,children:(0,b.jsx)(Z,(0,r.Z)({as:f,ownerState:k,className:(0,s.Z)(B.root,p),ref:t},A,{children:"string"!==typeof i||P?(0,b.jsxs)(o.Fragment,{children:["start"===I?h||(h=(0,b.jsx)("span",{className:"notranslate",children:"\u200b"})):null,i]}):(0,b.jsx)(d.Z,{color:"text.secondary",children:i})}))})}))},96532:function(e,t){var n=60103,i=60106,a=60107,r=60108,o=60114,s=60109,l=60110,c=60112,d=60113,m=60120,u=60115,p=60116,g=60121,x=60122,h=60117,f=60129,v=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),i=b("react.portal"),a=b("react.fragment"),r=b("react.strict_mode"),o=b("react.profiler"),s=b("react.provider"),l=b("react.context"),c=b("react.forward_ref"),d=b("react.suspense"),m=b("react.suspense_list"),u=b("react.memo"),p=b("react.lazy"),g=b("react.block"),x=b("react.server.block"),h=b("react.fundamental"),f=b("react.debug_trace_mode"),v=b("react.legacy_hidden")}function j(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case a:case o:case r:case d:case m:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case u:case s:return e;default:return t}}case i:return t}}}},78457:function(e,t,n){n(96532)}}]);
//# sourceMappingURL=8829.55b10a45.chunk.js.map