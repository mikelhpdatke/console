"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[6112],{40603:function(e,n,t){var a=t(1413),i=t(45987),o=(t(72791),t(85531)),r=t(72455),l=t(80184),s=["onClick","text","disabled","tooltip","icon"],c=(0,r.Z)((function(e){return{root:{padding:"7px",color:function(n){return function(n){var t=n.variant,a=n.color,i=e.palette.primary.main;return"primary"===a&&"contained"===t?i=e.palette.primary.contrastText:"primary"===a&&"outlined"===t?i=e.palette.primary.main:"secondary"===a&&(i=e.palette.secondary.main),i}(n)},borderColor:function(n){return"secondary"===n.color?e.palette.secondary.main:e.palette.primary.main},"& svg.min-icon":{width:12,marginLeft:function(e){return e.text?"5px":"0px"},"@media (max-width: 900px)":{width:16,marginLeft:"0px !important"}}}}}));n.Z=function(e){var n=c(e),t=e.onClick,r=e.text,d=void 0===r?"":r,u=e.disabled,m=void 0!==u&&u,x=e.tooltip,h=e.icon,p=void 0===h?null:h,g=(0,i.Z)(e,s);return(0,l.jsxs)(o.Z,(0,a.Z)((0,a.Z)({classes:n,tooltip:x||d,variant:"outlined",onClick:t,disabled:m,color:"secondary",size:"medium",sx:{border:"1px solid #f44336","& span":{fontSize:14,"@media (max-width: 900px)":{display:"none"}}}},g),{},{children:[(0,l.jsx)("span",{children:d})," ",p]}))}},81806:function(e,n,t){var a=t(1413),i=t(45987),o=(t(72791),t(11135)),r=t(25787),l=t(80184),s=["classes","children"];n.Z=(0,r.Z)((function(e){return(0,o.Z)({root:{padding:0,margin:0,border:0,backgroundColor:"transparent",textDecoration:"underline",cursor:"pointer",fontSize:"inherit",color:e.palette.info.main,fontFamily:"Lato, sans-serif"}})}))((function(e){var n=e.classes,t=e.children,o=(0,i.Z)(e,s);return(0,l.jsx)("button",(0,a.Z)((0,a.Z)({},o),{},{className:n.root,children:t}))}))},81159:function(e,n,t){var a=t(4942),i=t(1413),o=t(72791),r=t(11135),l=t(25787),s=t(9955),c=t(30829),d=t(20068),u=t(20890),m=t(61889),x=t(23814),h=t(84570),p=t(28182),g=t(80184),f=(0,l.Z)((function(e){return{root:{width:50,height:24,padding:0,margin:0},switchBase:{padding:1,"&$checked":{transform:"translateX(24px)",color:e.palette.common.white,"& + $track":{backgroundColor:"#4CCB92",boxShadow:"inset 0px 1px 4px rgba(0,0,0,0.1)",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#4CCB92",border:"6px solid #fff"}},thumb:{width:22,height:22,backgroundColor:"#FAFAFA",border:"2px solid #FFFFFF",marginLeft:1},track:{borderRadius:12,backgroundColor:"#E2E2E2",boxShadow:"inset 0px 1px 4px rgba(0,0,0,0.1)",opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{},switchContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end"}}}))(s.Z);n.Z=(0,l.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)({divContainer:{marginBottom:20},indicatorLabelOn:{fontWeight:"bold",color:"#081C42 !important"},indicatorLabel:{fontSize:12,color:"#E2E2E2",margin:"0 8px 0 10px"},fieldDescription:{marginTop:4,color:"#999999"},tooltip:{fontSize:16}},x.OR),x.YI))}))((function(e){var n=e.label,t=void 0===n?"":n,i=e.onChange,r=e.value,l=e.id,s=e.name,x=e.checked,v=void 0!==x&&x,b=e.disabled,Z=void 0!==b&&b,j=e.switchOnly,y=void 0!==j&&j,C=e.tooltip,w=void 0===C?"":C,k=e.description,S=void 0===k?"":k,E=e.classes,N=e.indicatorLabels,P=(0,g.jsxs)(o.Fragment,{children:[!y&&(0,g.jsx)("span",{className:(0,p.Z)(E.indicatorLabel,(0,a.Z)({},E.indicatorLabelOn,!v)),children:N&&N.length>1?N[1]:"OFF"}),(0,g.jsx)(f,{checked:v,onChange:i,color:"primary",name:s,inputProps:{"aria-label":"primary checkbox"},disabled:Z,disableRipple:!0,disableFocusRipple:!0,disableTouchRipple:!0,value:r}),!y&&(0,g.jsx)("span",{className:(0,p.Z)(E.indicatorLabel,(0,a.Z)({},E.indicatorLabelOn,v)),children:N?N[0]:"ON"})]});return y?P:(0,g.jsx)("div",{className:E.divContainer,children:(0,g.jsxs)(m.ZP,{container:!0,alignItems:"center",children:[(0,g.jsx)(m.ZP,{item:!0,xs:!0,children:(0,g.jsxs)(m.ZP,{container:!0,children:[(0,g.jsx)(m.ZP,{item:!0,xs:12,sm:4,md:3,children:""!==t&&(0,g.jsxs)(c.Z,{htmlFor:l,className:E.inputLabel,children:[(0,g.jsx)("span",{children:t}),""!==w&&(0,g.jsx)("div",{className:E.tooltipContainer,children:(0,g.jsx)(d.Z,{title:w,placement:"top-start",children:(0,g.jsx)("div",{className:E.tooltip,children:(0,g.jsx)(h.Z,{})})})})]})}),(0,g.jsx)(m.ZP,{item:!0,xs:12,sm:!0,textAlign:"left",children:""!==S&&(0,g.jsx)(u.Z,{component:"p",className:E.fieldDescription,children:S})})]})}),(0,g.jsx)(m.ZP,{item:!0,xs:12,sm:2,textAlign:"right",className:E.switchContainer,children:P})]})})}))},21435:function(e,n,t){var a=t(1413),i=t(72791),o=t(27391),r=t(61889),l=t(30829),s=t(20068),c=t(13400),d=t(11135),u=t(72455),m=t(25787),x=t(23814),h=t(84570),p=t(28182),g=t(80184),f=(0,u.Z)((function(e){return(0,d.Z)((0,a.Z)({},x.gM))}));function v(e){var n=f();return(0,g.jsx)(o.Z,(0,a.Z)({InputProps:{classes:n}},e))}n.Z=(0,m.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},x.YI),x.Hr),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}},inputLabel:(0,a.Z)((0,a.Z)({},x.YI.inputLabel),{},{fontWeight:"normal"})}))}))((function(e){var n=e.label,t=e.onChange,o=e.value,d=e.id,u=e.name,m=e.type,x=void 0===m?"text":m,f=e.autoComplete,b=void 0===f?"off":f,Z=e.disabled,j=void 0!==Z&&Z,y=e.multiline,C=void 0!==y&&y,w=e.tooltip,k=void 0===w?"":w,S=e.index,E=void 0===S?0:S,N=e.error,P=void 0===N?"":N,I=e.required,R=void 0!==I&&I,L=e.placeholder,F=void 0===L?"":L,M=e.min,D=e.max,T=e.overlayIcon,B=void 0===T?null:T,O=e.overlayObject,z=void 0===O?null:O,_=e.extraInputProps,A=void 0===_?{}:_,W=e.overlayAction,$=e.noLabelMinWidth,U=void 0!==$&&$,V=e.pattern,H=void 0===V?"":V,Y=e.autoFocus,q=void 0!==Y&&Y,Q=e.classes,X=e.className,G=void 0===X?"":X,J=(0,a.Z)({"data-index":E},A);return"number"===x&&M&&(J.min=M),"number"===x&&D&&(J.max=D),""!==H&&(J.pattern=H),(0,g.jsx)(i.Fragment,{children:(0,g.jsxs)(r.ZP,{container:!0,className:(0,p.Z)(""!==G?G:"",""!==P?Q.errorInField:Q.inputBoxContainer),children:[""!==n&&(0,g.jsxs)(l.Z,{htmlFor:d,className:U?Q.noMinWidthLabel:Q.inputLabel,children:[(0,g.jsxs)("span",{children:[n,R?"*":""]}),""!==k&&(0,g.jsx)("div",{className:Q.tooltipContainer,children:(0,g.jsx)(s.Z,{title:k,placement:"top-start",children:(0,g.jsx)("div",{className:Q.tooltip,children:(0,g.jsx)(h.Z,{})})})})]}),(0,g.jsxs)("div",{className:Q.textBoxContainer,children:[(0,g.jsx)(v,{id:d,name:u,fullWidth:!0,value:o,autoFocus:q,disabled:j,onChange:t,type:x,multiline:C,autoComplete:b,inputProps:J,error:""!==P,helperText:P,placeholder:F,className:Q.inputRebase}),B&&(0,g.jsx)("div",{className:"".concat(Q.overlayAction," ").concat(""!==n?"withLabel":""),children:(0,g.jsx)(c.Z,{onClick:W?function(){W()}:function(){return null},size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:B})}),z&&(0,g.jsx)("div",{className:"".concat(Q.overlayAction," ").concat(""!==n?"withLabel":""),children:z})]})]})})}))},401:function(e,n,t){t.d(n,{Z:function(){return E}});var a,i=t(70885),o=t(1413),r=t(72791),l=t(60364),s=t(13400),c=t(55646),d=t(5574),u=t(65661),m=t(39157),x=t(11135),h=t(25787),p=t(23814),g=t(42649),f=t(26181),v=t.n(f),b=t(10215),Z=t(15146),j=t(29823),y=t(80184),C=function(){clearInterval(a)},w={displayErrorMessage:g.zb},k=(0,l.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),w)((0,h.Z)((function(e){return(0,x.Z)({modalErrorContainer:{position:"absolute",marginTop:10,width:"80%",backgroundColor:"#fff",border:"#C72C48 1px solid",borderLeftWidth:12,borderRadius:3,zIndex:1e3,padding:"10px 15px",left:"50%",transform:"translateX(-50%)",opacity:0,transitionDuration:"0.2s"},modalErrorShow:{opacity:1},closeButton:{position:"absolute",right:5,fontSize:"small",border:0,backgroundColor:"#fff",cursor:"pointer"},errorTitle:{display:"flex",alignItems:"center"},errorLabel:{color:"#000",fontSize:18,fontWeight:500,marginLeft:5,marginRight:25},messageIcon:{color:"#C72C48",display:"flex","& svg":{width:32,height:32}},detailsButton:{color:"#9C9C9C",display:"flex",alignItems:"center",border:0,backgroundColor:"transparent",paddingLeft:5,fontSize:14,transformDuration:"0.3s",cursor:"pointer"},extraDetailsContainer:{fontStyle:"italic",color:"#9C9C9C",lineHeight:0,padding:"0 10px",transition:"all .2s ease-in-out",overflow:"hidden"},extraDetailsOpen:{lineHeight:1,padding:"3px 10px"},arrowElement:{marginLeft:-5},arrowOpen:{transform:"rotateZ(90deg)",transformDuration:"0.3s"}})}))((function(e){var n=e.classes,t=e.modalSnackMessage,o=e.displayErrorMessage,l=e.customStyle,s=(0,r.useState)(!1),c=(0,i.Z)(s,2),d=c[0],u=c[1],m=(0,r.useState)(!1),x=(0,i.Z)(m,2),h=x[0],p=x[1],g=(0,r.useCallback)((function(){p(!1)}),[]);(0,r.useEffect)((function(){h||(o({detailedError:"",errorMessage:""}),u(!1))}),[o,h]),(0,r.useEffect)((function(){""!==t.message&&"error"===t.type&&p(!0)}),[g,t.message,t.type]);var f=v()(t,"message",""),w=v()(t,"detailedErrorMsg","");return"error"!==t.type||""===f?null:(0,y.jsx)(r.Fragment,{children:(0,y.jsxs)("div",{className:"".concat(n.modalErrorContainer," ").concat(h?n.modalErrorShow:""),style:l,onMouseOver:C,onMouseLeave:function(){a=setInterval(g,1e4)},children:[(0,y.jsx)("button",{className:n.closeButton,onClick:g,children:(0,y.jsx)(j.Z,{})}),(0,y.jsxs)("div",{className:n.errorTitle,children:[(0,y.jsx)("span",{className:n.messageIcon,children:(0,y.jsx)(Z.Z,{})}),(0,y.jsx)("span",{className:n.errorLabel,children:f})]}),""!==w&&(0,y.jsxs)(r.Fragment,{children:[(0,y.jsx)("div",{className:n.detailsContainerLink,children:(0,y.jsxs)("button",{className:n.detailsButton,onClick:function(){u(!d)},children:["Details",(0,y.jsx)(b.Z,{className:"".concat(n.arrowElement," ").concat(d?n.arrowOpen:"")})]})}),(0,y.jsx)("div",{className:"".concat(n.extraDetailsContainer," ").concat(d?n.extraDetailsOpen:""),children:w})]})]})})}))),S=(0,l.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:g.MK}),E=(0,h.Z)((function(e){return(0,x.Z)((0,o.Z)((0,o.Z)({},p.Qw),{},{root:{"& .MuiPaper-root":{padding:"0 2rem 2rem 1rem"}},content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},p.sN))}))(S((function(e){var n=e.onClose,t=e.modalOpen,a=e.title,l=e.children,x=e.classes,h=e.wideLimit,p=void 0===h||h,g=e.modalSnackMessage,f=e.noContentPadding,v=e.setModalSnackMessage,b=e.titleIcon,Z=void 0===b?null:b,C=(0,r.useState)(!1),w=(0,i.Z)(C,2),S=w[0],E=w[1];(0,r.useEffect)((function(){v("")}),[v]),(0,r.useEffect)((function(){if(g){if(""===g.message)return void E(!1);"error"!==g.type&&E(!0)}}),[g]);var N=p?{classes:{paper:x.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},P="";return g&&(P=g.detailedErrorMsg,(""===g.detailedErrorMsg||g.detailedErrorMsg.length<5)&&(P=g.message)),(0,y.jsxs)(d.Z,(0,o.Z)((0,o.Z)({open:t,classes:x},N),{},{scroll:"paper",onClose:function(e,t){"backdropClick"!==t&&n()},className:x.root,children:[(0,y.jsxs)(u.Z,{className:x.title,children:[(0,y.jsxs)("div",{className:x.titleText,children:[Z," ",a]}),(0,y.jsx)("div",{className:x.closeContainer,children:(0,y.jsx)(s.Z,{"aria-label":"close",className:x.closeButton,onClick:n,disableRipple:!0,size:"small",children:(0,y.jsx)(j.Z,{})})})]}),(0,y.jsx)(k,{}),(0,y.jsx)(c.Z,{open:S,className:x.snackBarModal,onClose:function(){E(!1),v("")},message:P,ContentProps:{className:"".concat(x.snackBar," ").concat(g&&"error"===g.type?x.errorSnackBar:"")},autoHideDuration:g&&"error"===g.type?1e4:5e3}),(0,y.jsx)(m.Z,{className:f?"":x.content,children:l})]}))})))},45902:function(e,n,t){t.r(n);var a=t(1413),i=(t(72791),t(53767)),o=t(80184);n.default=function(e){var n=e.label,t=void 0===n?null:n,r=e.value,l=void 0===r?"-":r,s=e.orientation,c=void 0===s?"column":s,d=e.stkProps,u=void 0===d?{}:d,m=e.lblProps,x=void 0===m?{}:m,h=e.valProps,p=void 0===h?{}:h;return(0,o.jsxs)(i.Z,(0,a.Z)((0,a.Z)({direction:{xs:"column",sm:c}},u),{},{children:[(0,o.jsx)("label",(0,a.Z)((0,a.Z)({style:{marginRight:5,fontWeight:600}},x),{},{children:t})),(0,o.jsx)("label",(0,a.Z)((0,a.Z)({style:{marginRight:5,fontWeight:500}},p),{},{children:l}))]}))}},49724:function(e,n,t){t.d(n,{dv:function(){return o},OU:function(){return r},Yk:function(){return l}});var a=t(26181),i=t.n(a),o=function(e){return e.map((function(e){return{label:e,value:e}}))},r=function(e){var n=i()(e,"elements",[]),t={};return n.forEach((function(e){var n=e.name.split(".storageclass.storage.k8s.io/requests.storage")[0],a=i()(e,"hard",0),o=i()(e,"used",0);t[n]=a-o})),t},l=function(e){return""!==e.currentState&&(!(!e.status&&"green"!==e.health_status&&"yellow"!==e.health_status)&&(!e.status||"green"===e.status.health_status||"yellow"===e.status.health_status))}},36112:function(e,n,t){t.r(n),t.d(n,{default:function(){return q}});var a=t(70885),i=t(1413),o=t(72791),r=t(60364),l=t(26181),s=t.n(l),c=t(11135),d=t(25787),u=t(23814),m=t(53767),x=t(61889),h=t(64554),p=t(10703),g=t(36151),f=t(42649),v=t(401),b=t(21435),Z=t(81159),j=t(81207),y=t(80184),C=(0,r.$j)(null,{setModalErrorSnackMessage:f.zb}),w=(0,d.Z)((function(e){return(0,c.Z)((0,i.Z)((0,i.Z)({buttonContainer:{textAlign:"right"},infoText:{fontSize:14}},u.DF),u.ID))}))(C((function(e){var n=e.open,t=e.closeModalAndRefresh,r=e.namespace,l=e.idTenant,s=e.setModalErrorSnackMessage,c=e.classes,d=(0,o.useState)(!1),u=(0,a.Z)(d,2),m=u[0],h=u[1],p=(0,o.useState)(""),f=(0,a.Z)(p,2),C=f[0],w=f[1],k=(0,o.useState)(!1),S=(0,a.Z)(k,2),E=S[0],N=S[1],P=(0,o.useState)(""),I=(0,a.Z)(P,2),R=I[0],L=I[1],F=(0,o.useState)(""),M=(0,a.Z)(F,2),D=M[0],T=M[1],B=(0,o.useState)(""),O=(0,a.Z)(B,2),z=O[0],_=O[1],A=(0,o.useState)(!0),W=(0,a.Z)(A,2),$=W[0],U=W[1],V=(0,o.useCallback)((function(e){var n=new RegExp("^$|^((.*?)/(.*?):(.+))$");if("minioImage"===e)U(n.test(C))}),[C]);(0,o.useEffect)((function(){V("minioImage")}),[C,V]);return(0,y.jsx)(v.Z,{title:"Update MinIO Version",modalOpen:n,onClose:function(){t(!1)},children:(0,y.jsxs)(x.ZP,{container:!0,children:[(0,y.jsxs)(x.ZP,{item:!0,xs:12,className:c.modalFormScrollable,children:[(0,y.jsx)("div",{className:c.infoText,children:"Please enter the MinIO image from dockerhub to use. If blank, then latest build will be used."}),(0,y.jsx)("br",{}),(0,y.jsx)("br",{}),(0,y.jsx)(x.ZP,{item:!0,xs:12,className:c.formFieldRow,children:(0,y.jsx)(b.Z,{value:C,label:"MinIO's Image",id:"minioImage",name:"minioImage",placeholder:"E.g. minio/minio:RELEASE.2022-01-08T03-11-54Z",onChange:function(e){w(e.target.value)}})}),(0,y.jsx)(x.ZP,{item:!0,xs:12,className:c.formFieldRow,children:(0,y.jsx)(Z.Z,{value:"imageRegistry",id:"setImageRegistry",name:"setImageRegistry",checked:E,onChange:function(e){N(!E)},label:"Set Custom Image Registry",indicatorLabels:["Yes","No"]})}),E&&(0,y.jsxs)(o.Fragment,{children:[(0,y.jsx)(x.ZP,{item:!0,xs:12,className:c.formFieldRow,children:(0,y.jsx)(b.Z,{value:R,label:"Endpoint",id:"imageRegistry",name:"imageRegistry",placeholder:"E.g. https://index.docker.io/v1/",onChange:function(e){L(e.target.value)}})}),(0,y.jsx)(x.ZP,{item:!0,xs:12,className:c.formFieldRow,children:(0,y.jsx)(b.Z,{value:D,label:"Username",id:"imageRegistryUsername",name:"imageRegistryUsername",placeholder:"Enter image registry username",onChange:function(e){T(e.target.value)}})}),(0,y.jsx)(x.ZP,{item:!0,xs:12,className:c.formFieldRow,children:(0,y.jsx)(b.Z,{value:z,label:"Password",id:"imageRegistryPassword",name:"imageRegistryPassword",placeholder:"Enter image registry password",onChange:function(e){_(e.target.value)}})})]})]}),(0,y.jsxs)(x.ZP,{item:!0,xs:12,className:c.modalButtonBar,children:[(0,y.jsx)(g.Z,{type:"button",color:"primary",variant:"outlined",onClick:function(){w(""),N(!1),L(""),T(""),_("")},children:"Clear"}),(0,y.jsx)(g.Z,{type:"submit",variant:"contained",color:"primary",disabled:!$||E&&(""===R.trim()||""===D.trim()||""===z.trim())||m,onClick:function(){h(!0);var e={image:C,enable_prometheus:!0};if(E){var n={image_registry:{registry:R,username:D,password:z}};e=(0,i.Z)((0,i.Z)({},e),n)}j.Z.invoke("PUT","/api/v1/namespaces/".concat(r,"/tenants/").concat(l),e).then((function(){h(!1),t(!0)})).catch((function(e){s(e),h(!1)}))},children:"Save"})]})]})})}))),k=t(62666),S=t(49724),E=t(81806),N=t(106),P=t(40986),I=t(13239),R=t(22512),L=t(96389),F=t(45902),M=t(45248),D=(0,d.Z)((function(e){return{root:{height:10,borderRadius:5},colorPrimary:{backgroundColor:"#F4F4F4"},bar:{borderRadius:5,backgroundColor:"#081C42"},padChart:{padding:"5px"}}}))(P.Z),T=(0,d.Z)((function(e){return(0,c.Z)({allValue:{fontSize:16,fontWeight:700,marginBottom:8},currentUsage:{fontSize:12,marginTop:8},centerItem:{textAlign:"center"}})}))((function(e){var n=e.classes,t=e.maxValue,a=e.currValue,i=e.healthStatus,r=e.loading,l=e.error,s={value:"n/a",unit:""},c={value:"n/a",unit:""};if(t){var d=(0,M.ae)("".concat(t),!0).split(" ");s.value=d[0],s.unit=d[1]}if(a){var u=(0,M.ae)("".concat(a),!0).split(" ");c.value=u[0],c.unit=u[1]}var h=0;a&&t&&(h=100*a/t);return(0,y.jsxs)(o.Fragment,{children:[r&&(0,y.jsx)("div",{className:n.padChart,children:(0,y.jsx)(x.ZP,{item:!0,xs:12,className:n.centerItem,children:(0,y.jsx)(I.Z,{color:"primary",size:40,variant:"indeterminate"})})}),r?null:""!==l?(0,y.jsx)(R.Z,{errorMessage:l,withBreak:!1}):(0,y.jsxs)(x.ZP,{item:!0,xs:12,children:[(0,y.jsx)(D,{variant:"determinate",value:h}),(0,y.jsxs)(m.Z,{direction:{xs:"column",sm:"row"},spacing:{xs:1,sm:2,md:4},alignItems:"stretch",margin:"15px 0 15px 0",children:[(0,y.jsx)(F.default,{label:"Storage Capacity:",orientation:"row",value:"".concat(s.value," ").concat(s.unit)}),(0,y.jsx)(F.default,{label:"Used:",orientation:"row",value:"".concat(c.value," ").concat(c.unit)}),i&&(0,y.jsx)(F.default,{orientation:"row",label:"Health:",value:(0,y.jsx)("span",{className:i,children:(0,y.jsx)(L.J$,{})})})]})]})]})})),B=t(45987),O=["children"],z=function(e){var n=e.children,t=void 0===n?null:n,a=(0,B.Z)(e,O);return(0,y.jsx)(m.Z,(0,i.Z)((0,i.Z)({direction:{xs:"column",sm:"row"},justifyContent:"space-between",margin:"5px 0 5px 0",spacing:{xs:1,sm:2,md:4}},a),{},{children:t}))},_=t(40603),A=(0,N.Z)(p.Z)((function(e){e.theme;return{border:0}})),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"red",n=arguments.length>1?arguments[1]:void 0;return"red"===e?n.redState:"yellow"===e?n.yellowState:"green"===e?n.greenState:n.greyState},$=function(e){var n,t,a,i,o,r=e.tenant,l=e.classes;return(0,y.jsx)(T,{currValue:null===r||void 0===r||null===(n=r.status)||void 0===n||null===(t=n.usage)||void 0===t?void 0:t.raw_usage,maxValue:null===r||void 0===r||null===(a=r.status)||void 0===a||null===(i=a.usage)||void 0===i?void 0:i.raw,label:"Storage",error:"",loading:!1,healthStatus:W(null===r||void 0===r||null===(o=r.status)||void 0===o?void 0:o.health_status,l)})},U=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,y.jsx)(Z.Z,{indicatorLabels:["Enabled","Disabled"],checked:e,value:e,id:"".concat(n,"-status"),name:"".concat(n,"-status"),onChange:function(){},switchOnly:!0})},V={display:"flex",justifyContent:"space-between",marginTop:"10px","@media (max-width: 600px)":{flexFlow:"column"}},H={stkProps:{sx:{flex:1,marginRight:10,display:"flex",alignItems:"center",justifyContent:"space-between","@media (max-width: 900px)":{marginRight:"25px"}}},lblProps:{style:{minWidth:100}}},Y=(0,r.$j)((function(e){return{loadingTenant:e.tenants.tenantDetails.loadingTenant,selectedTenant:e.tenants.tenantDetails.currentTenant,tenant:e.tenants.tenantDetails.tenantInfo,logEnabled:s()(e.tenants.tenantDetails.tenantInfo,"logEnabled",!1),monitoringEnabled:s()(e.tenants.tenantDetails.tenantInfo,"monitoringEnabled",!1),encryptionEnabled:s()(e.tenants.tenantDetails.tenantInfo,"encryptionEnabled",!1),minioTLS:s()(e.tenants.tenantDetails.tenantInfo,"minioTLS",!1),consoleTLS:s()(e.tenants.tenantDetails.tenantInfo,"consoleTLS",!1),consoleEnabled:s()(e.tenants.tenantDetails.tenantInfo,"consoleEnabled",!1),adEnabled:s()(e.tenants.tenantDetails.tenantInfo,"idpAdEnabled",!1),oidcEnabled:s()(e.tenants.tenantDetails.tenantInfo,"idpOidcEnabled",!1)}}),null),q=(0,d.Z)((function(e){return(0,c.Z)((0,i.Z)((0,i.Z)({},u.oZ),{},{redState:{color:e.palette.error.main,"& .min-icon":{width:16,height:16,marginRight:4}},yellowState:{color:e.palette.warning.main,"& .min-icon":{width:16,height:16,marginRight:4}},greenState:{color:e.palette.success.main,"& .min-icon":{width:16,height:16,marginRight:4}},greyState:{color:"grey","& .min-icon":{width:16,height:16,marginRight:4}},centerAlign:{textAlign:"center"},detailSection:{"& div":{"& b,i":{minWidth:80,display:"block",float:"left"},"& i":{fontStyle:"normal",wordWrap:"break-word",overflowWrap:"break-word"},"& div":{clear:"both"},clear:"both",marginBottom:2}},linkedSection:{color:e.palette.info.main}},(0,u.Bz)(e.spacing(4))))}))(Y((function(e){var n,t,r,l,s,c,d,u,p,g,f=e.classes,v=e.match,b=e.tenant,Z=e.logEnabled,j=e.monitoringEnabled,C=e.encryptionEnabled,N=e.minioTLS,P=(e.consoleTLS,e.consoleEnabled,e.adEnabled),I=e.oidcEnabled,R=(e.loadingTenant,(0,o.useState)(0)),M=(0,a.Z)(R,2),D=M[0],T=M[1],B=(0,o.useState)(0),O=(0,a.Z)(B,2),W=O[0],Y=O[1],q=(0,o.useState)(0),Q=(0,a.Z)(q,2),X=Q[0],G=Q[1],J=(0,o.useState)(!1),K=(0,a.Z)(J,2),ee=K[0],ne=K[1],te=v.params.tenantName,ae=v.params.tenantNamespace;return(0,o.useEffect)((function(){b&&(T(b.pools.length),G(b.total_volumes||0),Y(b.total_instances||0))}),[b]),(0,y.jsxs)(o.Fragment,{children:[ee&&(0,y.jsx)(w,{open:ee,closeModalAndRefresh:function(){ne(!1)},idTenant:te,namespace:ae}),(0,y.jsxs)(m.Z,{direction:{xs:"column-reverse",sm:"row"},justifyContent:"space-between",children:[(0,y.jsx)(A,{children:(0,y.jsx)("h3",{children:"Details"})}),(0,y.jsx)(A,{children:(0,y.jsx)(_.Z,{tooltip:"Manage Tenant",text:"Manage Tenant",onClick:function(){k.Z.push("/namespaces/".concat(ae,"/tenants/").concat(te,"/hop"))},disabled:!b||!(0,S.Yk)(b),icon:(0,y.jsx)(L.ew,{}),color:"primary",variant:"contained"})})]}),(0,y.jsx)($,{tenant:b,classes:f}),(0,y.jsxs)(x.ZP,{container:!0,children:[(0,y.jsxs)(x.ZP,{item:!0,xs:12,sm:12,md:8,children:[(0,y.jsx)(x.ZP,{item:!0,xs:12,children:(0,y.jsx)(F.default,{label:"State:",value:null===b||void 0===b?void 0:b.currentState})}),(0,y.jsx)(x.ZP,{item:!0,xs:12,children:(0,y.jsx)(F.default,{label:"MinIO:",value:(0,y.jsx)(E.Z,{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",wordBreak:"break-all"},onClick:function(){ne(!0)},children:b?b.image:""})})}),(0,y.jsx)(x.ZP,{item:!0,xs:12,children:(0,y.jsx)(F.default,{label:"Endpoint:",value:(0,y.jsx)("a",{href:null===b||void 0===b||null===(n=b.endpoints)||void 0===n?void 0:n.minio,target:"_blank",rel:"noopener noreferrer",className:f.linkedSection,children:(null===b||void 0===b||null===(t=b.endpoints)||void 0===t?void 0:t.minio)||"-"})})}),(0,y.jsx)(x.ZP,{item:!0,xs:12,children:(0,y.jsx)(F.default,{label:"Console:",value:(0,y.jsx)("a",{href:null===b||void 0===b||null===(r=b.endpoints)||void 0===r?void 0:r.console,target:"_blank",rel:"noopener noreferrer",className:f.linkedSection,children:(null===b||void 0===b||null===(l=b.endpoints)||void 0===l?void 0:l.console)||"-"})})})]}),(0,y.jsxs)(x.ZP,{item:!0,xs:12,sm:12,md:4,children:[(0,y.jsx)(x.ZP,{item:!0,xs:12,children:(0,y.jsx)(F.default,{label:"Instances:",value:W})}),(0,y.jsx)(x.ZP,{item:!0,xs:12,children:(0,y.jsx)(F.default,{label:"Clusters:",value:D,stkProps:{style:{marginRight:47}}})}),(0,y.jsx)(x.ZP,{item:!0,xs:12,children:(0,y.jsx)(F.default,{label:"Total Drives:",value:X,stkProps:{style:{marginRight:43}}})}),(0,y.jsx)(x.ZP,{item:!0,xs:12,children:(0,y.jsx)(F.default,{label:"Write Quorum:",value:null!==b&&void 0!==b&&null!==(s=b.status)&&void 0!==s&&s.write_quorum?null===b||void 0===b||null===(c=b.status)||void 0===c?void 0:c.write_quorum:0})}),(0,y.jsx)(x.ZP,{item:!0,xs:12,children:(0,y.jsx)(F.default,{label:"Drives Online:",value:null!==b&&void 0!==b&&null!==(d=b.status)&&void 0!==d&&d.drives_online?null===b||void 0===b||null===(u=b.status)||void 0===u?void 0:u.drives_online:0,stkProps:{style:{marginRight:8}}})}),(0,y.jsx)(x.ZP,{item:!0,xs:12,children:(0,y.jsx)(F.default,{label:"Drives Offline:",value:null!==b&&void 0!==b&&null!==(p=b.status)&&void 0!==p&&p.drives_offline?null===b||void 0===b||null===(g=b.status)||void 0===g?void 0:g.drives_offline:0,stkProps:{style:{marginRight:7}}})})]})]}),(0,y.jsxs)(m.Z,{children:[(0,y.jsx)(z,{sx:{borderBottom:"1px solid #eaeaea",margin:0},children:(0,y.jsx)("h3",{style:{marginBottom:10},children:"Features"})}),(0,y.jsxs)(h.Z,{sx:(0,i.Z)({},V),children:[(0,y.jsx)(F.default,(0,i.Z)({orientation:"row",label:"Logs:",value:U(Z,"tenant-log")},H)),(0,y.jsx)(F.default,(0,i.Z)({orientation:"row",label:"AD/LDAP:",value:U(P,"tenant-sts")},H)),(0,y.jsx)(F.default,(0,i.Z)({orientation:"row",label:"Encryption:",value:U(C,"tenant-enc")},H))]}),(0,y.jsxs)(h.Z,{sx:(0,i.Z)({},V),children:[(0,y.jsx)(F.default,(0,i.Z)({orientation:"row",label:"MinIO TLS:",value:U(N,"tenant-tls")},H)),(0,y.jsx)(F.default,(0,i.Z)({orientation:"row",label:"Monitoring:",value:U(j,"tenant-monitor")},H)),(0,y.jsx)(F.default,(0,i.Z)({orientation:"row",label:"OpenID:",value:U(I,"tenant-oidc")},H))]})]})]})})))},22512:function(e,n,t){var a=t(72791),i=t(20890),o=t(11135),r=t(25787),l=t(80184);n.Z=(0,r.Z)((function(e){var n;return(0,o.Z)({errorBlock:{color:(null===(n=e.palette)||void 0===n?void 0:n.error.main)||"#C83B51"}})}))((function(e){var n=e.classes,t=e.errorMessage,o=e.withBreak,r=void 0===o||o;return(0,l.jsxs)(a.Fragment,{children:[r&&(0,l.jsx)("br",{}),(0,l.jsx)(i.Z,{component:"p",variant:"body1",className:n.errorBlock,children:t})]})}))}}]);
//# sourceMappingURL=6112.f379bc0f.chunk.js.map