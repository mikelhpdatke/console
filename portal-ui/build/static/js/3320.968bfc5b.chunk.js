"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[3320],{92217:function(e,o,n){var t=n(42982),a=n(70885),r=n(1413),i=n(72791),l=n(61889),s=(n(2574),n(69874)),c=n(9461),d=n(73975),u=n(80745),m=n(30829),p=n(20068),f=n(64554),x=n(11135),h=n(25787),g=n(84570),b=n(23814),Z=n(96389),v=n(40603),j=n(78029),C=n.n(j),k=n(64294),y=n(80184),N={json:d.AV,yaml:function(){return c.i.define(u.r)}},S=k.tk.theme({"&":{backgroundColor:"#FBFAFA"},".cm-content":{caretColor:"#05122B"},"&.cm-focused .cm-cursor":{borderLeftColor:"#05122B"},".cm-gutters":{backgroundColor:"#FBFAFA",color:"#000000",border:"none"},".cm-gutter.cm-foldGutter":{borderRight:"1px solid #eaeaea"},".cm-gutterElement":{fontSize:"13px"},".cm-line":{fontSize:"13px",color:"#2781B0","& .\u037cc":{color:"#C83B51"}},"& .\u037cb":{color:"#2781B0"},".cm-activeLine":{backgroundColor:"#dde1f1"},".cm-matchingBracket":{backgroundColor:"#05122B",color:"#ffffff"},".cm-selectionMatch":{backgroundColor:"#ebe7f1"},".cm-selectionLayer":{fontWeight:500}," .cm-selectionBackground":{backgroundColor:"#a180c7",color:"#ffffff"}},{dark:!1}),B=k.tk.theme({"&":{backgroundColor:"#282a36",color:"#ffb86c"},".cm-gutter.cm-foldGutter":{borderRight:"1px solid #eaeaea"},".cm-gutterElement":{fontSize:"13px"},".cm-line":{fontSize:"13px","& .\u037cd, & .\u037cc":{color:"#8e6cef"}},"& .\u037cb":{color:"#2781B0"},".cm-activeLine":{backgroundColor:"#44475a"},".cm-matchingBracket":{backgroundColor:"#842de5",color:"#ff79c6"},".cm-selectionLayer .cm-selectionBackground":{backgroundColor:"green"}},{dark:!0});o.Z=(0,h.Z)((function(e){return(0,x.Z)((0,r.Z)((0,r.Z)({},b.YI),{},{inputLabel:(0,r.Z)((0,r.Z)({},b.YI.inputLabel),{},{fontWeight:"normal"})}))}))((function(e){var o=e.value,n=e.label,r=void 0===n?"":n,c=e.tooltip,d=void 0===c?"":c,u=e.mode,x=void 0===u?"json":u,h=e.classes,b=e.onBeforeChange,j=e.readOnly,k=void 0!==j&&j,M=e.editorHeight,E=void 0===M?"250px":M,L=(0,i.useState)(!1),P=(0,a.Z)(L,2),I=P[0],w=P[1],F=[];return N[x]&&(F=[].concat((0,t.Z)(F),[N[x]()])),(0,y.jsxs)(i.Fragment,{children:[(0,y.jsxs)(m.Z,{className:h.inputLabel,children:[(0,y.jsx)("span",{children:r}),""!==d&&(0,y.jsx)("div",{className:h.tooltipContainer,children:(0,y.jsx)(p.Z,{title:d,placement:"top-start",children:(0,y.jsx)("div",{className:h.tooltip,children:(0,y.jsx)(g.Z,{})})})})]}),(0,y.jsx)(l.ZP,{item:!0,xs:12,children:(0,y.jsx)("br",{})}),(0,y.jsxs)(l.ZP,{item:!0,xs:12,sx:{border:"1px solid #eaeaea"},children:[(0,y.jsx)(l.ZP,{item:!0,xs:12,children:(0,y.jsx)(s.ZP,{value:o,theme:I?B:S,extensions:F,editable:!k,basicSetup:!0,height:E,onChange:function(e,o){b(null,null,e)}})}),(0,y.jsx)(l.ZP,{item:!0,xs:12,sx:{borderTop:"1px solid #eaeaea",background:I?"#282c34":"#f7f7f7"},children:(0,y.jsxs)(f.Z,{sx:{display:"flex",alignItems:"center",padding:"2px",paddingRight:"5px",justifyContent:"flex-end","& button":{height:"26px",width:"26px",padding:"2px"," .min-icon":{marginLeft:"0"}}},children:[(0,y.jsx)(v.Z,{tooltip:"Change theme",onClick:function(){w(!I)},text:"",icon:(0,y.jsx)(Z.EO,{}),color:"primary",variant:"outlined"}),(0,y.jsx)(C(),{text:o,children:(0,y.jsx)(v.Z,{tooltip:"Copy to Clipboard",onClick:function(){},text:"",icon:(0,y.jsx)(Z.TI,{}),color:"primary",variant:"outlined"})})]})})]})]})}))},21435:function(e,o,n){var t=n(1413),a=n(72791),r=n(27391),i=n(61889),l=n(30829),s=n(20068),c=n(13400),d=n(11135),u=n(72455),m=n(25787),p=n(23814),f=n(84570),x=n(28182),h=n(80184),g=(0,u.Z)((function(e){return(0,d.Z)((0,t.Z)({},p.gM))}));function b(e){var o=g();return(0,h.jsx)(r.Z,(0,t.Z)({InputProps:{classes:o}},e))}o.Z=(0,m.Z)((function(e){return(0,d.Z)((0,t.Z)((0,t.Z)((0,t.Z)({},p.YI),p.Hr),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}},inputLabel:(0,t.Z)((0,t.Z)({},p.YI.inputLabel),{},{fontWeight:"normal"})}))}))((function(e){var o=e.label,n=e.onChange,r=e.value,d=e.id,u=e.name,m=e.type,p=void 0===m?"text":m,g=e.autoComplete,Z=void 0===g?"off":g,v=e.disabled,j=void 0!==v&&v,C=e.multiline,k=void 0!==C&&C,y=e.tooltip,N=void 0===y?"":y,S=e.index,B=void 0===S?0:S,M=e.error,E=void 0===M?"":M,L=e.required,P=void 0!==L&&L,I=e.placeholder,w=void 0===I?"":I,F=e.min,z=e.max,D=e.overlayIcon,O=void 0===D?null:D,W=e.overlayObject,R=void 0===W?null:W,A=e.extraInputProps,T=void 0===A?{}:A,H=e.overlayAction,Y=e.noLabelMinWidth,G=void 0!==Y&&Y,$=e.pattern,J=void 0===$?"":$,K=e.autoFocus,V=void 0!==K&&K,_=e.classes,q=e.className,Q=void 0===q?"":q,X=(0,t.Z)({"data-index":B},T);return"number"===p&&F&&(X.min=F),"number"===p&&z&&(X.max=z),""!==J&&(X.pattern=J),(0,h.jsx)(a.Fragment,{children:(0,h.jsxs)(i.ZP,{container:!0,className:(0,x.Z)(""!==Q?Q:"",""!==E?_.errorInField:_.inputBoxContainer),children:[""!==o&&(0,h.jsxs)(l.Z,{htmlFor:d,className:G?_.noMinWidthLabel:_.inputLabel,children:[(0,h.jsxs)("span",{children:[o,P?"*":""]}),""!==N&&(0,h.jsx)("div",{className:_.tooltipContainer,children:(0,h.jsx)(s.Z,{title:N,placement:"top-start",children:(0,h.jsx)("div",{className:_.tooltip,children:(0,h.jsx)(f.Z,{})})})})]}),(0,h.jsxs)("div",{className:_.textBoxContainer,children:[(0,h.jsx)(b,{id:d,name:u,fullWidth:!0,value:r,autoFocus:V,disabled:j,onChange:n,type:p,multiline:k,autoComplete:Z,inputProps:X,error:""!==E,helperText:E,placeholder:w,className:_.inputRebase}),O&&(0,h.jsx)("div",{className:"".concat(_.overlayAction," ").concat(""!==o?"withLabel":""),children:(0,h.jsx)(c.Z,{onClick:H?function(){H()}:function(){return null},size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:O})}),R&&(0,h.jsx)("div",{className:"".concat(_.overlayAction," ").concat(""!==o?"withLabel":""),children:R})]})]})})}))},401:function(e,o,n){n.d(o,{Z:function(){return B}});var t,a=n(70885),r=n(1413),i=n(72791),l=n(60364),s=n(13400),c=n(55646),d=n(5574),u=n(65661),m=n(39157),p=n(11135),f=n(25787),x=n(23814),h=n(42649),g=n(26181),b=n.n(g),Z=n(10215),v=n(15146),j=n(29823),C=n(80184),k=function(){clearInterval(t)},y={displayErrorMessage:h.zb},N=(0,l.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),y)((0,f.Z)((function(e){return(0,p.Z)({modalErrorContainer:{position:"absolute",marginTop:10,width:"80%",backgroundColor:"#fff",border:"#C72C48 1px solid",borderLeftWidth:12,borderRadius:3,zIndex:1e3,padding:"10px 15px",left:"50%",transform:"translateX(-50%)",opacity:0,transitionDuration:"0.2s"},modalErrorShow:{opacity:1},closeButton:{position:"absolute",right:5,fontSize:"small",border:0,backgroundColor:"#fff",cursor:"pointer"},errorTitle:{display:"flex",alignItems:"center"},errorLabel:{color:"#000",fontSize:18,fontWeight:500,marginLeft:5,marginRight:25},messageIcon:{color:"#C72C48",display:"flex","& svg":{width:32,height:32}},detailsButton:{color:"#9C9C9C",display:"flex",alignItems:"center",border:0,backgroundColor:"transparent",paddingLeft:5,fontSize:14,transformDuration:"0.3s",cursor:"pointer"},extraDetailsContainer:{fontStyle:"italic",color:"#9C9C9C",lineHeight:0,padding:"0 10px",transition:"all .2s ease-in-out",overflow:"hidden"},extraDetailsOpen:{lineHeight:1,padding:"3px 10px"},arrowElement:{marginLeft:-5},arrowOpen:{transform:"rotateZ(90deg)",transformDuration:"0.3s"}})}))((function(e){var o=e.classes,n=e.modalSnackMessage,r=e.displayErrorMessage,l=e.customStyle,s=(0,i.useState)(!1),c=(0,a.Z)(s,2),d=c[0],u=c[1],m=(0,i.useState)(!1),p=(0,a.Z)(m,2),f=p[0],x=p[1],h=(0,i.useCallback)((function(){x(!1)}),[]);(0,i.useEffect)((function(){f||(r({detailedError:"",errorMessage:""}),u(!1))}),[r,f]),(0,i.useEffect)((function(){""!==n.message&&"error"===n.type&&x(!0)}),[h,n.message,n.type]);var g=b()(n,"message",""),y=b()(n,"detailedErrorMsg","");return"error"!==n.type||""===g?null:(0,C.jsx)(i.Fragment,{children:(0,C.jsxs)("div",{className:"".concat(o.modalErrorContainer," ").concat(f?o.modalErrorShow:""),style:l,onMouseOver:k,onMouseLeave:function(){t=setInterval(h,1e4)},children:[(0,C.jsx)("button",{className:o.closeButton,onClick:h,children:(0,C.jsx)(j.Z,{})}),(0,C.jsxs)("div",{className:o.errorTitle,children:[(0,C.jsx)("span",{className:o.messageIcon,children:(0,C.jsx)(v.Z,{})}),(0,C.jsx)("span",{className:o.errorLabel,children:g})]}),""!==y&&(0,C.jsxs)(i.Fragment,{children:[(0,C.jsx)("div",{className:o.detailsContainerLink,children:(0,C.jsxs)("button",{className:o.detailsButton,onClick:function(){u(!d)},children:["Details",(0,C.jsx)(Z.Z,{className:"".concat(o.arrowElement," ").concat(d?o.arrowOpen:"")})]})}),(0,C.jsx)("div",{className:"".concat(o.extraDetailsContainer," ").concat(d?o.extraDetailsOpen:""),children:y})]})]})})}))),S=(0,l.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:h.MK}),B=(0,f.Z)((function(e){return(0,p.Z)((0,r.Z)((0,r.Z)({},x.Qw),{},{root:{"& .MuiPaper-root":{padding:"0 2rem 2rem 1rem"}},content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},x.sN))}))(S((function(e){var o=e.onClose,n=e.modalOpen,t=e.title,l=e.children,p=e.classes,f=e.wideLimit,x=void 0===f||f,h=e.modalSnackMessage,g=e.noContentPadding,b=e.setModalSnackMessage,Z=e.titleIcon,v=void 0===Z?null:Z,k=(0,i.useState)(!1),y=(0,a.Z)(k,2),S=y[0],B=y[1];(0,i.useEffect)((function(){b("")}),[b]),(0,i.useEffect)((function(){if(h){if(""===h.message)return void B(!1);"error"!==h.type&&B(!0)}}),[h]);var M=x?{classes:{paper:p.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},E="";return h&&(E=h.detailedErrorMsg,(""===h.detailedErrorMsg||h.detailedErrorMsg.length<5)&&(E=h.message)),(0,C.jsxs)(d.Z,(0,r.Z)((0,r.Z)({open:n,classes:p},M),{},{scroll:"paper",onClose:function(e,n){"backdropClick"!==n&&o()},className:p.root,children:[(0,C.jsxs)(u.Z,{className:p.title,children:[(0,C.jsxs)("div",{className:p.titleText,children:[v," ",t]}),(0,C.jsx)("div",{className:p.closeContainer,children:(0,C.jsx)(s.Z,{"aria-label":"close",className:p.closeButton,onClick:o,disableRipple:!0,size:"small",children:(0,C.jsx)(j.Z,{})})})]}),(0,C.jsx)(N,{}),(0,C.jsx)(c.Z,{open:S,className:p.snackBarModal,onClose:function(){B(!1),b("")},message:E,ContentProps:{className:"".concat(p.snackBar," ").concat(h&&"error"===h.type?p.errorSnackBar:"")},autoHideDuration:h&&"error"===h.type?1e4:5e3}),(0,C.jsx)(m.Z,{className:g?"":p.content,children:l})]}))})))},31014:function(e,o,n){n.r(o);var t=n(70885),a=n(1413),r=n(72791),i=n(60364),l=n(61889),s=n(36151),c=n(40986),d=n(11135),u=n(25787),m=n(81207),p=n(42649),f=n(23814),x=n(401),h=n(21435),g=n(92217),b=n(80184),Z={setModalErrorSnackMessage:p.zb},v=(0,i.$j)(null,Z);o.default=(0,u.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)((0,a.Z)({buttonContainer:{textAlign:"right"},codeMirrorContainer:{marginBottom:20,marginTop:20,"& label":{marginBottom:".5rem"},"& label + div":{display:"none"}}},f.bK),f.ID),f.YI))}))(v((function(e){var o=e.classes,n=e.open,a=e.closeModalAndRefresh,i=e.policyEdit,d=e.setModalErrorSnackMessage,u=(0,r.useState)(!1),p=(0,t.Z)(u,2),f=p[0],Z=p[1],v=(0,r.useState)(""),j=(0,t.Z)(v,2),C=j[0],k=j[1],y=(0,r.useState)(""),N=(0,t.Z)(y,2),S=N[0],B=N[1];(0,r.useEffect)((function(){i&&(k(i.name),B(i?JSON.stringify(JSON.parse(i.policy),null,4):""))}),[i]);var M=""!==C.trim();return(0,b.jsx)(x.Z,{modalOpen:n,onClose:function(){a(!1)},title:"".concat(i?"Info":"Create"," Policy"),children:(0,b.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),f||(Z(!0),m.Z.invoke("POST","/api/v1/policies",{name:C,policy:S}).then((function(e){Z(!1),a(!0)})).catch((function(e){Z(!1),d(e)})))},children:(0,b.jsxs)(l.ZP,{container:!0,children:[(0,b.jsxs)(l.ZP,{item:!0,xs:12,className:o.modalFormScrollable,children:[(0,b.jsx)(l.ZP,{item:!0,xs:12,className:o.formFieldRow,children:(0,b.jsx)(h.Z,{id:"policy-name",name:"policy-name",label:"Policy Name",placeholder:"Enter Policy Name",autoFocus:!0,onChange:function(e){k(e.target.value)},value:C,disabled:!!i})}),(0,b.jsx)(l.ZP,{item:!0,xs:12,className:o.codeMirrorContainer,children:(0,b.jsx)(g.Z,{label:"".concat(i?"Edit":"Write"," Policy"),value:S,onBeforeChange:function(e,o,n){B(n)},editorHeight:"350px"})})]}),(0,b.jsxs)(l.ZP,{item:!0,xs:12,className:o.modalButtonBar,children:[!i&&(0,b.jsx)(s.Z,{type:"button",variant:"outlined",color:"primary",onClick:function(){k(""),B("")},children:"Clear"}),(0,b.jsx)(s.Z,{type:"submit",variant:"contained",color:"primary",disabled:f||!M,children:"Save"})]}),f&&(0,b.jsx)(l.ZP,{item:!0,xs:12,children:(0,b.jsx)(c.Z,{})})]})})})})))}}]);
//# sourceMappingURL=3320.968bfc5b.chunk.js.map