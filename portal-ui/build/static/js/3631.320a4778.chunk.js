"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[3631],{33690:function(e,t,o){o.r(t);var n=o(70885),r=o(1413),i=o(72791),a=o(60364),s=o(36151),l=o(11135),c=o(25787),d=o(61889),u=o(23814),p=o(42649),f=o(81207),m=o(401),g=o(90673),x=o(96389),b=o(92217),h=o(80184);(0,l.Z)((0,r.Z)((0,r.Z)({},u.ID),u.bK));var Z=(0,a.$j)(null,{setModalErrorSnackMessage:p.zb});t.default=(0,c.Z)((function(e){return(0,l.Z)((0,r.Z)((0,r.Z)((0,r.Z)({codeMirrorContainer:{marginBottom:20,"& label":{marginBottom:".5rem"},"& label + div":{display:"none"}}},u.DF),u.ID),u.bK))}))(Z((function(e){var t=e.classes,o=e.open,r=e.bucketName,a=e.actualPolicy,l=e.actualDefinition,c=e.closeModalAndRefresh,u=e.setModalErrorSnackMessage,p=(0,i.useState)(!1),Z=(0,n.Z)(p,2),v=Z[0],C=Z[1],y=(0,i.useState)(""),j=(0,n.Z)(y,2),k=j[0],S=j[1],M=(0,i.useState)(""),B=(0,n.Z)(M,2),w=B[0],N=B[1];return(0,i.useEffect)((function(){S(a),N(l?JSON.stringify(JSON.parse(l),null,4):"")}),[S,a,N,l]),(0,h.jsx)(m.Z,{title:"Change Access Policy",modalOpen:o,onClose:function(){c()},titleIcon:(0,h.jsx)(x.QX,{}),children:(0,h.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),v||(C(!0),f.Z.invoke("PUT","/api/v1/buckets/".concat(r,"/set-policy"),{access:k,definition:w}).then((function(e){C(!1),c()})).catch((function(e){C(!1),u(e)})))},children:(0,h.jsxs)(d.ZP,{container:!0,children:[(0,h.jsxs)(d.ZP,{item:!0,xs:12,className:t.modalFormScrollable,children:[(0,h.jsx)(d.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,h.jsx)(g.Z,{value:k,label:"Access Policy",id:"select-access-policy",name:"select-access-policy",onChange:function(e){S(e.target.value)},options:[{value:"PRIVATE",label:"Private"},{value:"PUBLIC",label:"Public"},{value:"CUSTOM",label:"Custom"}]})}),"CUSTOM"===k&&(0,h.jsx)(d.ZP,{item:!0,xs:12,className:t.codeMirrorContainer,children:(0,h.jsx)(b.Z,{label:"Write Policy",value:w,onBeforeChange:function(e,t,o){N(o)},editorHeight:"350px"})})]}),(0,h.jsxs)(d.ZP,{item:!0,xs:12,className:t.modalButtonBar,children:[(0,h.jsx)(s.Z,{type:"button",variant:"outlined",color:"primary",onClick:function(){c()},disabled:v,children:"Cancel"}),(0,h.jsx)(s.Z,{type:"submit",variant:"contained",color:"primary",disabled:v||"CUSTOM"===k&&!w,children:"Set"})]})]})})})})))},92217:function(e,t,o){var n=o(42982),r=o(70885),i=o(1413),a=o(72791),s=o(61889),l=(o(2574),o(69874)),c=o(9461),d=o(73975),u=o(80745),p=o(30829),f=o(20068),m=o(64554),g=o(11135),x=o(25787),b=o(84570),h=o(23814),Z=o(96389),v=o(40603),C=o(78029),y=o.n(C),j=o(64294),k=o(80184),S={json:d.AV,yaml:function(){return c.i.define(u.r)}},M=j.tk.theme({"&":{backgroundColor:"#FBFAFA"},".cm-content":{caretColor:"#05122B"},"&.cm-focused .cm-cursor":{borderLeftColor:"#05122B"},".cm-gutters":{backgroundColor:"#FBFAFA",color:"#000000",border:"none"},".cm-gutter.cm-foldGutter":{borderRight:"1px solid #eaeaea"},".cm-gutterElement":{fontSize:"13px"},".cm-line":{fontSize:"13px",color:"#2781B0","& .\u037cc":{color:"#C83B51"}},"& .\u037cb":{color:"#2781B0"},".cm-activeLine":{backgroundColor:"#dde1f1"},".cm-matchingBracket":{backgroundColor:"#05122B",color:"#ffffff"},".cm-selectionMatch":{backgroundColor:"#ebe7f1"},".cm-selectionLayer":{fontWeight:500}," .cm-selectionBackground":{backgroundColor:"#a180c7",color:"#ffffff"}},{dark:!1}),B=j.tk.theme({"&":{backgroundColor:"#282a36",color:"#ffb86c"},".cm-gutter.cm-foldGutter":{borderRight:"1px solid #eaeaea"},".cm-gutterElement":{fontSize:"13px"},".cm-line":{fontSize:"13px","& .\u037cd, & .\u037cc":{color:"#8e6cef"}},"& .\u037cb":{color:"#2781B0"},".cm-activeLine":{backgroundColor:"#44475a"},".cm-matchingBracket":{backgroundColor:"#842de5",color:"#ff79c6"},".cm-selectionLayer .cm-selectionBackground":{backgroundColor:"green"}},{dark:!0});t.Z=(0,x.Z)((function(e){return(0,g.Z)((0,i.Z)((0,i.Z)({},h.YI),{},{inputLabel:(0,i.Z)((0,i.Z)({},h.YI.inputLabel),{},{fontWeight:"normal"})}))}))((function(e){var t=e.value,o=e.label,i=void 0===o?"":o,c=e.tooltip,d=void 0===c?"":c,u=e.mode,g=void 0===u?"json":u,x=e.classes,h=e.onBeforeChange,C=e.readOnly,j=void 0!==C&&C,w=e.editorHeight,N=void 0===w?"250px":w,P=(0,a.useState)(!1),O=(0,r.Z)(P,2),I=O[0],E=O[1],L=[];return S[g]&&(L=[].concat((0,n.Z)(L),[S[g]()])),(0,k.jsxs)(a.Fragment,{children:[(0,k.jsxs)(p.Z,{className:x.inputLabel,children:[(0,k.jsx)("span",{children:i}),""!==d&&(0,k.jsx)("div",{className:x.tooltipContainer,children:(0,k.jsx)(f.Z,{title:d,placement:"top-start",children:(0,k.jsx)("div",{className:x.tooltip,children:(0,k.jsx)(b.Z,{})})})})]}),(0,k.jsx)(s.ZP,{item:!0,xs:12,children:(0,k.jsx)("br",{})}),(0,k.jsxs)(s.ZP,{item:!0,xs:12,sx:{border:"1px solid #eaeaea"},children:[(0,k.jsx)(s.ZP,{item:!0,xs:12,children:(0,k.jsx)(l.ZP,{value:t,theme:I?B:M,extensions:L,editable:!j,basicSetup:!0,height:N,onChange:function(e,t){h(null,null,e)}})}),(0,k.jsx)(s.ZP,{item:!0,xs:12,sx:{borderTop:"1px solid #eaeaea",background:I?"#282c34":"#f7f7f7"},children:(0,k.jsxs)(m.Z,{sx:{display:"flex",alignItems:"center",padding:"2px",paddingRight:"5px",justifyContent:"flex-end","& button":{height:"26px",width:"26px",padding:"2px"," .min-icon":{marginLeft:"0"}}},children:[(0,k.jsx)(v.Z,{tooltip:"Change theme",onClick:function(){E(!I)},text:"",icon:(0,k.jsx)(Z.EO,{}),color:"primary",variant:"outlined"}),(0,k.jsx)(y(),{text:t,children:(0,k.jsx)(v.Z,{tooltip:"Copy to Clipboard",onClick:function(){},text:"",icon:(0,k.jsx)(Z.TI,{}),color:"primary",variant:"outlined"})})]})})]})]})}))},90673:function(e,t,o){var n=o(1413),r=o(72791),i=o(61889),a=o(4834),s=o(30829),l=o(20068),c=o(68096),d=o(58406),u=o(23786),p=o(11135),f=o(25787),m=o(23814),g=o(84570),x=o(80184),b=(0,f.Z)((function(e){return(0,p.Z)({root:{height:38,lineHeight:1,"label + &":{marginTop:e.spacing(3)}},input:{height:38,position:"relative",color:"#07193E",fontSize:13,fontWeight:600,padding:"8px 20px 10px 10px",border:"#e5e5e5 1px solid",borderRadius:4,display:"flex",alignItems:"center","&:hover":{borderColor:"#393939"},"&:focus":{backgroundColor:"#fff"}}})}))(a.ZP);t.Z=(0,f.Z)((function(e){return(0,p.Z)((0,n.Z)((0,n.Z)((0,n.Z)({},m.YI),m.Hr),{},{inputLabel:(0,n.Z)((0,n.Z)({},m.YI.inputLabel),{},{"& span":{fontWeight:"normal"}}),fieldContainer:{display:"flex","@media (max-width: 600px)":{flexFlow:"column"}}}))}))((function(e){var t=e.classes,o=e.id,n=e.name,a=e.onChange,p=e.options,f=e.label,m=e.tooltip,h=void 0===m?"":m,Z=e.value,v=e.disabled,C=void 0!==v&&v;return(0,x.jsx)(r.Fragment,{children:(0,x.jsxs)(i.ZP,{item:!0,xs:12,className:t.fieldContainer,children:[""!==f&&(0,x.jsxs)(s.Z,{htmlFor:o,className:t.inputLabel,children:[(0,x.jsx)("span",{children:f}),""!==h&&(0,x.jsx)("div",{className:t.tooltipContainer,children:(0,x.jsx)(l.Z,{title:h,placement:"top-start",children:(0,x.jsx)("div",{className:t.tooltip,children:(0,x.jsx)(g.Z,{})})})})]}),(0,x.jsx)(c.Z,{fullWidth:!0,children:(0,x.jsx)(d.Z,{id:o,name:n,value:Z,onChange:a,input:(0,x.jsx)(b,{}),disabled:C,children:p.map((function(e){return(0,x.jsx)(u.Z,{value:e.value,children:e.label},"select-".concat(n,"-").concat(e.label))}))})})]})})}))},401:function(e,t,o){o.d(t,{Z:function(){return B}});var n,r=o(70885),i=o(1413),a=o(72791),s=o(60364),l=o(13400),c=o(55646),d=o(5574),u=o(65661),p=o(39157),f=o(11135),m=o(25787),g=o(23814),x=o(42649),b=o(26181),h=o.n(b),Z=o(10215),v=o(15146),C=o(29823),y=o(80184),j=function(){clearInterval(n)},k={displayErrorMessage:x.zb},S=(0,s.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),k)((0,m.Z)((function(e){return(0,f.Z)({modalErrorContainer:{position:"absolute",marginTop:10,width:"80%",backgroundColor:"#fff",border:"#C72C48 1px solid",borderLeftWidth:12,borderRadius:3,zIndex:1e3,padding:"10px 15px",left:"50%",transform:"translateX(-50%)",opacity:0,transitionDuration:"0.2s"},modalErrorShow:{opacity:1},closeButton:{position:"absolute",right:5,fontSize:"small",border:0,backgroundColor:"#fff",cursor:"pointer"},errorTitle:{display:"flex",alignItems:"center"},errorLabel:{color:"#000",fontSize:18,fontWeight:500,marginLeft:5,marginRight:25},messageIcon:{color:"#C72C48",display:"flex","& svg":{width:32,height:32}},detailsButton:{color:"#9C9C9C",display:"flex",alignItems:"center",border:0,backgroundColor:"transparent",paddingLeft:5,fontSize:14,transformDuration:"0.3s",cursor:"pointer"},extraDetailsContainer:{fontStyle:"italic",color:"#9C9C9C",lineHeight:0,padding:"0 10px",transition:"all .2s ease-in-out",overflow:"hidden"},extraDetailsOpen:{lineHeight:1,padding:"3px 10px"},arrowElement:{marginLeft:-5},arrowOpen:{transform:"rotateZ(90deg)",transformDuration:"0.3s"}})}))((function(e){var t=e.classes,o=e.modalSnackMessage,i=e.displayErrorMessage,s=e.customStyle,l=(0,a.useState)(!1),c=(0,r.Z)(l,2),d=c[0],u=c[1],p=(0,a.useState)(!1),f=(0,r.Z)(p,2),m=f[0],g=f[1],x=(0,a.useCallback)((function(){g(!1)}),[]);(0,a.useEffect)((function(){m||(i({detailedError:"",errorMessage:""}),u(!1))}),[i,m]),(0,a.useEffect)((function(){""!==o.message&&"error"===o.type&&g(!0)}),[x,o.message,o.type]);var b=h()(o,"message",""),k=h()(o,"detailedErrorMsg","");return"error"!==o.type||""===b?null:(0,y.jsx)(a.Fragment,{children:(0,y.jsxs)("div",{className:"".concat(t.modalErrorContainer," ").concat(m?t.modalErrorShow:""),style:s,onMouseOver:j,onMouseLeave:function(){n=setInterval(x,1e4)},children:[(0,y.jsx)("button",{className:t.closeButton,onClick:x,children:(0,y.jsx)(C.Z,{})}),(0,y.jsxs)("div",{className:t.errorTitle,children:[(0,y.jsx)("span",{className:t.messageIcon,children:(0,y.jsx)(v.Z,{})}),(0,y.jsx)("span",{className:t.errorLabel,children:b})]}),""!==k&&(0,y.jsxs)(a.Fragment,{children:[(0,y.jsx)("div",{className:t.detailsContainerLink,children:(0,y.jsxs)("button",{className:t.detailsButton,onClick:function(){u(!d)},children:["Details",(0,y.jsx)(Z.Z,{className:"".concat(t.arrowElement," ").concat(d?t.arrowOpen:"")})]})}),(0,y.jsx)("div",{className:"".concat(t.extraDetailsContainer," ").concat(d?t.extraDetailsOpen:""),children:k})]})]})})}))),M=(0,s.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:x.MK}),B=(0,m.Z)((function(e){return(0,f.Z)((0,i.Z)((0,i.Z)({},g.Qw),{},{root:{"& .MuiPaper-root":{padding:"0 2rem 2rem 1rem"}},content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},g.sN))}))(M((function(e){var t=e.onClose,o=e.modalOpen,n=e.title,s=e.children,f=e.classes,m=e.wideLimit,g=void 0===m||m,x=e.modalSnackMessage,b=e.noContentPadding,h=e.setModalSnackMessage,Z=e.titleIcon,v=void 0===Z?null:Z,j=(0,a.useState)(!1),k=(0,r.Z)(j,2),M=k[0],B=k[1];(0,a.useEffect)((function(){h("")}),[h]),(0,a.useEffect)((function(){if(x){if(""===x.message)return void B(!1);"error"!==x.type&&B(!0)}}),[x]);var w=g?{classes:{paper:f.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},N="";return x&&(N=x.detailedErrorMsg,(""===x.detailedErrorMsg||x.detailedErrorMsg.length<5)&&(N=x.message)),(0,y.jsxs)(d.Z,(0,i.Z)((0,i.Z)({open:o,classes:f},w),{},{scroll:"paper",onClose:function(e,o){"backdropClick"!==o&&t()},className:f.root,children:[(0,y.jsxs)(u.Z,{className:f.title,children:[(0,y.jsxs)("div",{className:f.titleText,children:[v," ",n]}),(0,y.jsx)("div",{className:f.closeContainer,children:(0,y.jsx)(l.Z,{"aria-label":"close",className:f.closeButton,onClick:t,disableRipple:!0,size:"small",children:(0,y.jsx)(C.Z,{})})})]}),(0,y.jsx)(S,{}),(0,y.jsx)(c.Z,{open:M,className:f.snackBarModal,onClose:function(){B(!1),h("")},message:N,ContentProps:{className:"".concat(f.snackBar," ").concat(x&&"error"===x.type?f.errorSnackBar:"")},autoHideDuration:x&&"error"===x.type?1e4:5e3}),(0,y.jsx)(p.Z,{className:b?"":f.content,children:s})]}))})))},90133:function(e,t,o){o.d(t,{V:function(){return r}});var n=o(95159);function r(e){return(0,n.Z)("MuiDivider",e)}var i=(0,o(30208).Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);t.Z=i},23786:function(e,t,o){o.d(t,{Z:function(){return S}});var n=o(4942),r=o(63366),i=o(87462),a=o(72791),s=o(28182),l=o(90767),c=o(12065),d=o(47630),u=o(93736),p=o(66199),f=o(95080),m=o(40162),g=o(42071),x=o(90133),b=o(96014),h=o(29849),Z=o(95159);function v(e){return(0,Z.Z)("MuiMenuItem",e)}var C=(0,o(30208).Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),y=o(80184),j=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],k=(0,d.ZP)(f.Z,{shouldForwardProp:function(e){return(0,d.FO)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var o=e.ownerState;return[t.root,o.dense&&t.dense,o.divider&&t.divider,!o.disableGutters&&t.gutters]}})((function(e){var t,o=e.theme,r=e.ownerState;return(0,i.Z)({},o.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.divider&&{borderBottom:"1px solid ".concat(o.palette.divider),backgroundClip:"padding-box"},(t={"&:hover":{textDecoration:"none",backgroundColor:o.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,n.Z)(t,"&.".concat(C.selected),(0,n.Z)({backgroundColor:(0,c.Fq)(o.palette.primary.main,o.palette.action.selectedOpacity)},"&.".concat(C.focusVisible),{backgroundColor:(0,c.Fq)(o.palette.primary.main,o.palette.action.selectedOpacity+o.palette.action.focusOpacity)})),(0,n.Z)(t,"&.".concat(C.selected,":hover"),{backgroundColor:(0,c.Fq)(o.palette.primary.main,o.palette.action.selectedOpacity+o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,c.Fq)(o.palette.primary.main,o.palette.action.selectedOpacity)}}),(0,n.Z)(t,"&.".concat(C.focusVisible),{backgroundColor:o.palette.action.focus}),(0,n.Z)(t,"&.".concat(C.disabled),{opacity:o.palette.action.disabledOpacity}),(0,n.Z)(t,"& + .".concat(x.Z.root),{marginTop:o.spacing(1),marginBottom:o.spacing(1)}),(0,n.Z)(t,"& + .".concat(x.Z.inset),{marginLeft:52}),(0,n.Z)(t,"& .".concat(h.Z.root),{marginTop:0,marginBottom:0}),(0,n.Z)(t,"& .".concat(h.Z.inset),{paddingLeft:36}),(0,n.Z)(t,"& .".concat(b.Z.root),{minWidth:36}),t),!r.dense&&(0,n.Z)({},o.breakpoints.up("sm"),{minHeight:"auto"}),r.dense&&(0,i.Z)({minHeight:32,paddingTop:4,paddingBottom:4},o.typography.body2,(0,n.Z)({},"& .".concat(b.Z.root," svg"),{fontSize:"1.25rem"})))})),S=a.forwardRef((function(e,t){var o=(0,u.Z)({props:e,name:"MuiMenuItem"}),n=o.autoFocus,c=void 0!==n&&n,d=o.component,f=void 0===d?"li":d,x=o.dense,b=void 0!==x&&x,h=o.divider,Z=void 0!==h&&h,C=o.disableGutters,S=void 0!==C&&C,M=o.focusVisibleClassName,B=o.role,w=void 0===B?"menuitem":B,N=o.tabIndex,P=(0,r.Z)(o,j),O=a.useContext(p.Z),I={dense:b||O.dense||!1,disableGutters:S},E=a.useRef(null);(0,m.Z)((function(){c&&E.current&&E.current.focus()}),[c]);var L,F=(0,i.Z)({},o,{dense:I.dense,divider:Z,disableGutters:S}),D=function(e){var t=e.disabled,o=e.dense,n=e.divider,r=e.disableGutters,a=e.selected,s=e.classes,c={root:["root",o&&"dense",t&&"disabled",!r&&"gutters",n&&"divider",a&&"selected"]},d=(0,l.Z)(c,v,s);return(0,i.Z)({},s,d)}(o),T=(0,g.Z)(E,t);return o.disabled||(L=void 0!==N?N:-1),(0,y.jsx)(p.Z.Provider,{value:I,children:(0,y.jsx)(k,(0,i.Z)({ref:T,role:w,tabIndex:L,component:f,focusVisibleClassName:(0,s.Z)(D.focusVisible,M)},P,{ownerState:F,classes:D}))})}))},61120:function(e,t,o){function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}o.d(t,{Z:function(){return n}})},60136:function(e,t,o){o.d(t,{Z:function(){return r}});var n=o(89611);function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,n.Z)(e,t)}},6215:function(e,t,o){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}o.d(t,{Z:function(){return i}});var r=o(97326);function i(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,r.Z)(e)}}}]);
//# sourceMappingURL=3631.320a4778.chunk.js.map