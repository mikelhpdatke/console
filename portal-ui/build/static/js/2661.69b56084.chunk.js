"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[2661],{82661:function(e,n,a){a.r(n),a.d(n,{default:function(){return D}});var t=a(70885),i=a(1413),s=a(72791),o=a(60364),r=a(61889),l=a(36151),c=a(11135),d=a(25787),u=a(81207),m=a(56890),p=a(35855),f=a(53994),x=a(53382),h=a(94454),v=a(79836),Z=a(23814),g=a(42649),j=a(401),b=a(21435),C=a(27391),N=a(30829),k=a(20068),S=a(68096),y=a(72455),M=a(66172),E=a(84570),w=a(80184),I=(0,y.Z)((function(e){return(0,c.Z)((0,i.Z)({},Z.gM))}));function L(e){var n=I();return(0,w.jsx)(C.Z,(0,i.Z)({InputProps:{classes:n}},e))}var P=(0,d.Z)((function(e){return(0,c.Z)((0,i.Z)((0,i.Z)({},Z.YI),Z.Hr))}))((function(e){var n=e.classes,a=e.id,o=e.name,l=e.onChange,c=e.options,d=e.label,u=e.tooltip,m=void 0===u?"":u,p=e.value,f=e.disabled,x=void 0!==f&&f,h=(0,s.useState)(c[0]),v=(0,t.Z)(h,2),Z=v[0],g=v[1];return(0,w.jsx)(s.Fragment,{children:(0,w.jsxs)(r.ZP,{item:!0,xs:12,className:n.fieldContainer,children:[""!==d&&(0,w.jsxs)(N.Z,{htmlFor:a,className:n.inputLabel,children:[(0,w.jsx)("span",{children:d}),""!==m&&(0,w.jsx)("div",{className:n.tooltipContainer,children:(0,w.jsx)(k.Z,{title:m,placement:"top-start",children:(0,w.jsx)("div",{className:n.tooltip,children:(0,w.jsx)(E.Z,{})})})})]}),(0,w.jsx)(S.Z,{fullWidth:!0,children:(0,w.jsx)(M.Z,{id:a,options:c,getOptionLabel:function(e){return e.label},isOptionEqualToValue:function(e){return e.value===p},disabled:x,renderInput:function(e){return(0,w.jsx)(L,(0,i.Z)((0,i.Z)({},e),{},{name:o}))},value:Z,onChange:function(e,n){n&&(l(n.value),g(n))},autoHighlight:!0})})]})})})),B=a(96389),F=(0,o.$j)(null,{setModalErrorSnackMessage:g.zb}),D=(0,d.Z)((function(e){return(0,c.Z)((0,i.Z)((0,i.Z)({arnField:{"& div div .MuiOutlinedInput-root":{padding:0}}},Z.DF),Z.ID))}))(F((function(e){var n=e.classes,a=e.open,i=e.selectedBucket,o=e.closeModalAndRefresh,c=e.setModalErrorSnackMessage,d=(0,s.useState)(!1),Z=(0,t.Z)(d,2),g=Z[0],C=Z[1],N=(0,s.useState)(""),k=(0,t.Z)(N,2),S=k[0],y=k[1],M=(0,s.useState)(""),E=(0,t.Z)(M,2),I=E[0],L=E[1],F=(0,s.useState)(""),D=(0,t.Z)(F,2),O=D[0],T=D[1],R=(0,s.useState)([]),z=(0,t.Z)(R,2),W=z[0],H=z[1],A=(0,s.useState)([]),G=(0,t.Z)(A,2),Y=G[0],$=G[1],q=(0,s.useCallback)((function(){C(!0),u.Z.invoke("GET","/api/v1/admin/arns").then((function(e){var n=[];null!==e.arns&&(n=e.arns),C(!1),$(n)})).catch((function(e){C(!1),c(e)}))}),[c]);(0,s.useEffect)((function(){q()}),[q]);var U=function(e,n){var a=W.indexOf(n),t=[];-1===a?t=t.concat(W,n):0===a?t=t.concat(W.slice(1)):a===W.length-1?t=t.concat(W.slice(0,-1)):a>0&&(t=t.concat(W.slice(0,a),W.slice(a+1))),H(t)},V=Y.map((function(e){return{label:e,value:e}}));return(0,w.jsx)(j.Z,{modalOpen:a,onClose:function(){o()},title:"Subscribe To Bucket Events",titleIcon:(0,w.jsx)(B.c3,{}),children:(0,w.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),g||(C(!0),u.Z.invoke("POST","/api/v1/buckets/".concat(i,"/events"),{configuration:{arn:O,events:W,prefix:S,suffix:I},ignoreExisting:!0}).then((function(){C(!1),o()})).catch((function(e){C(!1),c(e)})))},children:(0,w.jsxs)(r.ZP,{container:!0,children:[(0,w.jsxs)(r.ZP,{item:!0,xs:12,className:n.formScrollable,children:[(0,w.jsx)(r.ZP,{item:!0,xs:12,className:"".concat(n.arnField," ").concat(n.formFieldRow),children:(0,w.jsx)(P,{onChange:function(e){T(e)},id:"select-access-policy",name:"select-access-policy",label:"ARN",value:O,options:V})}),(0,w.jsx)(r.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,w.jsx)(b.Z,{id:"prefix-input",name:"prefix-input",label:"Prefix",value:S,onChange:function(e){y(e.target.value)}})}),(0,w.jsx)(r.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,w.jsx)(b.Z,{id:"suffix-input",name:"suffix-input",label:"Suffix",value:I,onChange:function(e){L(e.target.value)}})}),(0,w.jsx)(r.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,w.jsxs)(v.Z,{size:"medium",children:[(0,w.jsx)(m.Z,{className:n.minTableHeader,children:(0,w.jsxs)(p.Z,{children:[(0,w.jsx)(f.Z,{children:"Select"}),(0,w.jsx)(f.Z,{children:"Event"})]})}),(0,w.jsx)(x.Z,{children:[{label:"PUT - Object Uploaded",value:"put"},{label:"GET - Object accessed",value:"get"},{label:"DELETE - Object Deleted",value:"delete"}].map((function(e){return(0,w.jsxs)(p.Z,{onClick:function(n){return U(0,e.value)},children:[(0,w.jsx)(f.Z,{padding:"checkbox",children:(0,w.jsx)(h.Z,{value:e.value,color:"primary",inputProps:{"aria-label":"secondary checkbox"},onChange:function(n){return U(0,e.value)},checked:W.includes(e.value)})}),(0,w.jsx)(f.Z,{className:n.wrapCell,children:e.label})]},"group-".concat(e.value))}))})]})})]}),(0,w.jsxs)(r.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,w.jsx)(l.Z,{type:"button",variant:"outlined",color:"primary",disabled:g,onClick:function(){o()},children:"Cancel"}),(0,w.jsx)(l.Z,{type:"submit",variant:"contained",color:"primary",disabled:g,children:"Save"})]})]})})})})))},21435:function(e,n,a){var t=a(1413),i=a(72791),s=a(27391),o=a(61889),r=a(30829),l=a(20068),c=a(13400),d=a(11135),u=a(72455),m=a(25787),p=a(23814),f=a(84570),x=a(28182),h=a(80184),v=(0,u.Z)((function(e){return(0,d.Z)((0,t.Z)({},p.gM))}));function Z(e){var n=v();return(0,h.jsx)(s.Z,(0,t.Z)({InputProps:{classes:n}},e))}n.Z=(0,m.Z)((function(e){return(0,d.Z)((0,t.Z)((0,t.Z)((0,t.Z)({},p.YI),p.Hr),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}},inputLabel:(0,t.Z)((0,t.Z)({},p.YI.inputLabel),{},{fontWeight:"normal"})}))}))((function(e){var n=e.label,a=e.onChange,s=e.value,d=e.id,u=e.name,m=e.type,p=void 0===m?"text":m,v=e.autoComplete,g=void 0===v?"off":v,j=e.disabled,b=void 0!==j&&j,C=e.multiline,N=void 0!==C&&C,k=e.tooltip,S=void 0===k?"":k,y=e.index,M=void 0===y?0:y,E=e.error,w=void 0===E?"":E,I=e.required,L=void 0!==I&&I,P=e.placeholder,B=void 0===P?"":P,F=e.min,D=e.max,O=e.overlayIcon,T=void 0===O?null:O,R=e.overlayObject,z=void 0===R?null:R,W=e.extraInputProps,H=void 0===W?{}:W,A=e.overlayAction,G=e.noLabelMinWidth,Y=void 0!==G&&G,$=e.pattern,q=void 0===$?"":$,U=e.autoFocus,V=void 0!==U&&U,_=e.classes,K=e.className,Q=void 0===K?"":K,X=(0,t.Z)({"data-index":M},H);return"number"===p&&F&&(X.min=F),"number"===p&&D&&(X.max=D),""!==q&&(X.pattern=q),(0,h.jsx)(i.Fragment,{children:(0,h.jsxs)(o.ZP,{container:!0,className:(0,x.Z)(""!==Q?Q:"",""!==w?_.errorInField:_.inputBoxContainer),children:[""!==n&&(0,h.jsxs)(r.Z,{htmlFor:d,className:Y?_.noMinWidthLabel:_.inputLabel,children:[(0,h.jsxs)("span",{children:[n,L?"*":""]}),""!==S&&(0,h.jsx)("div",{className:_.tooltipContainer,children:(0,h.jsx)(l.Z,{title:S,placement:"top-start",children:(0,h.jsx)("div",{className:_.tooltip,children:(0,h.jsx)(f.Z,{})})})})]}),(0,h.jsxs)("div",{className:_.textBoxContainer,children:[(0,h.jsx)(Z,{id:d,name:u,fullWidth:!0,value:s,autoFocus:V,disabled:b,onChange:a,type:p,multiline:N,autoComplete:g,inputProps:X,error:""!==w,helperText:w,placeholder:B,className:_.inputRebase}),T&&(0,h.jsx)("div",{className:"".concat(_.overlayAction," ").concat(""!==n?"withLabel":""),children:(0,h.jsx)(c.Z,{onClick:A?function(){A()}:function(){return null},size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:T})}),z&&(0,h.jsx)("div",{className:"".concat(_.overlayAction," ").concat(""!==n?"withLabel":""),children:z})]})]})})}))},401:function(e,n,a){a.d(n,{Z:function(){return M}});var t,i=a(70885),s=a(1413),o=a(72791),r=a(60364),l=a(13400),c=a(55646),d=a(5574),u=a(65661),m=a(39157),p=a(11135),f=a(25787),x=a(23814),h=a(42649),v=a(26181),Z=a.n(v),g=a(10215),j=a(15146),b=a(29823),C=a(80184),N=function(){clearInterval(t)},k={displayErrorMessage:h.zb},S=(0,r.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),k)((0,f.Z)((function(e){return(0,p.Z)({modalErrorContainer:{position:"absolute",marginTop:10,width:"80%",backgroundColor:"#fff",border:"#C72C48 1px solid",borderLeftWidth:12,borderRadius:3,zIndex:1e3,padding:"10px 15px",left:"50%",transform:"translateX(-50%)",opacity:0,transitionDuration:"0.2s"},modalErrorShow:{opacity:1},closeButton:{position:"absolute",right:5,fontSize:"small",border:0,backgroundColor:"#fff",cursor:"pointer"},errorTitle:{display:"flex",alignItems:"center"},errorLabel:{color:"#000",fontSize:18,fontWeight:500,marginLeft:5,marginRight:25},messageIcon:{color:"#C72C48",display:"flex","& svg":{width:32,height:32}},detailsButton:{color:"#9C9C9C",display:"flex",alignItems:"center",border:0,backgroundColor:"transparent",paddingLeft:5,fontSize:14,transformDuration:"0.3s",cursor:"pointer"},extraDetailsContainer:{fontStyle:"italic",color:"#9C9C9C",lineHeight:0,padding:"0 10px",transition:"all .2s ease-in-out",overflow:"hidden"},extraDetailsOpen:{lineHeight:1,padding:"3px 10px"},arrowElement:{marginLeft:-5},arrowOpen:{transform:"rotateZ(90deg)",transformDuration:"0.3s"}})}))((function(e){var n=e.classes,a=e.modalSnackMessage,s=e.displayErrorMessage,r=e.customStyle,l=(0,o.useState)(!1),c=(0,i.Z)(l,2),d=c[0],u=c[1],m=(0,o.useState)(!1),p=(0,i.Z)(m,2),f=p[0],x=p[1],h=(0,o.useCallback)((function(){x(!1)}),[]);(0,o.useEffect)((function(){f||(s({detailedError:"",errorMessage:""}),u(!1))}),[s,f]),(0,o.useEffect)((function(){""!==a.message&&"error"===a.type&&x(!0)}),[h,a.message,a.type]);var v=Z()(a,"message",""),k=Z()(a,"detailedErrorMsg","");return"error"!==a.type||""===v?null:(0,C.jsx)(o.Fragment,{children:(0,C.jsxs)("div",{className:"".concat(n.modalErrorContainer," ").concat(f?n.modalErrorShow:""),style:r,onMouseOver:N,onMouseLeave:function(){t=setInterval(h,1e4)},children:[(0,C.jsx)("button",{className:n.closeButton,onClick:h,children:(0,C.jsx)(b.Z,{})}),(0,C.jsxs)("div",{className:n.errorTitle,children:[(0,C.jsx)("span",{className:n.messageIcon,children:(0,C.jsx)(j.Z,{})}),(0,C.jsx)("span",{className:n.errorLabel,children:v})]}),""!==k&&(0,C.jsxs)(o.Fragment,{children:[(0,C.jsx)("div",{className:n.detailsContainerLink,children:(0,C.jsxs)("button",{className:n.detailsButton,onClick:function(){u(!d)},children:["Details",(0,C.jsx)(g.Z,{className:"".concat(n.arrowElement," ").concat(d?n.arrowOpen:"")})]})}),(0,C.jsx)("div",{className:"".concat(n.extraDetailsContainer," ").concat(d?n.extraDetailsOpen:""),children:k})]})]})})}))),y=(0,r.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:h.MK}),M=(0,f.Z)((function(e){return(0,p.Z)((0,s.Z)((0,s.Z)({},x.Qw),{},{root:{"& .MuiPaper-root":{padding:"0 2rem 2rem 1rem"}},content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},x.sN))}))(y((function(e){var n=e.onClose,a=e.modalOpen,t=e.title,r=e.children,p=e.classes,f=e.wideLimit,x=void 0===f||f,h=e.modalSnackMessage,v=e.noContentPadding,Z=e.setModalSnackMessage,g=e.titleIcon,j=void 0===g?null:g,N=(0,o.useState)(!1),k=(0,i.Z)(N,2),y=k[0],M=k[1];(0,o.useEffect)((function(){Z("")}),[Z]),(0,o.useEffect)((function(){if(h){if(""===h.message)return void M(!1);"error"!==h.type&&M(!0)}}),[h]);var E=x?{classes:{paper:p.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},w="";return h&&(w=h.detailedErrorMsg,(""===h.detailedErrorMsg||h.detailedErrorMsg.length<5)&&(w=h.message)),(0,C.jsxs)(d.Z,(0,s.Z)((0,s.Z)({open:a,classes:p},E),{},{scroll:"paper",onClose:function(e,a){"backdropClick"!==a&&n()},className:p.root,children:[(0,C.jsxs)(u.Z,{className:p.title,children:[(0,C.jsxs)("div",{className:p.titleText,children:[j," ",t]}),(0,C.jsx)("div",{className:p.closeContainer,children:(0,C.jsx)(l.Z,{"aria-label":"close",className:p.closeButton,onClick:n,disableRipple:!0,size:"small",children:(0,C.jsx)(b.Z,{})})})]}),(0,C.jsx)(S,{}),(0,C.jsx)(c.Z,{open:y,className:p.snackBarModal,onClose:function(){M(!1),Z("")},message:w,ContentProps:{className:"".concat(p.snackBar," ").concat(h&&"error"===h.type?p.errorSnackBar:"")},autoHideDuration:h&&"error"===h.type?1e4:5e3}),(0,C.jsx)(m.Z,{className:v?"":p.content,children:r})]}))})))}}]);
//# sourceMappingURL=2661.69b56084.chunk.js.map