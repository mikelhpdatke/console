"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[1581],{1581:function(e,n,a){a.r(n);var t=a(70885),o=a(1413),i=a(72791),r=a(60364),l=a(36151),s=a(40986),c=a(11135),d=a(25787),u=a(61889),p=a(45248),m=a(42649),h=a(23814),x=a(81159),f=a(83679),Z=a(21435),b=a(401),g=a(90673),v=a(81207),j=a(96389),C=a(80184),k=(0,r.$j)(null,{setModalErrorSnackMessage:m.zb});n.default=(0,d.Z)((function(e){return(0,c.Z)((0,o.Z)((0,o.Z)({},h.DF),h.ID))}))(k((function(e){var n=e.classes,a=e.open,o=e.enabled,r=e.cfg,c=e.selectedBucket,d=e.closeModalAndRefresh,m=e.setModalErrorSnackMessage,h=(0,i.useState)(!1),k=(0,t.Z)(h,2),N=k[0],y=k[1],S=(0,i.useState)(!1),w=(0,t.Z)(S,2),L=w[0],F=w[1],M=(0,i.useState)("hard"),P=(0,t.Z)(M,2),E=P[0],I=P[1],B=(0,i.useState)("1"),O=(0,t.Z)(B,2),R=O[0],q=O[1],D=(0,i.useState)("TiB"),z=(0,t.Z)(D,2),W=z[0],T=z[1];(0,i.useEffect)((function(){if(o&&(F(!0),r)){I(r.type),q("".concat(r.quota)),T("B");for(var e="B",n=r.quota,a=0;a<p.Dl.length&&r.quota%Math.pow(1024,a)===0;a++)n=r.quota/Math.pow(1024,a),e=p.Dl[a];q("".concat(n)),T(e)}}),[o,r]);return(0,C.jsx)(b.Z,{modalOpen:a,onClose:function(){d()},title:"Enable Bucket Quota",titleIcon:(0,C.jsx)(j.Wq,{}),children:(0,C.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){if(e.preventDefault(),!N){var n={enabled:L,amount:parseInt((0,p.Pw)(R,W,!1)),quota_type:E};v.Z.invoke("PUT","/api/v1/buckets/".concat(c,"/quota"),n).then((function(){y(!1),d()})).catch((function(e){y(!1),m(e)}))}}(e)},children:(0,C.jsxs)(u.ZP,{container:!0,children:[(0,C.jsxs)(u.ZP,{item:!0,xs:12,className:n.formScrollable,children:[(0,C.jsx)(u.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,C.jsx)(x.Z,{value:"bucket_quota",id:"bucket_quota",name:"bucket_quota",checked:L,onChange:function(e){F(e.target.checked)},label:"Quota"})}),L&&(0,C.jsxs)(i.Fragment,{children:[(0,C.jsx)(u.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,C.jsx)(f.Z,{currentSelection:E,id:"quota_type",name:"quota_type",label:"Quota Type",onChange:function(e){I(e.target.value)},selectorOptions:[{value:"hard",label:"Hard"}]})}),(0,C.jsx)(u.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,C.jsxs)(u.ZP,{container:!0,children:[(0,C.jsx)(u.ZP,{item:!0,xs:10,children:(0,C.jsx)(Z.Z,{type:"number",id:"quota_size",name:"quota_size",onChange:function(e){q(e.target.value)},label:"Quota",value:R,required:!0,min:"1"})}),(0,C.jsx)(u.ZP,{item:!0,xs:2,children:(0,C.jsx)("div",{style:{width:100},children:(0,C.jsx)(g.Z,{label:"",id:"quota_unit",name:"quota_unit",value:W,onChange:function(e){T(e.target.value)},options:(0,p.mK)()})})})]})})]})]}),(0,C.jsxs)(u.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,C.jsx)(l.Z,{type:"button",variant:"outlined",color:"primary",disabled:N,onClick:function(){d()},children:"Cancel"}),(0,C.jsx)(l.Z,{type:"submit",variant:"contained",color:"primary",disabled:N,children:"Save"})]}),N&&(0,C.jsx)(u.ZP,{item:!0,xs:12,children:(0,C.jsx)(s.Z,{})})]})})})})))},81159:function(e,n,a){var t=a(4942),o=a(1413),i=a(72791),r=a(11135),l=a(25787),s=a(9955),c=a(30829),d=a(20068),u=a(20890),p=a(61889),m=a(23814),h=a(84570),x=a(28182),f=a(80184),Z=(0,l.Z)((function(e){return{root:{width:50,height:24,padding:0,margin:0},switchBase:{padding:1,"&$checked":{transform:"translateX(24px)",color:e.palette.common.white,"& + $track":{backgroundColor:"#4CCB92",boxShadow:"inset 0px 1px 4px rgba(0,0,0,0.1)",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#4CCB92",border:"6px solid #fff"}},thumb:{width:22,height:22,backgroundColor:"#FAFAFA",border:"2px solid #FFFFFF",marginLeft:1},track:{borderRadius:12,backgroundColor:"#E2E2E2",boxShadow:"inset 0px 1px 4px rgba(0,0,0,0.1)",opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{},switchContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end"}}}))(s.Z);n.Z=(0,l.Z)((function(e){return(0,r.Z)((0,o.Z)((0,o.Z)({divContainer:{marginBottom:20},indicatorLabelOn:{fontWeight:"bold",color:"#081C42 !important"},indicatorLabel:{fontSize:12,color:"#E2E2E2",margin:"0 8px 0 10px"},fieldDescription:{marginTop:4,color:"#999999"},tooltip:{fontSize:16}},m.OR),m.YI))}))((function(e){var n=e.label,a=void 0===n?"":n,o=e.onChange,r=e.value,l=e.id,s=e.name,m=e.checked,b=void 0!==m&&m,g=e.disabled,v=void 0!==g&&g,j=e.switchOnly,C=void 0!==j&&j,k=e.tooltip,N=void 0===k?"":k,y=e.description,S=void 0===y?"":y,w=e.classes,L=e.indicatorLabels,F=(0,f.jsxs)(i.Fragment,{children:[!C&&(0,f.jsx)("span",{className:(0,x.Z)(w.indicatorLabel,(0,t.Z)({},w.indicatorLabelOn,!b)),children:L&&L.length>1?L[1]:"OFF"}),(0,f.jsx)(Z,{checked:b,onChange:o,color:"primary",name:s,inputProps:{"aria-label":"primary checkbox"},disabled:v,disableRipple:!0,disableFocusRipple:!0,disableTouchRipple:!0,value:r}),!C&&(0,f.jsx)("span",{className:(0,x.Z)(w.indicatorLabel,(0,t.Z)({},w.indicatorLabelOn,b)),children:L?L[0]:"ON"})]});return C?F:(0,f.jsx)("div",{className:w.divContainer,children:(0,f.jsxs)(p.ZP,{container:!0,alignItems:"center",children:[(0,f.jsx)(p.ZP,{item:!0,xs:!0,children:(0,f.jsxs)(p.ZP,{container:!0,children:[(0,f.jsx)(p.ZP,{item:!0,xs:12,sm:4,md:3,children:""!==a&&(0,f.jsxs)(c.Z,{htmlFor:l,className:w.inputLabel,children:[(0,f.jsx)("span",{children:a}),""!==N&&(0,f.jsx)("div",{className:w.tooltipContainer,children:(0,f.jsx)(d.Z,{title:N,placement:"top-start",children:(0,f.jsx)("div",{className:w.tooltip,children:(0,f.jsx)(h.Z,{})})})})]})}),(0,f.jsx)(p.ZP,{item:!0,xs:12,sm:!0,textAlign:"left",children:""!==S&&(0,f.jsx)(u.Z,{component:"p",className:w.fieldDescription,children:S})})]})}),(0,f.jsx)(p.ZP,{item:!0,xs:12,sm:2,textAlign:"right",className:w.switchContainer,children:F})]})})}))},21435:function(e,n,a){var t=a(1413),o=a(72791),i=a(27391),r=a(61889),l=a(30829),s=a(20068),c=a(13400),d=a(11135),u=a(72455),p=a(25787),m=a(23814),h=a(84570),x=a(28182),f=a(80184),Z=(0,u.Z)((function(e){return(0,d.Z)((0,t.Z)({},m.gM))}));function b(e){var n=Z();return(0,f.jsx)(i.Z,(0,t.Z)({InputProps:{classes:n}},e))}n.Z=(0,p.Z)((function(e){return(0,d.Z)((0,t.Z)((0,t.Z)((0,t.Z)({},m.YI),m.Hr),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}},inputLabel:(0,t.Z)((0,t.Z)({},m.YI.inputLabel),{},{fontWeight:"normal"})}))}))((function(e){var n=e.label,a=e.onChange,i=e.value,d=e.id,u=e.name,p=e.type,m=void 0===p?"text":p,Z=e.autoComplete,g=void 0===Z?"off":Z,v=e.disabled,j=void 0!==v&&v,C=e.multiline,k=void 0!==C&&C,N=e.tooltip,y=void 0===N?"":N,S=e.index,w=void 0===S?0:S,L=e.error,F=void 0===L?"":L,M=e.required,P=void 0!==M&&M,E=e.placeholder,I=void 0===E?"":E,B=e.min,O=e.max,R=e.overlayIcon,q=void 0===R?null:R,D=e.overlayObject,z=void 0===D?null:D,W=e.extraInputProps,T=void 0===W?{}:W,_=e.overlayAction,A=e.noLabelMinWidth,H=void 0!==A&&A,$=e.pattern,Y=void 0===$?"":$,Q=e.autoFocus,U=void 0!==Q&&Q,V=e.classes,K=e.className,X=void 0===K?"":K,G=(0,t.Z)({"data-index":w},T);return"number"===m&&B&&(G.min=B),"number"===m&&O&&(G.max=O),""!==Y&&(G.pattern=Y),(0,f.jsx)(o.Fragment,{children:(0,f.jsxs)(r.ZP,{container:!0,className:(0,x.Z)(""!==X?X:"",""!==F?V.errorInField:V.inputBoxContainer),children:[""!==n&&(0,f.jsxs)(l.Z,{htmlFor:d,className:H?V.noMinWidthLabel:V.inputLabel,children:[(0,f.jsxs)("span",{children:[n,P?"*":""]}),""!==y&&(0,f.jsx)("div",{className:V.tooltipContainer,children:(0,f.jsx)(s.Z,{title:y,placement:"top-start",children:(0,f.jsx)("div",{className:V.tooltip,children:(0,f.jsx)(h.Z,{})})})})]}),(0,f.jsxs)("div",{className:V.textBoxContainer,children:[(0,f.jsx)(b,{id:d,name:u,fullWidth:!0,value:i,autoFocus:U,disabled:j,onChange:a,type:m,multiline:k,autoComplete:g,inputProps:G,error:""!==F,helperText:F,placeholder:I,className:V.inputRebase}),q&&(0,f.jsx)("div",{className:"".concat(V.overlayAction," ").concat(""!==n?"withLabel":""),children:(0,f.jsx)(c.Z,{onClick:_?function(){_()}:function(){return null},size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:q})}),z&&(0,f.jsx)("div",{className:"".concat(V.overlayAction," ").concat(""!==n?"withLabel":""),children:z})]})]})})}))},83679:function(e,n,a){var t=a(4942),o=a(1413),i=(a(72791),a(28182)),r=a(61889),l=a(10765),s=a(85523),c=a(61419),d=a(30829),u=a(20068),p=a(11135),m=a(25787),h=a(72455),x=a(23814),f=a(84570),Z=a(80184),b=(0,h.Z)((0,o.Z)({root:{"&:hover":{backgroundColor:"transparent"}}},x.FU)),g=function(e){var n=b();return(0,Z.jsx)(c.Z,(0,o.Z)({className:n.root,disableRipple:!0,color:"default",checkedIcon:(0,Z.jsx)("span",{className:n.radioSelectedIcon}),icon:(0,Z.jsx)("span",{className:n.radioUnselectedIcon})},e))};n.Z=(0,m.Z)((function(e){return(0,p.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},x.YI),x.Hr),{},{optionLabel:{"&.Mui-disabled":{"& .MuiFormControlLabel-label":{color:"#9c9c9c"}},"&:last-child":{marginRight:0},"& .MuiFormControlLabel-label":{fontSize:12,color:"#07193E"}},checkedOption:{"& .MuiFormControlLabel-label":{fontSize:12,color:"#07193E",fontWeight:700}}}))}))((function(e){var n=e.selectorOptions,a=void 0===n?[]:n,o=e.currentSelection,c=e.label,p=e.id,m=e.name,h=e.onChange,x=e.tooltip,b=void 0===x?"":x,v=e.disableOptions,j=void 0!==v&&v,C=e.classes,k=e.displayInColumn,N=void 0!==k&&k;return(0,Z.jsxs)(r.ZP,{container:!0,alignItems:"center",children:[(0,Z.jsx)(r.ZP,{item:!0,xs:!0,children:(0,Z.jsxs)(d.Z,{htmlFor:p,className:C.inputLabel,children:[(0,Z.jsx)("span",{children:c}),""!==b&&(0,Z.jsx)("div",{className:C.tooltipContainer,children:(0,Z.jsx)(u.Z,{title:b,placement:"top-start",children:(0,Z.jsx)("div",{children:(0,Z.jsx)(f.Z,{})})})})]})}),(0,Z.jsx)(r.ZP,{item:!0,xs:!0,className:C.radioOptionsLayout,children:(0,Z.jsx)(l.Z,{"aria-label":p,id:p,name:m,value:o,onChange:h,row:!N,style:{display:"block",textAlign:"right"},children:a.map((function(e){return(0,Z.jsx)(s.Z,{value:e.value,control:(0,Z.jsx)(g,{}),label:e.label,disabled:j,className:(0,i.Z)(C.optionLabel,(0,t.Z)({},C.checkedOption,e.value===o))},"rd-".concat(m,"-").concat(e.value))}))})})]})}))},90673:function(e,n,a){var t=a(1413),o=a(72791),i=a(61889),r=a(4834),l=a(30829),s=a(20068),c=a(68096),d=a(58406),u=a(23786),p=a(11135),m=a(25787),h=a(23814),x=a(84570),f=a(80184),Z=(0,m.Z)((function(e){return(0,p.Z)({root:{height:38,lineHeight:1,"label + &":{marginTop:e.spacing(3)}},input:{height:38,position:"relative",color:"#07193E",fontSize:13,fontWeight:600,padding:"8px 20px 10px 10px",border:"#e5e5e5 1px solid",borderRadius:4,display:"flex",alignItems:"center","&:hover":{borderColor:"#393939"},"&:focus":{backgroundColor:"#fff"}}})}))(r.ZP);n.Z=(0,m.Z)((function(e){return(0,p.Z)((0,t.Z)((0,t.Z)((0,t.Z)({},h.YI),h.Hr),{},{inputLabel:(0,t.Z)((0,t.Z)({},h.YI.inputLabel),{},{"& span":{fontWeight:"normal"}}),fieldContainer:{display:"flex","@media (max-width: 600px)":{flexFlow:"column"}}}))}))((function(e){var n=e.classes,a=e.id,t=e.name,r=e.onChange,p=e.options,m=e.label,h=e.tooltip,b=void 0===h?"":h,g=e.value,v=e.disabled,j=void 0!==v&&v;return(0,f.jsx)(o.Fragment,{children:(0,f.jsxs)(i.ZP,{item:!0,xs:12,className:n.fieldContainer,children:[""!==m&&(0,f.jsxs)(l.Z,{htmlFor:a,className:n.inputLabel,children:[(0,f.jsx)("span",{children:m}),""!==b&&(0,f.jsx)("div",{className:n.tooltipContainer,children:(0,f.jsx)(s.Z,{title:b,placement:"top-start",children:(0,f.jsx)("div",{className:n.tooltip,children:(0,f.jsx)(x.Z,{})})})})]}),(0,f.jsx)(c.Z,{fullWidth:!0,children:(0,f.jsx)(d.Z,{id:a,name:t,value:g,onChange:r,input:(0,f.jsx)(Z,{}),disabled:j,children:p.map((function(e){return(0,f.jsx)(u.Z,{value:e.value,children:e.label},"select-".concat(t,"-").concat(e.label))}))})})]})})}))},401:function(e,n,a){a.d(n,{Z:function(){return w}});var t,o=a(70885),i=a(1413),r=a(72791),l=a(60364),s=a(13400),c=a(55646),d=a(5574),u=a(65661),p=a(39157),m=a(11135),h=a(25787),x=a(23814),f=a(42649),Z=a(26181),b=a.n(Z),g=a(10215),v=a(15146),j=a(29823),C=a(80184),k=function(){clearInterval(t)},N={displayErrorMessage:f.zb},y=(0,l.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),N)((0,h.Z)((function(e){return(0,m.Z)({modalErrorContainer:{position:"absolute",marginTop:10,width:"80%",backgroundColor:"#fff",border:"#C72C48 1px solid",borderLeftWidth:12,borderRadius:3,zIndex:1e3,padding:"10px 15px",left:"50%",transform:"translateX(-50%)",opacity:0,transitionDuration:"0.2s"},modalErrorShow:{opacity:1},closeButton:{position:"absolute",right:5,fontSize:"small",border:0,backgroundColor:"#fff",cursor:"pointer"},errorTitle:{display:"flex",alignItems:"center"},errorLabel:{color:"#000",fontSize:18,fontWeight:500,marginLeft:5,marginRight:25},messageIcon:{color:"#C72C48",display:"flex","& svg":{width:32,height:32}},detailsButton:{color:"#9C9C9C",display:"flex",alignItems:"center",border:0,backgroundColor:"transparent",paddingLeft:5,fontSize:14,transformDuration:"0.3s",cursor:"pointer"},extraDetailsContainer:{fontStyle:"italic",color:"#9C9C9C",lineHeight:0,padding:"0 10px",transition:"all .2s ease-in-out",overflow:"hidden"},extraDetailsOpen:{lineHeight:1,padding:"3px 10px"},arrowElement:{marginLeft:-5},arrowOpen:{transform:"rotateZ(90deg)",transformDuration:"0.3s"}})}))((function(e){var n=e.classes,a=e.modalSnackMessage,i=e.displayErrorMessage,l=e.customStyle,s=(0,r.useState)(!1),c=(0,o.Z)(s,2),d=c[0],u=c[1],p=(0,r.useState)(!1),m=(0,o.Z)(p,2),h=m[0],x=m[1],f=(0,r.useCallback)((function(){x(!1)}),[]);(0,r.useEffect)((function(){h||(i({detailedError:"",errorMessage:""}),u(!1))}),[i,h]),(0,r.useEffect)((function(){""!==a.message&&"error"===a.type&&x(!0)}),[f,a.message,a.type]);var Z=b()(a,"message",""),N=b()(a,"detailedErrorMsg","");return"error"!==a.type||""===Z?null:(0,C.jsx)(r.Fragment,{children:(0,C.jsxs)("div",{className:"".concat(n.modalErrorContainer," ").concat(h?n.modalErrorShow:""),style:l,onMouseOver:k,onMouseLeave:function(){t=setInterval(f,1e4)},children:[(0,C.jsx)("button",{className:n.closeButton,onClick:f,children:(0,C.jsx)(j.Z,{})}),(0,C.jsxs)("div",{className:n.errorTitle,children:[(0,C.jsx)("span",{className:n.messageIcon,children:(0,C.jsx)(v.Z,{})}),(0,C.jsx)("span",{className:n.errorLabel,children:Z})]}),""!==N&&(0,C.jsxs)(r.Fragment,{children:[(0,C.jsx)("div",{className:n.detailsContainerLink,children:(0,C.jsxs)("button",{className:n.detailsButton,onClick:function(){u(!d)},children:["Details",(0,C.jsx)(g.Z,{className:"".concat(n.arrowElement," ").concat(d?n.arrowOpen:"")})]})}),(0,C.jsx)("div",{className:"".concat(n.extraDetailsContainer," ").concat(d?n.extraDetailsOpen:""),children:N})]})]})})}))),S=(0,l.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:f.MK}),w=(0,h.Z)((function(e){return(0,m.Z)((0,i.Z)((0,i.Z)({},x.Qw),{},{root:{"& .MuiPaper-root":{padding:"0 2rem 2rem 1rem"}},content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},x.sN))}))(S((function(e){var n=e.onClose,a=e.modalOpen,t=e.title,l=e.children,m=e.classes,h=e.wideLimit,x=void 0===h||h,f=e.modalSnackMessage,Z=e.noContentPadding,b=e.setModalSnackMessage,g=e.titleIcon,v=void 0===g?null:g,k=(0,r.useState)(!1),N=(0,o.Z)(k,2),S=N[0],w=N[1];(0,r.useEffect)((function(){b("")}),[b]),(0,r.useEffect)((function(){if(f){if(""===f.message)return void w(!1);"error"!==f.type&&w(!0)}}),[f]);var L=x?{classes:{paper:m.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},F="";return f&&(F=f.detailedErrorMsg,(""===f.detailedErrorMsg||f.detailedErrorMsg.length<5)&&(F=f.message)),(0,C.jsxs)(d.Z,(0,i.Z)((0,i.Z)({open:a,classes:m},L),{},{scroll:"paper",onClose:function(e,a){"backdropClick"!==a&&n()},className:m.root,children:[(0,C.jsxs)(u.Z,{className:m.title,children:[(0,C.jsxs)("div",{className:m.titleText,children:[v," ",t]}),(0,C.jsx)("div",{className:m.closeContainer,children:(0,C.jsx)(s.Z,{"aria-label":"close",className:m.closeButton,onClick:n,disableRipple:!0,size:"small",children:(0,C.jsx)(j.Z,{})})})]}),(0,C.jsx)(y,{}),(0,C.jsx)(c.Z,{open:S,className:m.snackBarModal,onClose:function(){w(!1),b("")},message:F,ContentProps:{className:"".concat(m.snackBar," ").concat(f&&"error"===f.type?m.errorSnackBar:"")},autoHideDuration:f&&"error"===f.type?1e4:5e3}),(0,C.jsx)(p.Z,{className:Z?"":m.content,children:l})]}))})))}}]);
//# sourceMappingURL=1581.c64f1d86.chunk.js.map