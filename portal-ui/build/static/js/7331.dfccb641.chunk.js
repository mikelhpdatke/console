"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[7331],{21435:function(n,t,e){var o=e(1413),a=e(72791),i=e(27391),r=e(61889),s=e(30829),l=e(20068),c=e(13400),d=e(11135),u=e(72455),g=e(25787),p=e(23814),m=e(84570),f=e(28182),v=e(80184),Z=(0,u.Z)((function(n){return(0,d.Z)((0,o.Z)({},p.gM))}));function h(n){var t=Z();return(0,v.jsx)(i.Z,(0,o.Z)({InputProps:{classes:t}},n))}t.Z=(0,g.Z)((function(n){return(0,d.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},p.YI),p.Hr),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}},inputLabel:(0,o.Z)((0,o.Z)({},p.YI.inputLabel),{},{fontWeight:"normal"})}))}))((function(n){var t=n.label,e=n.onChange,i=n.value,d=n.id,u=n.name,g=n.type,p=void 0===g?"text":g,Z=n.autoComplete,x=void 0===Z?"off":Z,b=n.disabled,I=void 0!==b&&b,j=n.multiline,P=void 0!==j&&j,y=n.tooltip,S=void 0===y?"":y,C=n.index,L=void 0===C?0:C,N=n.error,w=void 0===N?"":N,M=n.required,E=void 0!==M&&M,k=n.placeholder,R=void 0===k?"":k,T=n.min,B=n.max,F=n.overlayIcon,D=void 0===F?null:F,A=n.overlayObject,W=void 0===A?null:A,K=n.extraInputProps,O=void 0===K?{}:K,z=n.overlayAction,G=n.noLabelMinWidth,H=void 0!==G&&G,Y=n.pattern,$=void 0===Y?"":Y,_=n.autoFocus,q=void 0!==_&&_,Q=n.classes,V=n.className,X=void 0===V?"":V,J=(0,o.Z)({"data-index":L},O);return"number"===p&&T&&(J.min=T),"number"===p&&B&&(J.max=B),""!==$&&(J.pattern=$),(0,v.jsx)(a.Fragment,{children:(0,v.jsxs)(r.ZP,{container:!0,className:(0,f.Z)(""!==X?X:"",""!==w?Q.errorInField:Q.inputBoxContainer),children:[""!==t&&(0,v.jsxs)(s.Z,{htmlFor:d,className:H?Q.noMinWidthLabel:Q.inputLabel,children:[(0,v.jsxs)("span",{children:[t,E?"*":""]}),""!==S&&(0,v.jsx)("div",{className:Q.tooltipContainer,children:(0,v.jsx)(l.Z,{title:S,placement:"top-start",children:(0,v.jsx)("div",{className:Q.tooltip,children:(0,v.jsx)(m.Z,{})})})})]}),(0,v.jsxs)("div",{className:Q.textBoxContainer,children:[(0,v.jsx)(h,{id:d,name:u,fullWidth:!0,value:i,autoFocus:q,disabled:I,onChange:e,type:p,multiline:P,autoComplete:x,inputProps:J,error:""!==w,helperText:w,placeholder:R,className:Q.inputRebase}),D&&(0,v.jsx)("div",{className:"".concat(Q.overlayAction," ").concat(""!==t?"withLabel":""),children:(0,v.jsx)(c.Z,{onClick:z?function(){z()}:function(){return null},size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:D})}),W&&(0,v.jsx)("div",{className:"".concat(Q.overlayAction," ").concat(""!==t?"withLabel":""),children:W})]})]})})}))},9505:function(n,t,e){var o=e(70885),a=e(72791),i=e(81207);t.Z=function(n,t){var e=(0,a.useState)(!1),r=(0,o.Z)(e,2),s=r[0],l=r[1];return[s,function(e,o,a){l(!0),i.Z.invoke(e,o,a).then((function(t){l(!1),n(t)})).catch((function(n){l(!1),t(n)}))}]}},23508:function(n,t,e){var o=e(1413),a=e(72791),i=e(5574),r=e(65661),s=e(39157),l=e(97123),c=e(36151),d=e(39709),u=e(13400),g=e(29823),p=e(11135),m=e(25787),f=e(23814),v=e(80184);t.Z=(0,m.Z)((function(n){return(0,p.Z)((0,o.Z)({},f.Qw))}))((function(n){var t=n.isOpen,e=void 0!==t&&t,p=n.onClose,m=n.onCancel,f=n.onConfirm,Z=n.classes,h=void 0===Z?{}:Z,x=n.title,b=void 0===x?"":x,I=n.isLoading,j=n.confirmationContent,P=n.cancelText,y=void 0===P?"Cancel":P,S=n.confirmText,C=void 0===S?"Confirm":S,L=n.confirmButtonProps,N=void 0===L?{}:L,w=n.cancelButtonProps,M=void 0===w?{}:w,E=n.titleIcon,k=void 0===E?null:E;return(0,v.jsxs)(i.Z,{open:e,onClose:function(n,t){"backdropClick"!==t&&p()},className:h.root,sx:{"& .MuiPaper-root":{padding:"1rem 2rem 2rem 1rem"}},children:[(0,v.jsxs)(r.Z,{className:h.title,children:[(0,v.jsxs)("div",{className:h.titleText,children:[k," ",b]}),(0,v.jsx)("div",{className:h.closeContainer,children:(0,v.jsx)(u.Z,{"aria-label":"close",className:h.closeButton,onClick:p,disableRipple:!0,size:"small",children:(0,v.jsx)(g.Z,{})})})]}),(0,v.jsx)(s.Z,{className:h.content,children:j}),(0,v.jsxs)(l.Z,{className:h.actions,children:[(0,v.jsx)(c.Z,(0,o.Z)((0,o.Z)({className:h.cancelButton,onClick:m||p,disabled:I,type:"button"},M),{},{variant:"outlined",color:"primary",children:y})),(0,v.jsx)(d.Z,(0,o.Z)((0,o.Z)({className:h.confirmButton,type:"button",onClick:f,loading:I,disabled:I,variant:"outlined",color:"secondary",loadingPosition:"start",startIcon:(0,v.jsx)(a.Fragment,{}),autoFocus:!0},N),{},{children:C}))]})]})}))},27331:function(n,t,e){e.r(t),e.d(t,{default:function(){return P}});var o=e(70885),a=e(1413),i=e(72791),r=e(60364),s=e(11135),l=e(25787),c=e(23814),d=e(45248),u=e(42649),g=e(81207),p=e(92983),m=e(51691),f=e(21435),v=e(61889),Z=e(9505),h=e(23508),x=e(96389),b=e(80184),I=(0,r.$j)(null,{setErrorSnackMessage:u.Ih})((function(n){var t=n.deleteOpen,e=n.selectedPod,a=n.closeDeleteModalAndRefresh,r=n.setErrorSnackMessage,s=(0,i.useState)(""),l=(0,o.Z)(s,2),c=l[0],d=l[1],u=(0,Z.Z)((function(){return a(!0)}),(function(n){return r(n)})),g=(0,o.Z)(u,2),p=g[0],I=g[1];return(0,b.jsx)(h.Z,{title:"Delete Pod",confirmText:"Delete",isOpen:t,titleIcon:(0,b.jsx)(x.Nv,{}),isLoading:p,onConfirm:function(){c===e.name?I("DELETE","/api/v1/namespaces/".concat(e.namespace,"/tenants/").concat(e.tenant,"/pods/").concat(e.name)):r({errorMessage:"Tenant name is incorrect",detailedError:""})},onClose:function(){return a(!1)},confirmButtonProps:{disabled:c!==e.name||p},confirmationContent:(0,b.jsxs)(m.Z,{children:["To continue please type ",(0,b.jsx)("b",{children:e.name})," in the box.",(0,b.jsx)(v.ZP,{item:!0,xs:12,children:(0,b.jsx)(f.Z,{id:"retype-pod",name:"retype-pod",onChange:function(n){d(n.target.value)},label:"",value:c})})]})})})),j=(0,r.$j)((function(n){return{loadingTenant:n.tenants.tenantDetails.loadingTenant}}),{setErrorSnackMessage:u.Ih}),P=(0,l.Z)((function(n){return(0,s.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},c.oZ),c.VX),(0,c.Bz)(n.spacing(4))))}))(j((function(n){var t=n.classes,e=n.match,a=n.history,r=n.loadingTenant,s=(0,i.useState)([]),l=(0,o.Z)(s,2),c=l[0],m=l[1],f=(0,i.useState)(!0),Z=(0,o.Z)(f,2),h=Z[0],x=Z[1],j=(0,i.useState)(!1),P=(0,o.Z)(j,2),y=P[0],S=P[1],C=(0,i.useState)(null),L=(0,o.Z)(C,2),N=L[0],w=L[1],M=e.params.tenantName,E=e.params.tenantNamespace,k=[{type:"view",onClick:function(n){a.push("/namespaces/".concat(E,"/tenants/").concat(M,"/pods/").concat(n.name))}},{type:"delete",onClick:function(n){n.tenant=M,n.namespace=E,w(n),S(!0)}}];return(0,i.useEffect)((function(){r&&x(!0)}),[r]),(0,i.useEffect)((function(){h&&g.Z.invoke("GET","/api/v1/namespaces/".concat(E,"/tenants/").concat(M,"/pods")).then((function(n){for(var t=0;t<n.length;t++){var e=Date.now()/1e3|0;n[t].time=(0,d.v1)((e-parseInt(n[t].timeCreated)).toString())}m(n),x(!1)})).catch((function(n){(0,u.Ih)({errorMessage:"Error loading pods",detailedError:n.detailedError})}))}),[h,M,E]),(0,b.jsxs)(i.Fragment,{children:[y&&(0,b.jsx)(I,{deleteOpen:y,selectedPod:N,closeDeleteModalAndRefresh:function(n){S(!1),x(!0)}}),(0,b.jsx)("h1",{className:t.sectionTitle,children:"Pods"}),(0,b.jsx)(v.ZP,{item:!0,xs:12,className:t.tableBlock,children:(0,b.jsx)(p.Z,{columns:[{label:"Name",elementKey:"name"},{label:"Status",elementKey:"status"},{label:"Age",elementKey:"time"},{label:"Pod IP",elementKey:"podIP"},{label:"Restarts",elementKey:"restarts",renderFunction:function(n){return null!==n?n:0}},{label:"Node",elementKey:"node"}],isLoading:h,records:c,itemActions:k,entityName:"Servers",idField:"name"})})]})})))},39709:function(n,t,e){e.d(t,{Z:function(){return I}});var o=e(4942),a=e(63366),i=e(87462),r=e(72791),s=e(14036),l=e(67384),c=e(90767),d=e(47630),u=e(93736),g=e(36151),p=e(13239),m=e(95159);function f(n){return(0,m.Z)("MuiLoadingButton",n)}var v=(0,e(30208).Z)("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),Z=e(80184),h=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],x=(0,d.ZP)(g.Z,{shouldForwardProp:function(n){return function(n){return"ownerState"!==n&&"theme"!==n&&"sx"!==n&&"as"!==n&&"classes"!==n}(n)||"classes"===n},name:"MuiLoadingButton",slot:"Root",overridesResolver:function(n,t){return[t.root,t.startIconLoadingStart&&(0,o.Z)({},"& .".concat(v.startIconLoadingStart),t.startIconLoadingStart),t.endIconLoadingEnd&&(0,o.Z)({},"& .".concat(v.endIconLoadingEnd),t.endIconLoadingEnd)]}})((function(n){var t=n.ownerState,e=n.theme;return(0,i.Z)((0,o.Z)({},"& .".concat(v.startIconLoadingStart,", & .").concat(v.endIconLoadingEnd),{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}),"center"===t.loadingPosition&&(0,o.Z)({transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short})},"&.".concat(v.loading),{color:"transparent"}),"start"===t.loadingPosition&&t.fullWidth&&(0,o.Z)({},"& .".concat(v.startIconLoadingStart,", & .").concat(v.endIconLoadingEnd),{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0,marginRight:-8}),"end"===t.loadingPosition&&t.fullWidth&&(0,o.Z)({},"& .".concat(v.startIconLoadingStart,", & .").concat(v.endIconLoadingEnd),{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0,marginLeft:-8}))})),b=(0,d.ZP)("div",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:function(n,t){var e=n.ownerState;return[t.loadingIndicator,t["loadingIndicator".concat((0,s.Z)(e.loadingPosition))]]}})((function(n){var t=n.theme,e=n.ownerState;return(0,i.Z)({position:"absolute",visibility:"visible",display:"flex"},"start"===e.loadingPosition&&("outlined"===e.variant||"contained"===e.variant)&&{left:14},"start"===e.loadingPosition&&"text"===e.variant&&{left:6},"center"===e.loadingPosition&&{left:"50%",transform:"translate(-50%)",color:t.palette.action.disabled},"end"===e.loadingPosition&&("outlined"===e.variant||"contained"===e.variant)&&{right:14},"end"===e.loadingPosition&&"text"===e.variant&&{right:6},"start"===e.loadingPosition&&e.fullWidth&&{position:"relative",left:-10},"end"===e.loadingPosition&&e.fullWidth&&{position:"relative",right:-10})})),I=r.forwardRef((function(n,t){var e=(0,u.Z)({props:n,name:"MuiLoadingButton"}),o=e.children,d=e.disabled,g=void 0!==d&&d,m=e.id,v=e.loading,I=void 0!==v&&v,j=e.loadingIndicator,P=e.loadingPosition,y=void 0===P?"center":P,S=e.variant,C=void 0===S?"text":S,L=(0,a.Z)(e,h),N=(0,l.Z)(m),w=null!=j?j:(0,Z.jsx)(p.Z,{"aria-labelledby":N,color:"inherit",size:16}),M=(0,i.Z)({},e,{disabled:g,loading:I,loadingIndicator:w,loadingPosition:y,variant:C}),E=function(n){var t=n.loading,e=n.loadingPosition,o=n.classes,a={root:["root",t&&"loading"],startIcon:[t&&"startIconLoading".concat((0,s.Z)(e))],endIcon:[t&&"endIconLoading".concat((0,s.Z)(e))],loadingIndicator:["loadingIndicator",t&&"loadingIndicator".concat((0,s.Z)(e))]},r=(0,c.Z)(a,f,o);return(0,i.Z)({},o,r)}(M);return(0,Z.jsx)(x,(0,i.Z)({disabled:g||I,id:N,ref:t},L,{variant:C,classes:E,ownerState:M,children:"end"===M.loadingPosition?(0,Z.jsxs)(r.Fragment,{children:[o,I&&(0,Z.jsx)(b,{className:E.loadingIndicator,ownerState:M,children:w})]}):(0,Z.jsxs)(r.Fragment,{children:[I&&(0,Z.jsx)(b,{className:E.loadingIndicator,ownerState:M,children:w}),o]})}))}))},97123:function(n,t,e){e.d(t,{Z:function(){return f}});var o=e(63366),a=e(87462),i=e(72791),r=e(28182),s=e(90767),l=e(47630),c=e(93736),d=e(95159);function u(n){return(0,d.Z)("MuiDialogActions",n)}(0,e(30208).Z)("MuiDialogActions",["root","spacing"]);var g=e(80184),p=["className","disableSpacing"],m=(0,l.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(n,t){var e=n.ownerState;return[t.root,!e.disableSpacing&&t.spacing]}})((function(n){var t=n.ownerState;return(0,a.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),f=i.forwardRef((function(n,t){var e=(0,c.Z)({props:n,name:"MuiDialogActions"}),i=e.className,l=e.disableSpacing,d=void 0!==l&&l,f=(0,o.Z)(e,p),v=(0,a.Z)({},e,{disableSpacing:d}),Z=function(n){var t=n.classes,e={root:["root",!n.disableSpacing&&"spacing"]};return(0,s.Z)(e,u,t)}(v);return(0,g.jsx)(m,(0,a.Z)({className:(0,r.Z)(Z.root,i),ownerState:v,ref:t},f))}))},51691:function(n,t,e){e.d(t,{Z:function(){return f}});var o=e(63366),a=e(87462),i=e(72791),r=e(90767),s=e(47630),l=e(93736),c=e(20890),d=e(95159);function u(n){return(0,d.Z)("MuiDialogContentText",n)}(0,e(30208).Z)("MuiDialogContentText",["root"]);var g=e(80184),p=["children"],m=(0,s.ZP)(c.Z,{shouldForwardProp:function(n){return(0,s.FO)(n)||"classes"===n},name:"MuiDialogContentText",slot:"Root",overridesResolver:function(n,t){return t.root}})({}),f=i.forwardRef((function(n,t){var e=(0,l.Z)({props:n,name:"MuiDialogContentText"}),i=(0,o.Z)(e,p),s=function(n){var t=n.classes,e=(0,r.Z)({root:["root"]},u,t);return(0,a.Z)({},t,e)}(i);return(0,g.jsx)(m,(0,a.Z)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:i},e,{classes:s}))}))}}]);
//# sourceMappingURL=7331.dfccb641.chunk.js.map