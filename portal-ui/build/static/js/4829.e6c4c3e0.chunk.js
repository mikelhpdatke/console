"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[4829],{84669:function(e,n,t){t(72791);var i=t(91523),a=t(11135),o=t(25787),s=t(96389),r=t(80184);n.Z=(0,o.Z)((function(e){return(0,a.Z)({link:{display:"flex",alignItems:"center",textDecoration:"none",maxWidth:"300px",padding:"2rem 2rem 0rem 2rem",color:e.palette.primary.light,fontSize:".8rem","&:hover":{textDecoration:"underline"}},icon:{marginRight:".3rem",display:"flex",alignItems:"center",justifyContent:"center","& svg.min-icon":{width:12}}})}))((function(e){var n=e.to,t=e.label,a=e.classes,o=e.className,l=e.executeOnClick;return(0,r.jsxs)(i.rU,{to:n,className:"".concat(a.link," ").concat(o||""),onClick:function(){l&&l()},children:[(0,r.jsx)("div",{className:a.icon,children:(0,r.jsx)(s.xN,{})}),(0,r.jsx)("div",{className:a.label,children:t})]})}))},64829:function(e,n,t){t.r(n),t.d(n,{default:function(){return tt}});var i=t(1413),a=t(72791),o=t(60364),s=t(11135),r=t(25787),l=t(91523),c=t(20068),d=t(13400),u=t(61889),m=t(26181),h=t.n(m),f=t(23814),p=t(3925),x=t(70885),b=t(46431),g=t.n(b),j=t(40986),v=t(13239),Z=t(64554),y=t(34433),C=t(47922),k=t(62666),S=t(81207),w=t(92983),N=t(42649),E=t(45248),T=t(56087),_=t(36151),P=[{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],F=Array.from(Array(31),(function(e,n){return n+1})),I=(new Date).getFullYear(),O=Array.from(Array(25),(function(e,n){return n+I})),L=t(401),D=t(81159),B=t(83679),M=t(4942),R=t(28182),z=t(30829),A=t(68096),W=t(58406),U=t(23786),H=t(4834),G=t(84570),K=t(80184),J=(0,r.Z)((function(e){return(0,s.Z)({root:{"& .MuiSelect-icon":{color:"#000","&.Mui-disabled":{color:"#9c9c9c"}}},input:{borderBottom:0,fontSize:12}})}))(H.ZP),Y=(0,a.forwardRef)((function(e,n){var t=e.classes,i=e.id,o=e.label,s=e.disableOptions,r=void 0!==s&&s,l=e.addSwitch,d=void 0!==l&&l,m=e.tooltip,h=void 0===m?"":m,f=e.borderBottom,p=void 0!==f&&f,b=e.onDateChange,g=e.value,j=void 0===g?"":g;(0,a.useImperativeHandle)(n,(function(){return{resetDate:$}}));var v=(0,a.useState)(!1),Z=(0,x.Z)(v,2),y=Z[0],C=Z[1],k=(0,a.useState)(""),S=(0,x.Z)(k,2),w=S[0],N=S[1],E=(0,a.useState)(""),T=(0,x.Z)(E,2),_=T[0],I=T[1],L=(0,a.useState)(""),B=(0,x.Z)(L,2),H=B[0],Y=B[1];(0,a.useEffect)((function(){if(""!==j){var e=j.split("-");Y(e[0]),N(e[1]),I("".concat(parseInt(e[2])))}}),[j]),(0,a.useEffect)((function(){var e=function(e,n,t){var i=Date.parse("".concat(e,"-").concat(n,"-").concat(t));if(isNaN(i))return[!1,""];var a=parseInt(n),o=parseInt(t),s=a<10?"0".concat(a):a,r=o<10?"0".concat(o):o,l=new Date(i).toISOString().split("T")[0],c="".concat(e,"-").concat(s,"-").concat(r);return[l===c,c]}(H,w,_),n=(0,x.Z)(e,2),t=n[0],i=n[1];b(i,t)}),[w,_,H,b]);var $=function(){N(""),I(""),Y("")},V=function(){return r||!!d&&!y};return(0,K.jsxs)(u.ZP,{item:!0,xs:12,className:(0,R.Z)(t.fieldContainer,(0,M.Z)({},t.fieldContainerBorder,p)),children:[(0,K.jsx)("div",{className:t.labelContainer,children:(0,K.jsxs)(u.ZP,{container:!0,children:[(0,K.jsxs)(z.Z,{htmlFor:i,className:t.inputLabel,children:[(0,K.jsx)("span",{children:o}),""!==h&&(0,K.jsx)("div",{className:t.tooltipContainer,children:(0,K.jsx)(c.Z,{title:h,placement:"top-start",children:(0,K.jsx)("div",{className:t.tooltip,children:(0,K.jsx)(G.Z,{})})})})]}),d&&(0,K.jsx)(D.Z,{indicatorLabels:["Specific Date","Default (7 Days)"],checked:y,value:"date_enabled",id:"date-status",name:"date-status",onChange:function(e){C(e.target.checked),e.target.checked||b("",!0)},switchOnly:!0})]})}),(0,K.jsxs)("div",{children:[(0,K.jsx)(A.Z,{disabled:V(),className:t.dateInput,children:(0,K.jsxs)(W.Z,{id:"".concat(i,"-month"),name:"".concat(i,"-month"),value:w,displayEmpty:!0,onChange:function(e){N(e.target.value)},input:(0,K.jsx)(J,{}),children:[(0,K.jsx)(U.Z,{value:"",disabled:!0,children:"<Month>"}),P.map((function(e){return(0,K.jsx)(U.Z,{value:e.value,children:e.label},"select-".concat(i,"-monthOP-").concat(e.label))}))]})}),(0,K.jsx)(A.Z,{disabled:V(),className:t.dateInput,children:(0,K.jsxs)(W.Z,{id:"".concat(i,"-day"),name:"".concat(i,"-day"),value:_,displayEmpty:!0,onChange:function(e){I(e.target.value)},input:(0,K.jsx)(J,{}),children:[(0,K.jsx)(U.Z,{value:"",disabled:!0,children:"<Day>"}),F.map((function(e){return(0,K.jsx)(U.Z,{value:e,children:e},"select-".concat(i,"-dayOP-").concat(e))}))]})}),(0,K.jsx)(A.Z,{disabled:V(),className:t.dateInput,children:(0,K.jsxs)(W.Z,{id:"".concat(i,"-year"),name:"".concat(i,"-year"),value:H,displayEmpty:!0,onChange:function(e){Y(e.target.value)},input:(0,K.jsx)(J,{}),children:[(0,K.jsx)(U.Z,{value:"",disabled:!0,children:"<Year>"}),O.map((function(e){return(0,K.jsx)(U.Z,{value:e,children:e},"select-".concat(i,"-yearOP-").concat(e))}))]})})]})]})})),$=(0,r.Z)((function(e){return(0,s.Z)((0,i.Z)((0,i.Z)((0,i.Z)({dateInput:{"&:not(:last-child)":{marginRight:22}}},f.YI),f.Hr),{},{labelContainer:{flex:1},fieldContainer:(0,i.Z)((0,i.Z)({},f.YI.fieldContainer),{},{display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:10,marginTop:11,marginBottom:6}),fieldContainerBorder:{borderBottom:"#9c9c9c 1px solid",marginBottom:20}}))}))(Y),V={setModalErrorSnackMessage:N.zb},q=(0,o.$j)(null,V),X=(0,r.Z)((function(e){return(0,s.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},f.DF),f.ID),f.bK),{},{dateSelector:{"& div":{borderBottom:0,marginBottom:0,"& div:nth-child(2)":{border:"1px solid #EAEAEA",paddingLeft:5,"& div":{border:0}}}}}))}))(q((function(e){var n=e.classes,t=e.open,i=e.closeModalAndRefresh,o=e.objectName,s=e.objectInfo,r=e.bucketName,l=e.setModalErrorSnackMessage,c=(0,a.useState)(!0),d=(0,x.Z)(c,2),m=d[0],h=d[1],f=(0,a.useState)(""),p=(0,x.Z)(f,2),b=p[0],g=p[1],j=(0,a.useState)(""),v=(0,x.Z)(j,2),Z=v[0],y=v[1],C=(0,a.useState)(!1),k=(0,x.Z)(C,2),w=k[0],N=k[1],T=(0,a.useState)(!1),P=(0,x.Z)(T,2),F=P[0],I=P[1],O=(0,a.useState)(!1),M=(0,x.Z)(O,2),R=M[0],z=M[1];(0,a.useEffect)((function(){if(s.retention_mode&&(g(s.retention_mode.toLowerCase()),z(!0)),s.retention_until_date){var e=new Date(s.retention_until_date);if("Invalid Date"!==e.toString()){var n=e.getFullYear(),t=(a=e.getMonth()+1)<10?"0".concat(a):"".concat(a),i=e.getDate();isNaN(i)||"NaN"===t||isNaN(n)||y("".concat(n,"-").concat(t,"-").concat(i))}z(!0)}var a}),[s]);var A=(0,a.useRef)(null),W=function(){h(!1),g(""),A.current&&A.current.resetDate()},U=R&&("governance"===b||""===b);return(0,K.jsxs)(L.Z,{title:"Set Retention Policy",modalOpen:t,onClose:function(){W(),i(!1)},children:[(0,K.jsxs)("div",{className:n.spacerBottom,children:[(0,K.jsx)("strong",{children:"Selected Object"}),": ",o]}),(0,K.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault()}(e)},children:[U&&(0,K.jsx)(u.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,K.jsx)(D.Z,{value:"status",id:"status",name:"status",checked:m,onChange:function(e){h(!m)},label:"Status",indicatorLabels:["Enabled","Disabled"]})}),(0,K.jsx)(u.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,K.jsx)(B.Z,{currentSelection:b,id:"type",name:"type",label:"Type",disableOptions:!m||R&&""!==b,onChange:function(e){g(e.target.value)},selectorOptions:[{label:"Governance",value:"governance"},{label:"Compliance",value:"compliance"}]})}),(0,K.jsx)(u.ZP,{item:!0,xs:12,className:"".concat(n.dateSelector," "),children:(0,K.jsx)($,{id:"date",label:"Date",disableOptions:!(m&&("governance"===b||"compliance"===b)),ref:A,value:Z,borderBottom:!0,onDateChange:function(e,n){N(n),n&&y(e)}})}),(0,K.jsxs)(u.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,K.jsx)(_.Z,{type:"button",variant:"outlined",color:"primary",onClick:W,children:"Reset"}),(0,K.jsx)(_.Z,{type:"submit",variant:"contained",color:"primary",disabled:m&&""===b||m&&!w||F,onClick:function(){I(!0);var e=s.name,n=s.version_id,t=m||"governance"!==b?"".concat(Z,"T23:59:59Z"):"";m||"governance"!==b?function(e,n,t){S.Z.invoke("PUT","/api/v1/buckets/".concat(r,"/objects/retention?prefix=").concat((0,E.ug)(e),"&version_id=").concat(n),{expires:t,mode:b}).then((function(e){I(!1),i(!0)})).catch((function(e){l(e),I(!1)}))}(e,n,t):function(e,n){S.Z.invoke("DELETE","/api/v1/buckets/".concat(r,"/objects/retention?prefix=").concat((0,E.ug)(e),"&version_id=").concat(n)).then((function(){I(!1),i(!0)})).catch((function(e){l(e),I(!1)}))}(e,n)},children:"Save"})]})]})]})}))),Q=(0,o.$j)((function(e){var n=e.objectBrowser;return{rewindEnabled:h()(n,"rewind.rewindEnabled",!1),rewindDate:h()(n,"rewind.dateToRewind",null)}}),null),ee=(0,r.Z)((function(e){return(0,s.Z)((0,i.Z)({},f.cx))}))(Q((function(e){var n=e.classes,t=e.bucketName,i=e.internalPaths,o=(e.rewindEnabled,e.rewindDate,e.fullSizeBreadcrumbs),s=i;""!==i&&(s="/".concat(i));var r=s.split("/").filter((function(e){return""!==e})),c=r.map((function(e,n){var i=r.slice(0,n+1).join("/"),o="/buckets/".concat(t,"/browse/").concat(i?"".concat((0,E.ug)(i)):"");return(0,K.jsxs)(a.Fragment,{children:[(0,K.jsx)(l.rU,{to:o,children:e}),n<r.length-1&&(0,K.jsx)("span",{children:" / "})]},"breadcrumbs-".concat(n.toString()))}));return(0,K.jsxs)(a.Fragment,{children:[!1,(0,K.jsxs)(u.ZP,{item:!0,xs:12,className:"".concat(n.breadcrumbs," ").concat(o?"fullSize":""),children:[(0,K.jsxs)(a.Fragment,{children:[(0,K.jsx)(l.rU,{to:"/buckets/".concat(t,"/browse"),children:t}),c.length>0&&(0,K.jsx)("span",{children:" / "})]}),c]})]})}))),ne=t(51691),te=t(23508),ie=t(9505),ae=t(96389),oe={setErrorSnackMessage:N.Ih},se=(0,o.$j)(null,oe)((function(e){var n=e.closeDeleteModalAndRefresh,t=e.deleteOpen,i=e.selectedBucket,o=e.selectedObject,s=e.setErrorSnackMessage,r=e.versioning,l=(0,ie.Z)((function(){return n(!0)}),(function(e){return s(e)})),c=(0,x.Z)(l,2),d=c[0],u=c[1],m=(0,a.useState)(!1),h=(0,x.Z)(m,2),f=h[0],p=h[1];if(!o)return null;return(0,K.jsx)(te.Z,{title:"Delete Object",confirmText:"Delete",isOpen:t,titleIcon:(0,K.jsx)(ae.Nv,{}),isLoading:d,onConfirm:function(){var e=(0,E.le)(o).endsWith("/");u("DELETE","/api/v1/buckets/".concat(i,"/objects?path=").concat(o,"&recursive=").concat(e,"&all_versions=").concat(f))},onClose:function(){return n(!1)},confirmationContent:(0,K.jsxs)(ne.Z,{children:["Are you sure you want to delete:"," ",(0,K.jsx)("b",{children:(0,E.le)(o)}),"? ",(0,K.jsx)("br",{}),r&&(0,K.jsx)(D.Z,{label:"Delete All Versions",indicatorLabels:["Yes","No"],checked:f,value:"delete_versions",id:"delete-versions",name:"delete-versions",onChange:function(e){p(!f)},description:""})]})})})),re=t(21435),le={setModalErrorSnackMessage:N.zb},ce=(0,o.$j)((function(e){var n=e.system;return{distributedSetup:h()(n,"distributedSetup",!1)}}),le),de=(0,r.Z)((function(e){return(0,s.Z)((0,i.Z)((0,i.Z)((0,i.Z)({pathLabel:{marginTop:0,marginBottom:32}},f.DF),f.ID),f.bK))}))(ce((function(e){var n=e.modalOpen,t=e.currentTags,o=e.selectedObject,s=e.onCloseAndUpdate,r=e.bucketName,l=e.versionId,c=e.distributedSetup,d=e.setModalErrorSnackMessage,m=e.classes,h=(0,a.useState)(""),f=(0,x.Z)(h,2),p=f[0],b=f[1],g=(0,a.useState)(""),j=(0,x.Z)(g,2),v=j[0],Z=j[1],y=(0,a.useState)(!1),C=(0,x.Z)(y,2),k=C[0],w=C[1];return(0,K.jsx)(a.Fragment,{children:(0,K.jsx)(L.Z,{modalOpen:n,title:"Add New Tag to the Object",onClose:function(){s(!0)},titleIcon:(0,K.jsx)(ae.OC,{}),children:(0,K.jsxs)(u.ZP,{container:!0,children:[(0,K.jsxs)("div",{className:m.spacerBottom,children:[(0,K.jsx)("strong",{children:"Selected Object"}),": ",(0,E.le)(o)]}),(0,K.jsx)(u.ZP,{item:!0,xs:12,className:m.formFieldRow,children:(0,K.jsx)(re.Z,{value:p,label:"Tag Key",id:"newTagKey",name:"newTagKey",placeholder:"Enter Tag Key",onChange:function(e){b(e.target.value)}})}),(0,K.jsx)(u.ZP,{item:!0,xs:12,className:m.formFieldRow,children:(0,K.jsx)(re.Z,{value:v,label:"Tag Label",id:"newTagLabel",name:"newTagLabel",placeholder:"Enter Tag Label",onChange:function(e){Z(e.target.value)}})}),(0,K.jsxs)(u.ZP,{item:!0,xs:12,className:m.modalButtonBar,children:[(0,K.jsx)(_.Z,{type:"button",variant:"outlined",color:"primary",onClick:function(){Z(""),b("")},children:"Clear"}),(0,K.jsx)(_.Z,{type:"submit",variant:"contained",color:"primary",disabled:""===v.trim()||""===p.trim()||k,onClick:function(){w(!0);var e={};e[p]=v;var n=(0,i.Z)((0,i.Z)({},t),e),a=c?l:"null";S.Z.invoke("PUT","/api/v1/buckets/".concat(r,"/objects/tags?prefix=").concat(o,"&version_id=").concat(a),{tags:n}).then((function(e){s(!0),w(!1)})).catch((function(e){d(e),w(!1)}))},children:"Save"})]})]})})})}))),ue={setErrorSnackMessage:N.Ih},me=(0,o.$j)((function(e){var n=e.system;return{distributedSetup:h()(n,"distributedSetup",!1)}}),ue),he=(0,r.Z)((function(e){return(0,s.Z)({})}))(me((function(e){var n=e.deleteOpen,t=e.currentTags,a=e.selectedObject,o=e.selectedTag,s=e.onCloseAndUpdate,r=e.bucketName,l=e.versionId,c=e.distributedSetup,d=e.setErrorSnackMessage,u=e.classes,m=(0,x.Z)(o,2),h=m[0],f=m[1],p=(0,ie.Z)((function(){return s(!0)}),(function(e){return d(e)})),b=(0,x.Z)(p,2),g=b[0],j=b[1];if(!o)return null;return(0,K.jsx)(te.Z,{title:"Delete Tag",confirmText:"Delete",isOpen:n,titleIcon:(0,K.jsx)(ae.Nv,{}),isLoading:g,onConfirm:function(){var e=(0,i.Z)({},t);delete e[h];var n=c?l:"null";j("PUT","/api/v1/buckets/".concat(r,"/objects/tags?prefix=").concat((0,E.ug)(a),"&version_id=").concat(n),{tags:e})},onClose:function(){return s(!1)},confirmationContent:(0,K.jsxs)(ne.Z,{children:["Are you sure you want to delete the tag"," ",(0,K.jsxs)("b",{className:u.wrapText,children:[h," : ",f]})," ","from ",a,"?"]})})}))),fe={setModalErrorSnackMessage:N.zb},pe=(0,o.$j)(null,fe),xe=(0,r.Z)((function(e){return(0,s.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},f.DF),f.ID),f.bK))}))(pe((function(e){var n=e.classes,t=e.open,i=e.closeModalAndRefresh,o=e.objectName,s=e.bucketName,r=e.actualInfo,l=e.setModalErrorSnackMessage,c=(0,a.useState)(!1),d=(0,x.Z)(c,2),m=d[0],f=d[1],p=(0,a.useState)(!1),b=(0,x.Z)(p,2),g=b[0],j=b[1],v=r.version_id;(0,a.useEffect)((function(){var e=h()(r,"legal_hold_status","OFF");f("ON"===e)}),[r]);var Z=function(){f(!1)};return(0,K.jsxs)(L.Z,{title:"Set Legal Hold",modalOpen:t,onClose:function(){Z(),i(!1)},children:[(0,K.jsxs)(u.ZP,{item:!0,xs:12,className:n.spacerBottom,children:["Object: ",s]}),(0,K.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault(),j(!0),S.Z.invoke("PUT","/api/v1/buckets/".concat(s,"/objects/legalhold?prefix=").concat((0,E.ug)(o),"&version_id=").concat(v),{status:m?"enabled":"disabled"}).then((function(){j(!1),i(!0)})).catch((function(e){l(e),j(!1)}))}(e)},children:[(0,K.jsx)(u.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,K.jsx)(D.Z,{value:"legalhold",id:"legalhold",name:"legalhold",checked:m,onChange:function(e){f(!m)},label:"Legal Hold Status",indicatorLabels:["Enabled","Disabled"],tooltip:"To enable this feature you need to enable versioning on the bucket before creation"})}),(0,K.jsxs)(u.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,K.jsx)(_.Z,{type:"button",color:"primary",variant:"outlined",onClick:Z,children:"Clear"}),(0,K.jsx)(_.Z,{type:"submit",variant:"contained",color:"primary",disabled:g,children:"Save"})]})]})]})}))),be=t(14917),ge=t(35622),je=t(88878),ve={setErrorSnackMessage:N.Ih},Ze=(0,o.$j)(null,ve),ye=(0,r.Z)((function(e){return(0,s.Z)((0,i.Z)({},f.oO))}))(Ze((function(e){var n=e.classes,t=e.versionID,i=e.bucketName,o=e.objectPath,s=e.restoreOpen,r=e.onCloseAndUpdate,l=(0,a.useState)(!1),c=(0,x.Z)(l,2),d=c[0],u=c[1];return(0,K.jsx)(te.Z,{title:"Restore File Version",confirmText:"Restore",isOpen:s,isLoading:d,titleIcon:(0,K.jsx)(je.default,{}),onConfirm:function(){u(!0),S.Z.invoke("PUT","/api/v1/buckets/".concat(i,"/objects/restore?prefix=").concat((0,E.ug)(o),"&version_id=").concat(t)).then((function(e){u(!1),r(!0)})).catch((function(e){(0,N.Ih)(e),u(!1)}))},confirmButtonProps:{color:"secondary",variant:"outlined",disabled:d},onClose:function(){r(!1)},confirmationContent:(0,K.jsxs)(ne.Z,{id:"alert-dialog-description",children:["Are you sure you want to restore ",(0,K.jsx)("br",{}),(0,K.jsx)("b",{children:o})," ",(0,K.jsx)("br",{})," with Version ID:",(0,K.jsx)("br",{}),(0,K.jsx)("b",{className:n.wrapText,children:t}),"?"]})})}))),Ce=t(74794),ke=t(50276),Se=t(38442),we=t(40603),Ne=t(59114),Ee=t(81918),Te=t(29823),_e=t(42419),Pe=function(e){var n=e.tagKeys,t=e.bucketName,i=e.onDeleteTag,o=e.onAddTagClick,s=e.objectInfo;return(0,K.jsx)(a.Fragment,{children:(0,K.jsx)(Se.s,{scopes:[T.Ft.S3_GET_OBJECT_TAGGING],resource:t,children:(0,K.jsxs)(Z.Z,{sx:{display:"flex",flexFlow:"column"},children:[(0,K.jsx)(Z.Z,{children:n&&n.map((function(e,n){var a=h()(s,"tags.".concat(e),"");return""!==a?(0,K.jsx)(Se.s,{scopes:[T.Ft.S3_DELETE_OBJECT_TAGGING],resource:t,matchAll:!0,errorProps:{deleteIcon:null,onDelete:null},children:(0,K.jsx)(Ee.Z,{style:{textTransform:"none",marginRight:"5px"},size:"small",label:"".concat(e," : ").concat(a),color:"primary",deleteIcon:(0,K.jsx)(Te.Z,{}),onDelete:function(){i(e,a)}})},"chip-".concat(n)):null}))}),(0,K.jsx)(Se.s,{scopes:[T.Ft.S3_PUT_OBJECT_TAGGING],resource:t,errorProps:{disabled:!0,onClick:null},children:(0,K.jsx)(Ee.Z,{style:{maxWidth:80,marginTop:"10px"},icon:(0,K.jsx)(_e.Z,{}),clickable:!0,size:"small",label:"Add tag",color:"primary",variant:"outlined",onClick:o})})]})})})},Fe=t(79271),Ie=t(84861),Oe=a.lazy((function(){return Promise.resolve().then(t.bind(t,88878))})),Le=a.lazy((function(){return Promise.resolve().then(t.bind(t,67429))})),De=a.lazy((function(){return Promise.resolve().then(t.bind(t,67186))})),Be=a.lazy((function(){return Promise.resolve().then(t.bind(t,74768))})),Me=a.lazy((function(){return Promise.resolve().then(t.bind(t,71863))})),Re=a.lazy((function(){return Promise.resolve().then(t.bind(t,72356))})),ze=a.lazy((function(){return Promise.resolve().then(t.bind(t,75027))})),Ae=a.lazy((function(){return Promise.resolve().then(t.bind(t,45902))})),We={is_latest:!0,last_modified:"",legal_hold_status:"",name:"",retention_mode:"",retention_until_date:"",size:"0",tags:{},version_id:null},Ue={display:"grid",gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr"},gridAutoFlow:{xs:"dense",sm:"row"},gap:2},He={setErrorSnackMessage:N.Ih,setSnackBarMessage:N.y1,setNewObject:p.Mc,updateProgress:p.RO,completeObject:p.oK},Ge=(0,o.$j)((function(e){var n=e.objectBrowser,t=e.system;return{downloadingFiles:h()(n,"downloadingFiles",[]),rewindEnabled:h()(n,"rewind.rewindEnabled",!1),rewindDate:h()(n,"rewind.dateToRewind",null),bucketToRewind:h()(n,"rewind.bucketToRewind",""),distributedSetup:h()(t,"distributedSetup",!1)}}),He),Ke=(0,Fe.EN)(Ge((0,r.Z)((function(e){return(0,s.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({propertiesIcon:{marginLeft:5,"& .min-icon":{height:12}},tag:{marginRight:6,fontSize:10,fontWeight:700,"&.MuiChip-sizeSmall":{height:18},"& .min-icon":{height:10,width:10}},search:{marginBottom:8,"&.MuiFormControl-root":{marginRight:0}},capitalizeFirst:{textTransform:"capitalize","& .min-icon":{width:16,height:16}},titleCol:{width:"25%"},titleItem:{width:"35%"},"@global":{".progressDetails":{paddingTop:3,display:"inline-block",position:"relative",width:18,height:18},".progressDetails > .MuiCircularProgress-root":{position:"absolute",left:0,top:3}},tabsContainer:{border:"1px solid #eaeaea",borderTop:0}},f.bp),f.Si),f.OR),f.VX),f.bK),f.VI),(0,f.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=e.downloadingFiles,o=e.distributedSetup,s=e.setErrorSnackMessage,r=e.setNewObject,l=e.updateProgress,c=e.completeObject,d=e.match,m=(0,a.useState)(!0),f=(0,x.Z)(m,2),p=f[0],b=f[1],N=(0,a.useState)(!1),_=(0,x.Z)(N,2),P=_[0],F=_[1],I=(0,a.useState)(!1),O=(0,x.Z)(I,2),L=O[0],D=O[1],B=(0,a.useState)(!1),M=(0,x.Z)(B,2),R=M[0],z=M[1],A=(0,a.useState)(!1),W=(0,x.Z)(A,2),U=W[0],H=W[1],G=(0,a.useState)(["",""]),J=(0,x.Z)(G,2),Y=J[0],$=J[1],V=(0,a.useState)(!1),q=(0,x.Z)(V,2),Q=q[0],ne=q[1],te=(0,a.useState)(null),ie=(0,x.Z)(te,2),oe=ie[0],re=ie[1],le=(0,a.useState)(null),ce=(0,x.Z)(le,2),ue=ce[0],me=ce[1],fe=(0,a.useState)([]),pe=(0,x.Z)(fe,2),je=pe[0],ve=pe[1],Ze=(0,a.useState)(""),Ee=(0,x.Z)(Ze,2),Te=Ee[0],_e=Ee[1],Fe=(0,a.useState)(!1),He=(0,x.Z)(Fe,2),Ge=He[0],Ke=He[1],Je=(0,a.useState)(!1),Ye=(0,x.Z)(Je,2),$e=Ye[0],Ve=Ye[1],qe=(0,a.useState)(""),Xe=(0,x.Z)(qe,2),Qe=Xe[0],en=Xe[1],nn=h()(d.params,"subpaths",""),tn=(0,E.le)(nn)||"",an=d.params.bucketName,on=tn.split("/"),sn=on.pop()||"",rn=[];oe&&(rn=oe.name.split("/")),(0,a.useEffect)((function(){p&&""!==nn&&S.Z.invoke("GET","/api/v1/buckets/".concat(an,"/objects?prefix=").concat(nn).concat(o?"&with_versions=true":"")).then((function(e){var n=h()(e,"objects",[]);o?(re(n.find((function(e){return e.is_latest}))||We),ve(n)):(re(n[0]),ve([])),b(!1)})).catch((function(e){s(e),b(!1)}))}),[p,an,nn,s,o]);var ln=[];oe&&oe.tags&&(ln=Object.keys(oe.tags));var cn=function(){F(!0)},dn=function(e){var n=(0,E.ug)("".concat(an,"-").concat(e.name,"-").concat((new Date).getTime(),"-").concat(Math.random()));r({bucketName:an,done:!1,instanceID:n,percentage:0,prefix:e.name,type:"download",waitingForFile:!0}),(0,C.LR)(an,nn,e.version_id,parseInt(e.size||"0"),(function(e){l(n,e)}),(function(){c(n)}))},un=[{label:"Share",type:"share",onClick:function(e){me(e),cn()},sendOnlyId:!1,disableButtonFunction:function(e){var n=je.find((function(n){return n.version_id===e}));return!(!n||!n.is_delete_marker)}},{label:"Download",type:"download",onClick:function(e){dn(e)},disableButtonFunction:function(e){var n=je.find((function(n){return n.version_id===e}));return!(!n||!n.is_delete_marker)}},{label:"Restore",type:(0,K.jsx)(Oe,{}),onClick:function(e){en(e.version_id||""),Ve(!0)},disableButtonFunction:function(e){var n=je.find((function(n){return n.version_id===e}));return n&&n.is_delete_marker||!1}}],mn=je.filter((function(e){return!!e.version_id&&e.version_id.includes(Te)}));return(0,K.jsxs)(a.Fragment,{children:[P&&oe&&(0,K.jsx)(y.default,{open:P,closeModalAndRefresh:function(){me(null),F(!1)},bucketName:an,dataObject:ue||oe}),L&&oe&&(0,K.jsx)(X,{open:L,closeModalAndRefresh:function(e){D(!1),e&&b(!0)},objectName:sn,objectInfo:oe,bucketName:an}),Ge&&(0,K.jsx)(se,{deleteOpen:Ge,selectedBucket:an,selectedObject:nn,closeDeleteModalAndRefresh:function(e){if(Ke(!1),e){var n=on.join("/");k.Z.push("/buckets/".concat(an,"/browse").concat(""===n?"":"/".concat((0,E.ug)(n))))}},versioning:o}),R&&oe&&(0,K.jsx)(de,{modalOpen:R,currentTags:oe.tags,selectedObject:nn,versionId:oe.version_id,bucketName:an,onCloseAndUpdate:function(e){z(!1),e&&b(!0)}}),U&&oe&&(0,K.jsx)(he,{deleteOpen:U,currentTags:oe.tags,selectedObject:oe.name,versionId:oe.version_id,bucketName:an,onCloseAndUpdate:function(e){H(!1),e&&b(!0)},selectedTag:Y}),Q&&oe&&(0,K.jsx)(xe,{open:Q,closeModalAndRefresh:function(e){ne(!1),e&&b(!0)},objectName:oe.name,bucketName:an,actualInfo:oe}),$e&&oe&&(0,K.jsx)(ye,{restoreOpen:$e,bucketName:an,versionID:Qe,objectPath:oe.name,onCloseAndUpdate:function(e){Ve(!1),en(""),e&&b(!0)}}),(0,K.jsxs)(Ce.Z,{className:n.pageContainer,children:[!oe&&(0,K.jsx)(u.ZP,{item:!0,xs:12,children:(0,K.jsx)(j.Z,{})}),oe&&(0,K.jsxs)(a.Fragment,{children:[(0,K.jsx)(u.ZP,{item:!0,xs:12,children:(0,K.jsx)(be.Z,{icon:(0,K.jsx)(a.Fragment,{children:(0,K.jsx)(Me,{width:40})}),title:rn.length>0?rn[rn.length-1]:oe.name,subTitle:(0,K.jsx)(a.Fragment,{children:(0,K.jsx)(ee,{bucketName:an,internalPaths:oe.name})}),actions:(0,K.jsxs)(a.Fragment,{children:[(0,K.jsx)(Se.s,{scopes:[T.Ft.S3_DELETE_OBJECT],resource:an,matchAll:!0,errorProps:{disabled:!0},children:(0,K.jsx)(we.Z,{tooltip:"Delete Object",onClick:function(){Ke(!0)},text:"",icon:(0,K.jsx)(Be,{}),color:"secondary",disabled:oe.is_delete_marker,variant:"outlined"})}),(0,K.jsx)(we.Z,{tooltip:"Share",onClick:function(){cn()},text:"",icon:(0,K.jsx)(Le,{}),color:"primary",disabled:oe.is_delete_marker,variant:"outlined"}),t.includes("".concat(an,"/").concat(oe.name))?(0,K.jsx)("div",{className:"progressDetails",children:(0,K.jsx)(v.Z,{color:"primary",size:17,variant:"indeterminate"})}):(0,K.jsx)(we.Z,{tooltip:"Download",text:"",icon:(0,K.jsx)(De,{}),color:"primary",onClick:function(){dn(oe)},disabled:oe.is_delete_marker,variant:"outlined"})]})})}),(0,K.jsxs)(ke.Z,{classes:{tabsContainer:n.tabsContainer},children:[{tabConfig:{label:"Details"},content:(0,K.jsxs)(a.Fragment,{children:[(0,K.jsx)("div",{className:n.actionsTray,children:(0,K.jsx)("h1",{className:n.sectionTitle,children:"Details"})}),(0,K.jsx)("br",{}),(0,K.jsx)(Z.Z,{sx:(0,i.Z)({},Ue),children:(0,K.jsxs)(Z.Z,{sx:(0,i.Z)({},Ue),children:[(0,K.jsx)(Se.s,{scopes:[T.Ft.S3_GET_OBJECT_LEGAL_HOLD],resource:an,children:(0,K.jsx)(Ae,{label:"",value:oe.version_id&&"null"!==oe.version_id?(0,K.jsx)(ze,{iamScopes:[T.Ft.S3_PUT_OBJECT_LEGAL_HOLD],secureCmpProps:{matchAll:!1,errorProps:{disabled:!0,onClick:null}},resourceName:an,property:"Legal Hold:",value:oe.legal_hold_status?oe.legal_hold_status.toLowerCase():"Off",onEdit:function(){ne(!0)},isLoading:!1}):(0,K.jsx)(Ae,{label:"Legal Hold:",value:(0,K.jsx)(Ie.Z,{icon:(0,K.jsx)(ae.dR,{}),label:(0,K.jsx)("label",{className:n.textMuted,children:"Disabled"})})})})}),(0,K.jsx)(Se.s,{scopes:[T.Ft.S3_GET_OBJECT_RETENTION],resource:an,children:(0,K.jsx)(Ae,{label:"",value:oe.version_id&&"null"!==oe.version_id?(0,K.jsx)(ze,{iamScopes:[T.Ft.S3_PUT_OBJECT_RETENTION],secureCmpProps:{matchAll:!1},resourceName:an,property:"Retention:",value:oe.retention_mode?oe.retention_mode.toLowerCase():"None",onEdit:function(){D(!0)},isLoading:!1}):(0,K.jsx)(Ae,{label:"Retention:",value:(0,K.jsx)(Ie.Z,{icon:(0,K.jsx)(ae.dR,{}),label:(0,K.jsx)("label",{className:n.textMuted,children:"Disabled"})})})})})]})}),(0,K.jsx)(Z.Z,{className:n.spacerTop,children:(0,K.jsx)(Ae,{label:"Tags:",value:(0,K.jsx)(Pe,{objectInfo:oe,tagKeys:ln,bucketName:an,onDeleteTag:function(e,n){$([e,n]),H(!0)},onAddTagClick:function(){z(!0)}})})}),oe?(0,K.jsx)(Re,{bucketName:an,internalPaths:nn,actualInfo:oe}):null]})},{tabConfig:{label:"Versions",disabled:!(oe.version_id&&"null"!==oe.version_id)},content:(0,K.jsxs)(a.Fragment,{children:[(0,K.jsx)("div",{className:n.actionsTray,children:(0,K.jsx)("h1",{className:n.sectionTitle,children:"Versions"})}),(0,K.jsx)("br",{}),(0,K.jsx)(u.ZP,{item:!0,xs:12,className:n.actionsTray,children:oe.version_id&&"null"!==oe.version_id&&(0,K.jsx)(Ne.Z,{placeholder:"Search ".concat(sn),onChange:_e,value:Te})}),(0,K.jsx)(u.ZP,{item:!0,xs:12,className:n.tableBlock,children:oe.version_id&&"null"!==oe.version_id&&(0,K.jsx)(w.Z,{itemActions:un,columns:[{label:"",width:40,renderFullObject:!0,renderFunction:function(e){var n=je.length-je.indexOf(e);return"v".concat(n)},elementKey:"version_id"},{label:"Version ID",elementKey:"version_id"},{label:"Last Modified",elementKey:"last_modified",renderFunction:function(e){return(0,K.jsx)(g(),{children:e})}},{label:"Deleted",width:60,contentTextAlign:"center",renderFullObject:!0,elementKey:"is_delete_marker",renderFunction:function(e){var n=e.is_delete_marker?"Yes":"No";return"".concat(n)}}],isLoading:!1,entityName:"Versions",idField:"version_id",records:mn,textSelectable:!0})})]})},{tabConfig:{label:"Preview",disabled:"none"===(0,C.Bg)(sn)},content:(0,K.jsx)(a.Fragment,{children:oe&&(0,K.jsx)(ge.Z,{bucketName:an,object:{name:oe.name,version_id:oe.version_id||"null",size:parseInt(oe.size||"0"),content_type:"",last_modified:new Date(oe.last_modified)},isFullscreen:!0})})}]})]})]})]})})))),Je=t(42982),Ye=t(57831),$e=t(20890),Ve=t(82422),qe=t(42209),Xe=t(75578),Qe=t(37762),en=t(71863),nn=t(82314),tn=(0,r.Z)((function(e){return(0,s.Z)({fileName:{display:"flex",alignItems:"center","& .min-icon":{width:16,height:16,marginRight:4}},fileNameText:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}})}))((function(e){return(0,K.jsxs)("div",{className:e.classes.fileName,children:[e.icon,(0,K.jsx)("span",{className:e.classes.fileNameText,children:e.strings[e.strings.length-1]})]})})),an=a.lazy((function(){return Promise.resolve().then(t.bind(t,76181))})),on=a.lazy((function(){return Promise.resolve().then(t.bind(t,49563))})),sn=a.lazy((function(){return Promise.resolve().then(t.bind(t,21733))})),rn=a.lazy((function(){return Promise.resolve().then(t.bind(t,95232))})),ln=a.lazy((function(){return Promise.resolve().then(t.bind(t,27529))})),cn=a.lazy((function(){return Promise.resolve().then(t.bind(t,60527))})),dn=a.lazy((function(){return Promise.resolve().then(t.bind(t,69812))})),un=a.lazy((function(){return Promise.resolve().then(t.bind(t,46454))})),mn=a.lazy((function(){return Promise.resolve().then(t.bind(t,84820))})),hn=a.lazy((function(){return Promise.resolve().then(t.bind(t,40599))})),fn=a.lazy((function(){return Promise.resolve().then(t.bind(t,72995))})),pn=a.lazy((function(){return Promise.resolve().then(t.bind(t,34171))})),xn=a.lazy((function(){return Promise.resolve().then(t.bind(t,30745))})),bn=a.lazy((function(){return Promise.resolve().then(t.bind(t,84033))})),gn=a.lazy((function(){return Promise.resolve().then(t.bind(t,52009))})),jn=t(71715),vn=t(49900),Zn=t(57064),yn=(0,r.Z)((function(e){return(0,s.Z)({listUploadIcons:{height:20,"& .min-icon":{width:18,fill:"rgba(0,0,0,0.87)"}}})}))((function(e){var n=e.uploadPath,t=e.bucketName,i=e.forceDisable,o=void 0!==i&&i,s=e.uploadFileFunction,r=e.uploadFolderFunction,l=e.classes,c=a.useState(null),d=(0,x.Z)(c,2),u=d[0],m=d[1],h=Boolean(u),f=function(){m(null)},p=(0,Se.F)(n,[T.Ft.S3_PUT_OBJECT]),b=(0,Se.F)(t,[T.Ft.S3_PUT_OBJECT],!1,!0),g=p||b;return(0,K.jsxs)(a.Fragment,{children:[(0,K.jsx)(we.Z,{id:"upload-main",tooltip:"Upload Files","aria-controls":"upload-main-menu","aria-haspopup":"true","aria-expanded":h?"true":void 0,onClick:function(e){m(e.currentTarget)},text:"Upload",icon:(0,K.jsx)(ae.rG,{}),color:"primary",variant:"contained",disabled:o||!g}),(0,K.jsxs)(jn.Z,{id:"upload-main-menu","aria-labelledby":"upload-main",anchorEl:u,open:h,onClose:function(){f()},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:[(0,K.jsxs)(U.Z,{onClick:function(){s(f)},disabled:!p||o,children:[(0,K.jsx)(Zn.Z,{className:l.listUploadIcons,children:(0,K.jsx)(ae.rG,{})}),(0,K.jsx)(vn.Z,{children:"Upload File"})]}),(0,K.jsxs)(U.Z,{onClick:function(){r(f)},disabled:!b||o,children:[(0,K.jsx)(Zn.Z,{className:l.listUploadIcons,children:(0,K.jsx)(ae.oX,{})}),(0,K.jsx)(vn.Z,{children:"Upload Folder"})]})]})]})})),Cn=(0,r.Z)((function(e){return(0,s.Z)({detailsList:{borderColor:"#EAEDEE",backgroundColor:"#fff",borderWidth:0,borderStyle:"solid",borderRadius:3,borderBottomLeftRadius:0,borderBottomRightRadius:0,width:0,transitionDuration:"0.3s",overflowX:"hidden",overflowY:"auto",position:"relative",opacity:0,marginLeft:-1,"&.open":{width:400,borderTopWidth:1,borderBottomWidth:1,borderRightWidth:1,borderLeftWidth:1,opacity:1}},closePanel:{position:"absolute",right:0,top:8,"& .min-icon":{width:14}}})}))((function(e){var n=e.classes,t=e.open,i=e.closePanel,a=e.children;return(0,K.jsxs)(u.ZP,{item:!0,className:"".concat(n.detailsList," ").concat(t?"open":""),children:[(0,K.jsx)(d.Z,{onClick:i,className:n.closePanel,children:(0,K.jsx)(ae.ot,{})}),a]})})),kn=t(19077),Sn=t(45987),wn=["disabled","onClick","icon","label","classes"],Nn=(0,r.Z)((function(e){return(0,s.Z)({root:{padding:"0 15px",height:22,margin:0,color:"#5E5E5E",fontWeight:"normal",fontSize:14,whiteSpace:"nowrap",width:"100%",justifyContent:"flex-start","&:hover":{backgroundColor:"transparent",color:"#000"},"& .min-icon":{width:11},"&:disabled":{color:"#EBEBEB",borderColor:"#EBEBEB"}}})}))((function(e){var n=e.disabled,t=e.onClick,a=e.icon,o=e.label,s=e.classes,r=(0,Sn.Z)(e,wn);return(0,K.jsx)(_.Z,(0,i.Z)((0,i.Z)({},r),{},{disabled:n,onClick:t,className:s.root,startIcon:a,children:(0,K.jsx)("span",{className:"buttonItem",children:o})}))})),En=t(72356),Tn=t(75027),_n=t(45902),Pn={is_latest:!0,last_modified:"",legal_hold_status:"",name:"",retention_mode:"",retention_until_date:"",size:"0",tags:{},version_id:null},Fn={setErrorSnackMessage:N.Ih,setSnackBarMessage:N.y1,setNewObject:p.Mc,updateProgress:p.RO,completeObject:p.oK},In=(0,o.$j)((function(e){var n=e.objectBrowser,t=e.system;return{rewindEnabled:h()(n,"rewind.rewindEnabled",!1),rewindDate:h()(n,"rewind.dateToRewind",null),bucketToRewind:h()(n,"rewind.bucketToRewind",""),distributedSetup:h()(t,"distributedSetup",!1)}}),Fn)((0,r.Z)((function(){return(0,s.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({tag:{marginRight:6,fontSize:10,fontWeight:700,"&.MuiChip-sizeSmall":{height:18},"& .min-icon":{height:10,width:10}},"@global":{".progressDetails":{paddingTop:3,display:"inline-block",position:"relative",width:18,height:18},".progressDetails > .MuiCircularProgress-root":{position:"absolute",left:0,top:3}}},f.Si),f.OR),f.bK),f.VI),f.$b))}))((function(e){var n=e.classes,t=e.internalPaths,i=e.bucketName,o=e.distributedSetup,s=e.setErrorSnackMessage,r=e.setNewObject,l=e.updateProgress,c=e.completeObject,d=(0,a.useState)(!0),m=(0,x.Z)(d,2),f=m[0],p=m[1],b=(0,a.useState)(!1),g=(0,x.Z)(b,2),v=g[0],w=g[1],N=(0,a.useState)(!1),_=(0,x.Z)(N,2),P=_[0],F=_[1],I=(0,a.useState)(!1),O=(0,x.Z)(I,2),L=O[0],D=O[1],B=(0,a.useState)(!1),M=(0,x.Z)(B,2),R=M[0],z=M[1],A=(0,a.useState)(["",""]),W=(0,x.Z)(A,2),U=W[0],H=W[1],G=(0,a.useState)(!1),J=(0,x.Z)(G,2),Y=J[0],$=J[1],V=(0,a.useState)(null),q=(0,x.Z)(V,2),Q=q[0],ee=q[1],ne=(0,a.useState)(null),te=(0,x.Z)(ne,2),ie=te[0],oe=te[1],re=(0,a.useState)([]),le=(0,x.Z)(re,2),ce=le[0],ue=le[1],me=(0,a.useState)(!1),fe=(0,x.Z)(me,2),pe=fe[0],be=fe[1],ge=(0,a.useState)(!1),je=(0,x.Z)(ge,2),ve=je[0],Ze=je[1],Ce=(0,a.useState)(!1),ke=(0,x.Z)(Ce,2),we=ke[0],Ne=ke[1],Ee=(0,a.useState)(""),Te=(0,x.Z)(Ee,2),_e=Te[0],Fe=Te[1],Oe=(0,a.useState)(0),Le=(0,x.Z)(Oe,2),De=Le[0],Be=Le[1],Me=((0,E.le)(t)||"").split("/"),Re=Me.pop()||"",ze=[];Q&&(ze=Q.name.split("/")),(0,a.useEffect)((function(){""!==i&&t&&p(!0)}),[t,i]),(0,a.useEffect)((function(){f&&""!==t&&S.Z.invoke("GET","/api/v1/buckets/".concat(i,"/objects?prefix=").concat(t).concat(o?"&with_versions=true":"")).then((function(e){var n=h()(e,"objects",[]);if(o){ee(n.find((function(e){return e.is_latest}))||Pn),ue(n);var t=n.reduce((function(e,n){return null!==n&&void 0!==n&&n.size?e+n.size:e}),0);Be(t)}else ee(n[0]),ue([]);p(!1)})).catch((function(e){s(e),p(!1)}))}),[f,i,t,s,o]);var Ae=[];Q&&Q.tags&&(Ae=Object.keys(Q.tags));return Q?(0,K.jsxs)(a.Fragment,{children:[v&&Q&&(0,K.jsx)(y.default,{open:v,closeModalAndRefresh:function(){oe(null),w(!1)},bucketName:i,dataObject:ie||Q}),P&&Q&&(0,K.jsx)(X,{open:P,closeModalAndRefresh:function(e){F(!1),e&&p(!0)},objectName:Re,objectInfo:Q,bucketName:i}),pe&&(0,K.jsx)(se,{deleteOpen:pe,selectedBucket:i,selectedObject:t,closeDeleteModalAndRefresh:function(e){if(be(!1),e){var n=Me.join("/");k.Z.push("/buckets/".concat(i,"/browse").concat(""===n?"":"/".concat((0,E.ug)(n))))}},versioning:o}),L&&Q&&(0,K.jsx)(de,{modalOpen:L,currentTags:Q.tags,selectedObject:t,versionId:Q.version_id,bucketName:i,onCloseAndUpdate:function(e){D(!1),e&&p(!0)}}),R&&Q&&(0,K.jsx)(he,{deleteOpen:R,currentTags:Q.tags,selectedObject:Q.name,versionId:Q.version_id,bucketName:i,onCloseAndUpdate:function(e){z(!1),e&&p(!0)},selectedTag:U}),Y&&Q&&(0,K.jsx)(xe,{open:Y,closeModalAndRefresh:function(e){$(!1),e&&p(!0)},objectName:Q.name,bucketName:i,actualInfo:Q}),ve&&Q&&(0,K.jsx)(ye,{restoreOpen:ve,bucketName:i,versionID:_e,objectPath:Q.name,onCloseAndUpdate:function(e){Ze(!1),Fe(""),e&&p(!0)}}),we&&Q&&(0,K.jsx)(kn.default,{open:we,bucketName:i,object:{name:Q.name,version_id:Q.version_id||"null",size:parseInt(Q.size||"0"),content_type:"",last_modified:new Date(Q.last_modified)},onClosePreview:function(){Ne(!1)}}),!Q&&(0,K.jsx)(u.ZP,{item:!0,xs:12,children:(0,K.jsx)(j.Z,{})}),(0,K.jsx)("div",{className:n.titleLabel,children:ze.length>0?ze[ze.length-1]:Q.name}),(0,K.jsxs)("ul",{className:n.objectActions,children:[(0,K.jsx)("li",{children:"Actions:"}),(0,K.jsx)("li",{children:(0,K.jsx)(Nn,{label:"Download",icon:(0,K.jsx)(ae._8,{}),onClick:function(){!function(e){var n=(0,E.ug)("".concat(i,"-").concat(e.name,"-").concat((new Date).getTime(),"-").concat(Math.random()));r({bucketName:i,done:!1,instanceID:n,percentage:0,prefix:e.name,type:"download",waitingForFile:!0}),(0,C.LR)(i,t,e.version_id,parseInt(e.size||"0"),(function(e){l(n,e)}),(function(){c(n)}))}(Q)},disabled:Q.is_delete_marker})}),(0,K.jsx)("li",{children:(0,K.jsx)(Nn,{label:"Share",icon:(0,K.jsx)(ae.aA,{}),onClick:function(){w(!0)},disabled:Q.is_delete_marker})}),(0,K.jsx)("li",{children:(0,K.jsx)(Nn,{label:"Preview",icon:(0,K.jsx)(ae.P9,{}),onClick:function(){Ne(!0)},disabled:Q.is_delete_marker})}),(0,K.jsx)(Se.s,{scopes:[T.Ft.S3_DELETE_OBJECT],resource:i,matchAll:!0,errorProps:{disabled:!0},children:(0,K.jsx)("li",{children:(0,K.jsx)(Nn,{label:"Delete",icon:(0,K.jsx)(ae.pJ,{}),onClick:function(){be(!0)},disabled:Q.is_delete_marker})})}),(0,K.jsx)("li",{children:(0,K.jsx)(Nn,{label:"Expand Details",icon:(0,K.jsx)(ae.hF,{}),onClick:function(){!function(){var e="/buckets/".concat(i,"/browse").concat(""!==t?"/".concat(t):"");k.Z.push(e)}()}})})]}),(0,K.jsx)("div",{className:n.actionsTray,children:(0,K.jsx)("h1",{className:n.sectionTitle,children:"Details"})}),(0,K.jsx)(Z.Z,{className:n.detailContainer,children:(0,K.jsx)(_n.default,{label:"Tags:",value:(0,K.jsx)(Pe,{objectInfo:Q,tagKeys:Ae,bucketName:i,onDeleteTag:function(e,n){H([e,n]),z(!0)},onAddTagClick:function(){D(!0)}})})}),(0,K.jsxs)(Z.Z,{className:n.detailContainer,children:[(0,K.jsx)(Se.s,{scopes:[T.Ft.S3_GET_OBJECT_LEGAL_HOLD],resource:i,children:(0,K.jsx)(_n.default,{label:"",value:Q.version_id&&"null"!==Q.version_id?(0,K.jsx)(Tn.default,{iamScopes:[T.Ft.S3_PUT_OBJECT_LEGAL_HOLD],secureCmpProps:{matchAll:!1,errorProps:{disabled:!0,onClick:null}},resourceName:i,property:"Legal Hold:",value:Q.legal_hold_status?Q.legal_hold_status.toLowerCase():"Off",onEdit:function(){$(!0)},isLoading:!1}):(0,K.jsx)(_n.default,{label:"Legal Hold:",value:(0,K.jsx)(Ie.Z,{icon:(0,K.jsx)(ae.dR,{}),label:(0,K.jsx)("label",{className:n.textMuted,children:"Disabled"})})})})}),(0,K.jsx)(Se.s,{scopes:[T.Ft.S3_GET_OBJECT_RETENTION],resource:i,children:(0,K.jsx)(_n.default,{label:"",value:Q.version_id&&"null"!==Q.version_id?(0,K.jsx)(Tn.default,{iamScopes:[T.Ft.S3_PUT_OBJECT_RETENTION],secureCmpProps:{matchAll:!1},resourceName:i,property:"Retention:",value:Q.retention_mode?Q.retention_mode.toLowerCase():"None",onEdit:function(){F(!0)},isLoading:!1}):(0,K.jsx)(_n.default,{label:"Retention:",value:(0,K.jsx)(Ie.Z,{icon:(0,K.jsx)(ae.dR,{}),label:(0,K.jsx)("label",{className:n.textMuted,children:"Disabled"})})})})})]}),(0,K.jsx)("hr",{className:n.hrClass}),(0,K.jsx)("div",{className:n.actionsTray,children:(0,K.jsx)("h1",{className:n.sectionTitle,children:"Object Metadata"})}),(0,K.jsx)(Z.Z,{className:n.detailContainer,children:Q?(0,K.jsx)(En.default,{bucketName:i,internalPaths:t,actualInfo:Q,linear:!0}):null}),(0,K.jsx)("hr",{className:n.hrClass}),Q.version_id&&"null"!==Q.version_id&&(0,K.jsxs)(a.Fragment,{children:[(0,K.jsx)("div",{className:n.actionsTray,children:(0,K.jsx)("h1",{className:n.sectionTitle,children:"Versions"})}),(0,K.jsxs)(Z.Z,{className:n.detailContainer,children:[(0,K.jsxs)(Z.Z,{className:n.metadataLinear,children:[(0,K.jsx)("strong",{children:"Total available versions"}),(0,K.jsx)("br",{}),ce.length]}),(0,K.jsxs)(Z.Z,{className:n.metadataLinear,children:[(0,K.jsx)("strong",{children:"Versions Stored size:"}),(0,K.jsx)("br",{}),(0,E.l5)(De)]})]})]})]}):null}))),On=(0,r.Z)((function(){return(0,s.Z)((0,i.Z)({},f.$b))}))((function(e){var n=e.items,t=e.classes,i=e.title;return(0,K.jsxs)(a.Fragment,{children:[(0,K.jsx)("div",{className:t.titleLabel,children:i}),(0,K.jsxs)("ul",{className:t.objectActions,children:[(0,K.jsx)("li",{children:"Actions:"}),n.map((function(e){return(0,K.jsx)("li",{children:(0,K.jsx)(Nn,{label:e.label,icon:e.icon,onClick:e.action,disabled:e.disabled})})}))]})]})})),Ln=a.lazy((function(){return Promise.resolve().then(t.bind(t,82515))})),Dn=a.lazy((function(){return Promise.resolve().then(t.bind(t,13065))})),Bn=a.lazy((function(){return Promise.resolve().then(t.bind(t,28789))})),Mn=a.lazy((function(){return Promise.resolve().then(t.bind(t,74768))})),Rn=(0,Xe.Z)(a.lazy((function(){return t.e(3678).then(t.bind(t,83678))}))),zn=(0,Xe.Z)(a.lazy((function(){return t.e(711).then(t.bind(t,50711))}))),An=(0,Xe.Z)(a.lazy((function(){return Promise.resolve().then(t.bind(t,34433))}))),Wn=(0,Xe.Z)(a.lazy((function(){return Promise.all([t.e(8810),t.e(6901)]).then(t.bind(t,26901))}))),Un=(0,Xe.Z)(a.lazy((function(){return Promise.resolve().then(t.bind(t,19077))}))),Hn={borderWidth:2,borderRadius:2,borderColor:"#eeeeee",outline:"none"},Gn={borderStyle:"dashed",backgroundColor:"#fafafa",borderColor:"#2196f3"},Kn={borderStyle:"dashed",backgroundColor:"#fafafa",borderColor:"#00e676"};var Jn=(0,K.jsx)($e.Z,{component:"h3",children:"Loading..."}),Yn={setSnackBarMessage:N.y1,setErrorSnackMessage:N.Ih,setFileModeEnabled:p.WA,resetRewind:p._w,setBucketDetailsLoad:qe.d5,setBucketInfo:qe.f4,setNewObject:p.Mc,updateProgress:p.RO,completeObject:p.oK,openList:p.LD,setSearchObjects:p.G4},$n=(0,o.$j)((function(e){var n=e.objectBrowser,t=e.buckets;return{routesList:h()(n,"routesList",[]),downloadingFiles:h()(n,"downloadingFiles",[]),rewindEnabled:h()(n,"rewind.rewindEnabled",!1),rewindDate:h()(n,"rewind.dateToRewind",null),bucketToRewind:h()(n,"rewind.bucketToRewind",""),loadingBucket:t.bucketDetails.loadingBucket,bucketInfo:t.bucketDetails.bucketInfo,searchObjects:n.searchObjects}}),Yn),Vn=(0,Fe.EN)($n((0,r.Z)((function(e){return(0,s.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({browsePaper:{height:"calc(100vh - 210px)","&.actionsPanelOpen":{height:"100%"}},"@global":{".rowLine:hover  .iconFileElm":{backgroundImage:"url(/images/ob_file_filled.svg)"},".rowLine:hover  .iconFolderElm":{backgroundImage:"url(/images/ob_folder_filled.svg)"}},badgeOverlap:{"& .MuiBadge-badge":{top:10,right:1,width:5,height:5,minWidth:5}},screenTitle:{borderBottom:0,paddingTop:0,paddingLeft:0,paddingRight:0}},f.VX),f.OR),f.qg),{},{searchField:(0,i.Z)((0,i.Z)({},f.qg.searchField),{},{maxWidth:380})},f.cx),(0,f.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=e.match,o=e.history,s=e.rewindEnabled,r=e.rewindDate,l=e.bucketToRewind,c=e.setSnackBarMessage,d=e.setErrorSnackMessage,m=e.resetRewind,f=e.setFileModeEnabled,p=e.setBucketDetailsLoad,b=e.loadingBucket,j=e.setBucketInfo,v=e.bucketInfo,Z=e.setNewObject,y=e.updateProgress,k=e.completeObject,N=e.setSearchObjects,_=e.searchObjects,P=e.openList,F=(0,a.useState)([]),I=(0,x.Z)(F,2),O=I[0],L=I[1],D=(0,a.useState)(!0),B=(0,x.Z)(D,2),M=B[0],R=B[1],z=(0,a.useState)([]),A=(0,x.Z)(z,2),W=A[0],U=A[1],H=(0,a.useState)(!1),G=(0,x.Z)(H,2),J=G[0],Y=G[1],$=(0,a.useState)(!1),V=(0,x.Z)($,2),q=V[0],X=V[1],Q=(0,a.useState)(!1),ne=(0,x.Z)(Q,2),te=ne[0],ie=ne[1],oe=(0,a.useState)(0),se=(0,x.Z)(oe,2),re=se[0],le=se[1],ce=(0,a.useState)(Jn),de=(0,x.Z)(ce,2),ue=de[0],me=de[1],he=(0,a.useState)(!0),fe=(0,x.Z)(he,2),pe=fe[0],xe=fe[1],ge=(0,a.useState)(!1),je=(0,x.Z)(ge,2),ve=je[0],Ze=je[1],ye=(0,a.useState)(!1),ke=(0,x.Z)(ye,2),Ne=ke[0],Ee=ke[1],Te=(0,a.useState)([]),_e=(0,x.Z)(Te,2),Pe=_e[0],Fe=_e[1],Ie=(0,a.useState)(!1),Oe=(0,x.Z)(Ie,2),Le=Oe[0],De=Oe[1],Be=(0,a.useState)(null),Me=(0,x.Z)(Be,2),Re=Me[0],ze=Me[1],Ae=(0,a.useState)(!1),We=(0,x.Z)(Ae,2),Ue=We[0],He=We[1],Ge=(0,a.useState)("ASC"),Ke=(0,x.Z)(Ge,2),qe=Ke[0],Xe=Ke[1],jn=(0,a.useState)("name"),vn=(0,x.Z)(jn,2),Zn=vn[0],kn=vn[1],Sn=(0,a.useState)(!1),wn=(0,x.Z)(Sn,2),Nn=wn[0],En=wn[1],Tn=(0,a.useState)(!1),_n=(0,x.Z)(Tn,2),Pn=_n[0],Fn=_n[1],Yn=(0,a.useState)(!1),$n=(0,x.Z)(Yn,2),Vn=$n[0],qn=$n[1],Xn=(0,a.useState)(!1),Qn=(0,x.Z)(Xn,2),et=Qn[0],nt=Qn[1],tt=(0,a.useState)(null),it=(0,x.Z)(tt,2),at=it[0],ot=it[1],st=(0,a.useState)(null),rt=(0,x.Z)(st,2),lt=rt[0],ct=rt[1],dt=h()(t.params,"subpaths",""),ut=t.params.bucketName,mt=(0,a.useRef)(null),ht=(0,a.useRef)(null);(0,a.useEffect)((function(){null!==ht.current&&(ht.current.setAttribute("directory",""),ht.current.setAttribute("webkitdirectory",""))}),[ht]),(0,a.useEffect)((function(){if(1===Pe.length){var e=Pe[0];"none"!==(0,C.Bg)(e)?qn(!0):qn(!1),e.endsWith("/")?Fn(!1):Fn(!0)}else Fn(!1),qn(!1)}),[Pe]),(0,a.useEffect)((function(){lt||S.Z.invoke("GET","/api/v1/buckets/".concat(ut,"/quota")).then((function(e){var n=null;e.quota&&(n=e),ct(n)})).catch((function(){ct(null)}))}),[lt,ut]),(0,a.useEffect)((function(){Pe.length>0?nt(!0):0===Pe.length&&null===at&&nt(!1)}),[Pe,at]);var ft=(0,Se.F)(ut,[T.Ft.S3_DELETE_OBJECT]),pt=(0,Se.F)(ut,[T.Ft.S3_LIST_BUCKET]);(0,a.useEffect)((function(){Nn||(p(!0),En(!0))}),[Nn,p,En]),function(e,n){var t=(0,a.useRef)(null);(0,a.useEffect)((function(){t.current=e}),[e]),(0,a.useEffect)((function(){if(null!==n){var e=setInterval((function(){void 0!==t&&t.current&&t.current()}),n);return function(){return clearInterval(e)}}}),[n])}((function(){M&&function(){var e=Date.now()-re;e/1e3>=6?me((0,K.jsx)(a.Fragment,{children:(0,K.jsxs)($e.Z,{component:"h3",children:["This operation is taking longer than expected... (",Math.ceil(e/1e3),"s)"]})})):e/1e3>=3&&me((0,K.jsx)($e.Z,{component:"h3",children:"This operation is taking longer than expected..."}))}()}),1e3),(0,a.useEffect)((function(){pe&&(pt?S.Z.invoke("GET","/api/v1/buckets/".concat(ut,"/versioning")).then((function(e){Ze(e.is_versioned),xe(!1)})).catch((function(e){d(e),xe(!1)})):xe(!1))}),[ut,pe,d,pt]),(0,a.useEffect)((function(){if(s){if(l!==ut)return void m();if(r){Y(!0);var e=r.toISOString(),n="";if(dt){var t=(0,E.le)(dt);n=t.endsWith("/")?t:t+"/"}S.Z.invoke("GET","/api/v1/buckets/".concat(ut,"/rewind/").concat(e).concat(n?"?prefix=".concat((0,E.ug)(n)):"")).then((function(e){Y(!1),e.objects?U(e.objects):U([])})).catch((function(e){Y(!1),d(e)}))}}}),[s,r,l,ut,t,d,m,dt]),(0,a.useEffect)((function(){R(!0),nt(!1),N("")}),[dt,N]),(0,a.useEffect)((function(){if(M)if(pt){var e="";if(dt){var n=(0,E.le)(dt);e=n.endsWith("/")?n:n+"/"}var t=Date.now();le(t),me(Jn),S.Z.invoke("GET","/api/v1/buckets/".concat(ut,"/objects").concat(e?"?prefix=".concat((0,E.ug)(e)):"")).then((function(n){var t=n.objects||[],i=[],a=[];t.forEach((function(e){e.name.endsWith("/")?i.push(e):a.push(e)}));var o=[].concat(i,a);if(L(o),n.objects||""===e)f(!1),R(!1);else if(s){var l=r.toISOString(),c="";if(dt){var u=(0,E.le)(dt);c=u.endsWith("/")?u:u+"/"}S.Z.invoke("GET","/api/v1/buckets/".concat(ut,"/rewind/").concat(l).concat(c?"?prefix=".concat((0,E.ug)(c)):"")).then((function(e){null===e.objects?(f(!0),Y(!1),R(!1)):(Y(!1),R(!1),f(!1))})).catch((function(e){Y(!1),R(!1),d(e)}))}else S.Z.invoke("GET","/api/v1/buckets/".concat(ut,"/objects").concat(dt?"?prefix=".concat(dt):"")).then((function(n){if(n.objects){for(var t=!1,i=e.slice(0,e.length-1),a=0;a<n.objects.length;a++)n.objects[a].name===i&&(t=!0);1===n.objects.length&&n.objects[0].name.endsWith("/")||!t?f(!1):f(!0),R(!1)}else f(!1),R(!1)})).catch((function(e){R(!1),d(e)}))})).catch((function(e){R(!1),d(e)}))}else Y(!1),R(!1)}),[M,t,d,ut,s,r,dt,f,v,pt]),(0,a.useEffect)((function(){b&&S.Z.invoke("GET","/api/v1/buckets/".concat(ut)).then((function(e){p(!1),j(e)})).catch((function(e){p(!1),d(e)}))}),[ut,b,p,j,d]);var xt=function(e){if(null!==e&&void 0!==e&&null!==e.target.files&&void 0!==e.target.files){e.preventDefault();for(var n=[],t=0;t<e.target.files.length;t++)n.push(e.target.files[t]);jt(n,"")}},bt=function(e){return e.name.endsWith("/")?"":(0,K.jsx)(g(),{children:e.last_modified})},gt=function(e){return e.name.endsWith("/")?"":(0,E.ae)(String(e.size))},jt=(0,a.useCallback)((function(e,n){var t="";if(dt){var i=(0,E.le)(dt);t=i.endsWith("/")?i:i+"/"}!function(e,n,t,i){if(e.length>0){P();var a=e.pop();a&&function a(o){return new Promise((function(s,r){var l="api/v1/buckets/".concat(n,"/objects/upload"),d=o.name,u=new Blob([o],{type:o.type}),m="",f=""!==h()(o,"webkitRelativePath","")?h()(o,"webkitRelativePath",""):i;if(""!==t||""!==f){var p=f.split("/").slice(0,-1).join("/");m=(0,E.ug)("".concat(t).concat(p).concat(p.endsWith("/")?"":"/"))}""!==m&&(l="".concat(l,"?prefix=").concat(m));var x=(0,E.ug)("".concat(n,"-").concat(m,"-").concat((new Date).getTime(),"-").concat(Math.random()));Z({bucketName:n,done:!1,instanceID:x,percentage:0,prefix:"".concat((0,E.le)(m)).concat(d),type:"upload",waitingForFile:!1});var b=new XMLHttpRequest;b.open("POST",l,!0);var g=e.length>1,j="An error occurred while uploading the file".concat(g?"s":"","."),v="Object".concat(g?"s":""," uploaded successfully.");b.withCredentials=!1,b.onload=function(n){if(401===b.status||403===b.status||400===b.status||500===b.status)if(b.response){var t=JSON.parse(b.response);c(t.detailedMessage)}else c(j);if(413===b.status&&c("Error - File size too large"),200===b.status&&(k(x),0===e.length&&c(v)),s(b.status),e.length>0){var i=e.pop();if(i)return a(i)}},b.upload.addEventListener("error",(function(e){c(j)})),b.upload.addEventListener("progress",(function(e){var n=Math.floor(100*e.loaded/e.total);y(x,n)})),b.onerror=function(){c(j),r(j)},b.onloadend=function(){0===e.length&&R(!0)};var C=new FormData;void 0!==o.size&&(C.append(o.size.toString(),u,d),b.send(C))}))}(a).then((function(){console.info("done uploading file")})).catch((function(e){console.error("error uploading file,",e)}))}}(e,ut,t,n)}),[ut,k,dt,P,Z,c,y]),vt=(0,a.useCallback)((function(e){if(e&&e.length>0){var n=e[0].path;jt(e,n)}}),[jt]),Zt=(0,Ye.uI)({noClick:!0,onDrop:vt}),yt=Zt.getRootProps,Ct=Zt.getInputProps,kt=Zt.isDragActive,St=Zt.isDragAccept,wt=(0,a.useMemo)((function(){return(0,i.Z)((0,i.Z)((0,i.Z)({},Hn),kt?Gn:{}),St?Kn:{})}),[kt,St]),Nt=[{type:"view",label:"View",onClick:function(e){if(Fe([]),e.endsWith("/")){var n="/buckets/".concat(ut,"/browse").concat(e?"/".concat((0,E.ug)(e)):"");o.push(n)}else nt(!0),ot("".concat(e?"".concat((0,E.ug)(e)):""))},sendOnlyId:!0}],Et=O.filter((function(e){return""===_||e.name.toLowerCase().indexOf(_.toLowerCase())>=0})),Tt=function(e){return function(e){var n=e,t=(0,K.jsx)(en.default,{});e.endsWith("/")&&(t=(0,K.jsx)(nn.Z,{}),n=e.substr(0,e.length-1));for(var i=[{icon:(0,K.jsx)(xn,{}),extensions:["mp4","mov","avi","mpeg","mpg"]},{icon:(0,K.jsx)(mn,{}),extensions:["mp3","m4a","aac"]},{icon:(0,K.jsx)(hn,{}),extensions:["pdf"]},{icon:(0,K.jsx)(fn,{}),extensions:["ppt","pptx"]},{icon:(0,K.jsx)(bn,{}),extensions:["xls","xlsx"]},{icon:(0,K.jsx)(dn,{}),extensions:["cer","crt","pem"]},{icon:(0,K.jsx)(on,{}),extensions:["html","xml","css","py","go","php","cpp","h","java"]},{icon:(0,K.jsx)(sn,{}),extensions:["cfg","yaml"]},{icon:(0,K.jsx)(rn,{}),extensions:["sql"]},{icon:(0,K.jsx)(ln,{}),extensions:["ttf","otf"]},{icon:(0,K.jsx)(pn,{}),extensions:["txt"]},{icon:(0,K.jsx)(gn,{}),extensions:["zip","rar","tar","gz"]},{icon:(0,K.jsx)(an,{}),extensions:["epub","mobi","azw","azw3"]},{icon:(0,K.jsx)(cn,{}),extensions:["jpeg","jpg","gif","tiff","png","heic","dng"]}],a=e.toLowerCase(),o=0,s=i;o<s.length;o++){var r,l=s[o],c=(0,Qe.Z)(l.extensions);try{for(c.s();!(r=c.n()).done;){var d=r.value;a.endsWith(".".concat(d))&&(t=l.icon)}}catch(m){c.e(m)}finally{c.f()}}!e.endsWith("/")&&e.indexOf(".")<0&&(t=(0,K.jsx)(un,{}));var u=n.split("/");return(0,K.jsx)(tn,{icon:t,strings:u})}(e)},_t=[{label:"Name",elementKey:"name",renderFunction:Tt,enableSort:!0},{label:"Last Modified",elementKey:"last_modified",renderFunction:bt,renderFullObject:!0,enableSort:!0},{label:"Size",elementKey:"size",renderFunction:gt,renderFullObject:!0,width:60,contentTextAlign:"right",enableSort:!0}],Pt=[{label:"Name",elementKey:"name",renderFunction:Tt,enableSort:!0},{label:"Object Date",elementKey:"last_modified",renderFunction:bt,renderFullObject:!0,enableSort:!0},{label:"Size",elementKey:"size",renderFunction:gt,renderFullObject:!0,width:60,contentTextAlign:"right",enableSort:!0},{label:"Deleted",elementKey:"delete_flag",renderFunction:function(e){return e?"Yes":"No"},width:60,contentTextAlign:"center"}],Ft=(0,E.le)(dt),It=Ft.split("/").filter((function(e){return""!==e})),Ot=(s?W:Et).sort((0,C.P_)(Zn)),Lt=[];Lt="ASC"===qe?Ot:Ot.reverse();var Dt=[ut];It.length>0&&(Dt=Dt.concat(It));var Bt=[{action:function(){if(0!==Pe.length){var e=function(e){return Pe.includes(e.name)};(s?W.filter(e):Et.filter(e)).forEach((function(e){!function(e){var n=(0,E.ug)("".concat(ut,"-").concat(e.name,"-").concat((new Date).getTime(),"-").concat(Math.random()));Z({bucketName:ut,done:!1,instanceID:n,percentage:0,prefix:e.name,type:"download",waitingForFile:!0}),(0,C.LR)(ut,(0,E.ug)(e.name),e.version_id,e.size,(function(e){y(n,e)}),(function(){k(n)}))}(e)}))}},label:"Download",disabled:0===Pe.length,icon:(0,K.jsx)(ae._8,{}),tooltip:"Download Selected"},{action:function(){if(1===Pe.length){var e;(e=Et.find((function(e){return Pe.includes(e.name)})))&&(ze(e),He(!0))}},label:"Share",disabled:1!==Pe.length||!Pn,icon:(0,K.jsx)(ae.aA,{}),tooltip:"Share Selected File"},{action:function(){if(1===Pe.length){var e;(e=Et.find((function(e){return Pe.includes(e.name)})))&&(ze(e),De(!0))}},label:"Preview",disabled:1!==Pe.length||!Vn,icon:(0,K.jsx)(ae.P9,{}),tooltip:"Preview Selected File"},{action:function(){X(!0)},label:"Delete",icon:(0,K.jsx)(Mn,{}),disabled:!(0,Se.F)(ut,[T.Ft.S3_DELETE_OBJECT])||0===Pe.length||!ft,tooltip:"Delete Selected Files"}];return(0,K.jsxs)(a.Fragment,{children:[Ue&&Re&&(0,K.jsx)(An,{open:Ue,closeModalAndRefresh:function(){He(!1),ze(null)},bucketName:ut,dataObject:{name:Re.name,last_modified:"",version_id:Re.version_id}}),q&&(0,K.jsx)(zn,{deleteOpen:q,selectedBucket:ut,selectedObjects:Pe,closeDeleteModalAndRefresh:function(e){X(!1),e&&(c("Objects deleted successfully."),Fe([]),R(!0))},versioning:ve}),te&&(0,K.jsx)(Rn,{modalOpen:te,bucketName:ut,folderName:dt,onClose:function(){ie(!1)},existingFiles:O}),Ne&&(0,K.jsx)(Wn,{open:Ne,closeModalAndRefresh:function(e){Ee(!1)},bucketName:ut}),Le&&(0,K.jsx)(Un,{open:Le,bucketName:ut,object:Re,onClosePreview:function(){De(!1),ze(null)}}),(0,K.jsxs)(Ce.Z,{children:[(0,K.jsx)(u.ZP,{item:!0,xs:12,children:(0,K.jsx)(be.Z,{className:n.screenTitle,icon:(0,K.jsx)(a.Fragment,{children:(0,K.jsx)(ae.wN,{width:40})}),title:(0,K.jsx)(ee,{bucketName:ut,internalPaths:Ft,fullSizeBreadcrumbs:!0}),subTitle:(0,K.jsx)(a.Fragment,{children:(0,K.jsxs)(u.ZP,{item:!0,xs:12,className:n.bucketDetails,children:[(0,K.jsxs)("span",{className:n.detailsSpacer,children:["Created:\xa0\xa0\xa0",(0,K.jsx)("strong",{children:(null===v||void 0===v?void 0:v.creation_date)||""})]}),(0,K.jsxs)("span",{className:n.detailsSpacer,children:["Access:\xa0\xa0\xa0",(0,K.jsx)("strong",{children:(null===v||void 0===v?void 0:v.access)||""})]}),v&&(0,K.jsx)(a.Fragment,{children:(0,K.jsxs)("span",{className:n.detailsSpacer,children:[v.size&&(0,K.jsx)(a.Fragment,{children:(0,E.l5)(v.size)}),v.size&&lt&&(0,K.jsxs)(a.Fragment,{children:[" / ",(0,E.l5)(lt.quota)]}),v.size&&v.objects?" - ":"",v.objects&&(0,K.jsxs)(a.Fragment,{children:[v.objects,"\xa0Object",v.objects&&1!==v.objects?"s":""]})]})})]})}),actions:(0,K.jsxs)(a.Fragment,{children:[(0,K.jsx)(we.Z,{id:"new-path",tooltip:"Choose or create a new path",text:"New Path",icon:(0,K.jsx)(Ln,{}),color:"primary",variant:"outlined",onClick:function(){ie(!0)},disabled:s||!(0,Se.F)(ut,[T.Ft.S3_PUT_OBJECT])}),(0,K.jsx)(we.Z,{id:"rewind-objects-list",tooltip:"Rewind Bucket",text:"Rewind",icon:(0,K.jsx)(Ve.Z,{badgeContent:" ",color:"secondary",variant:"dot",invisible:!s,className:n.badgeOverlap,children:(0,K.jsx)(Dn,{})}),color:"primary",variant:"outlined",onClick:function(){Ee(!0)},disabled:!ve||!(0,Se.F)(ut,[T.Ft.S3_PUT_OBJECT])}),(0,K.jsx)(we.Z,{id:"refresh-objects-list",tooltip:"Reload List",text:"Reload",icon:(0,K.jsx)(Bn,{}),color:"primary",variant:"outlined",onClick:function(){R(!0)},disabled:!(0,Se.F)(ut,[T.Ft.S3_LIST_BUCKET])||s}),(0,K.jsx)("input",{type:"file",multiple:!0,onChange:xt,style:{display:"none"},ref:mt}),(0,K.jsx)("input",{type:"file",multiple:!0,onChange:xt,style:{display:"none"},ref:ht}),(0,K.jsx)(yn,{bucketName:ut,uploadPath:Dt.join("/"),uploadFileFunction:function(e){mt&&mt.current&&mt.current.click(),e()},uploadFolderFunction:function(e){ht&&ht.current&&ht.current.click(),e()}})]})})}),(0,K.jsxs)("div",(0,i.Z)((0,i.Z)({id:"object-list-wrapper"},yt({style:(0,i.Z)({},wt)})),{},{children:[(0,K.jsx)("input",(0,i.Z)({},Ct())),(0,K.jsx)(u.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,K.jsxs)(Se.s,{scopes:[T.Ft.S3_LIST_BUCKET],resource:ut,errorProps:{disabled:!0},children:[(0,K.jsx)(w.Z,{itemActions:Nt,columns:s?Pt:_t,isLoading:s?J:M,loadingMessage:ue,entityName:"Objects",idField:"name",records:Lt,customPaperHeight:"".concat(n.browsePaper," ").concat(et?"actionsPanelOpen":""),selectedItems:Pe,onSelect:function(e){var n=e.target,t=n.value,i=n.checked,a=(0,Je.Z)(Pe);return i?a.push(t):a=a.filter((function(e){return e!==t})),Fe(a),ot(null),a},customEmptyMessage:"This location is empty".concat(s?"":", please try uploading a new file"),sortConfig:{currentSort:Zn,currentDirection:qe,triggerSort:function(e){var n=h()(e,"sortDirection","DESC");kn(e.sortBy),Xe(n),R(!0)}},onSelectAll:function(){if(Pe.length!==Lt.length){var e=Lt.map((function(e){return e.name}));Fe(e)}else Fe([])}}),(0,K.jsxs)(Cn,{open:et,closePanel:function(){nt(!1),ot(null),Fe([])},children:[Pe.length>0&&(0,K.jsx)(On,{items:Bt,title:"Selected Objects:"}),null!==at&&(0,K.jsx)(In,{internalPaths:at,bucketName:ut})]})]})})]}))]})]})})))),qn=t(32291),Xn=t(95792),Qn=t(84669),et={setFileModeEnabled:p.WA,setErrorSnackMessage:N.Ih,setSearchObjects:p.G4},nt=(0,o.$j)((function(e){var n=e.objectBrowser,t=e.buckets;return{fileMode:h()(n,"fileMode",!1),bucketToRewind:h()(n,"rewind.bucketToRewind",""),bucketInfo:t.bucketDetails.bucketInfo,searchObjects:n.searchObjects}}),et),tt=(0,r.Z)((function(e){return(0,s.Z)((0,i.Z)({breadcrumLink:{textDecoration:"none",color:"black"},backToBuckets:{color:"#000",fontSize:14,padding:0,marginTop:-8}},(0,f.Bz)(e.spacing(4))))}))(nt((function(e){var n=e.fileMode,t=e.match,i=e.history,o=e.classes,s=e.setFileModeEnabled,r=e.searchObjects,m=e.setSearchObjects,f=t.params.bucketName,p=h()(t.params,"subpaths","");(0,a.useEffect)((function(){s(!1)}),[p,s]);return(0,K.jsxs)(a.Fragment,{children:[(0,K.jsx)(qn.Z,{label:(0,K.jsx)(a.Fragment,{children:n?(0,K.jsxs)(a.Fragment,{children:[(0,K.jsx)(l.rU,{to:"/buckets",className:o.breadcrumLink,children:"Buckets"})," ","> ",f]}):(0,K.jsx)(a.Fragment,{children:(0,K.jsx)(Qn.Z,{label:"Back to Buckets",to:"/buckets",className:o.backToBuckets})})}),actions:(0,K.jsx)(Se.s,{scopes:T.D[T.EI.BUCKET_ADMIN],resource:f,errorProps:{disabled:!0},children:(0,K.jsx)(c.Z,{title:"Configure Bucket",children:(0,K.jsx)(d.Z,{color:"primary","aria-label":"Configure Bucket",component:"span",onClick:function(){i.push("/buckets/".concat(f,"/admin"))},size:"large",children:(0,K.jsx)(Xn.Z,{})})})}),middleComponent:(0,K.jsx)(a.Fragment,{children:!n&&(0,K.jsx)(Se.s,{scopes:[T.Ft.S3_LIST_BUCKET],resource:f,errorProps:{disabled:!0},children:(0,K.jsx)(Ne.Z,{placeholder:"Start typing to filter objects in bucket",onChange:function(e){m(e)},value:r})})})}),(0,K.jsx)(u.ZP,{children:n?(0,K.jsx)(Ke,{}):(0,K.jsx)(Vn,{})})]})})))},75027:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var i=t(1413),a=(t(72791),t(45902)),o=t(38442),s=t(45987),r=t(36151),l=t(13239),c=t(80184),d=["isLoading","onClick","label"],u=function(e){var n=e.isLoading,t=e.onClick,a=e.label,o=(0,s.Z)(e,d);return(0,c.jsx)(r.Z,(0,i.Z)((0,i.Z)({color:"primary",onClick:t,variant:"text",sx:{padding:0,margin:0,alignItems:"flex-start",justifyContent:"flex-start",display:"inline-flex",height:"auto",textDecoration:"underline",color:"#2781B0","&:hover":{background:"#ffffff",textDecoration:"underline"}},disableRipple:!0,disableFocusRipple:!0},o),{},{children:n?(0,c.jsx)(l.Z,{color:"primary",size:16,variant:"indeterminate"}):a}))},m=t(64554),h=t(13400),f=t(33548),p=t(11135),x=t(25787),b=["disabled","onClick"],g=(0,x.Z)((function(e){return(0,p.Z)({root:{"&:hover":{backgroundColor:"#E2E2E2"}}})}))((function(e){var n=e.disabled,t=e.onClick,a=(0,s.Z)(e,b);return(0,c.jsx)(h.Z,(0,i.Z)((0,i.Z)({size:"small",disabled:n,onClick:t},a),{},{children:(0,c.jsx)(f.Z,{})}))})),j=function(e){var n=e.resourceName,t=e.iamScopes,a=e.secureCmpProps,s=void 0===a?{}:a,r=e.children;return(0,c.jsx)(o.s,(0,i.Z)((0,i.Z)({scopes:t,resource:n,errorProps:{disabled:!0}},s),{},{children:r}))},v=function(e){var n=e.isLoading,t=void 0===n||n,i=e.resourceName,o=void 0===i?"":i,s=e.iamScopes,r=e.secureCmpProps,l=void 0===r?{}:r,d=e.property,h=void 0===d?null:d,f=e.value,p=void 0===f?null:f,x=e.onEdit;return(0,c.jsxs)(m.Z,{sx:{display:"flex",alignItems:"baseline",justifyContent:"flex-start"},children:[(0,c.jsx)(a.default,{label:h,value:(0,c.jsx)(j,{resourceName:o,iamScopes:s,secureCmpProps:l,children:(0,c.jsx)(u,{isLoading:t,onClick:x,label:p})})}),(0,c.jsx)(j,{resourceName:o,iamScopes:s,secureCmpProps:l,children:(0,c.jsx)(g,{onClick:x,sx:{background:"#f8f8f8",marginLeft:"3px",top:3,"& .min-icon":{width:"16px",height:"16px"}}})})]})}},84861:function(e,n,t){t(72791);var i=t(64554),a=t(80184);n.Z=function(e){var n=e.icon,t=void 0===n?null:n,o=e.label,s=void 0===o?null:o;return(0,a.jsxs)(i.Z,{sx:{display:"flex"},children:[(0,a.jsx)("div",{style:{height:16,width:16,display:"flex",alignItems:"center",marginTop:5},children:t}),(0,a.jsx)("div",{style:{marginLeft:t?5:"none"},children:s})]})}},40603:function(e,n,t){var i=t(1413),a=t(45987),o=(t(72791),t(85531)),s=t(72455),r=t(80184),l=["onClick","text","disabled","tooltip","icon"],c=(0,s.Z)((function(e){return{root:{padding:"7px",color:function(n){return function(n){var t=n.variant,i=n.color,a=e.palette.primary.main;return"primary"===i&&"contained"===t?a=e.palette.primary.contrastText:"primary"===i&&"outlined"===t?a=e.palette.primary.main:"secondary"===i&&(a=e.palette.secondary.main),a}(n)},borderColor:function(n){return"secondary"===n.color?e.palette.secondary.main:e.palette.primary.main},"& svg.min-icon":{width:12,marginLeft:function(e){return e.text?"5px":"0px"},"@media (max-width: 900px)":{width:16,marginLeft:"0px !important"}}}}}));n.Z=function(e){var n=c(e),t=e.onClick,s=e.text,d=void 0===s?"":s,u=e.disabled,m=void 0!==u&&u,h=e.tooltip,f=e.icon,p=void 0===f?null:f,x=(0,a.Z)(e,l);return(0,r.jsxs)(o.Z,(0,i.Z)((0,i.Z)({classes:n,tooltip:h||d,variant:"outlined",onClick:t,disabled:m,color:"secondary",size:"medium",sx:{border:"1px solid #f44336","& span":{fontSize:14,"@media (max-width: 900px)":{display:"none"}}}},x),{},{children:[(0,r.jsx)("span",{children:d})," ",p]}))}},72356:function(e,n,t){t.r(n);var i=t(70885),a=t(1413),o=t(72791),s=t(9505),r=t(26181),l=t.n(r),c=t(61889),d=t(64554),u=t(79836),m=t(53382),h=t(35855),f=t(53994),p=t(11135),x=t(23814),b=t(25787),g=t(80184);n.default=(0,b.Z)((function(e){return(0,p.Z)((0,a.Z)((0,a.Z)({propertiesIcon:{marginLeft:5,"& .min-icon":{height:12}},capitalizeFirst:{textTransform:"capitalize","& .min-icon":{width:16,height:16}},titleCol:{width:"25%"},titleItem:{width:"35%"}},x.bK),x.$b))}))((function(e){var n=e.bucketName,t=e.internalPaths,a=e.classes,r=e.actualInfo,p=e.linear,x=void 0!==p&&p,b=(0,o.useState)({}),j=(0,i.Z)(b,2),v=j[0],Z=j[1],y=(0,s.Z)((function(e){var n=l()(e,"objectMetadata",{});Z(n)}),(function(e){return!1})),C=(0,i.Z)(y,2)[1],k=Object.keys(v),S=(0,o.useCallback)((function(){C("GET","/api/v1/buckets/".concat(n,"/objects/metadata?prefix=").concat(t))}),[n,t,r]);return(0,o.useEffect)((function(){r&&S()}),[r,S]),x?(0,g.jsx)(o.Fragment,{children:k.map((function(e,n){var t=Array.isArray(v[e])?v[e].map(decodeURIComponent).join(", "):decodeURIComponent(v[e]);return(0,g.jsxs)(d.Z,{className:a.metadataLinear,children:[(0,g.jsx)("strong",{children:e}),(0,g.jsx)("br",{}),t]},"box-meta-".concat(e,"-").concat(n.toString()))}))}):(0,g.jsxs)(c.ZP,{container:!0,children:[(0,g.jsx)(c.ZP,{item:!0,xs:12,sx:{marginTop:"25px",marginBottom:"5px"},children:(0,g.jsx)("h3",{style:{marginTop:"0",marginBottom:"0"},children:"Object Metadata"})}),(0,g.jsx)(c.ZP,{item:!0,xs:12,children:(0,g.jsx)(u.Z,{className:a.table,"aria-label":"simple table",children:(0,g.jsx)(m.Z,{children:k.map((function(e,n){var t=Array.isArray(v[e])?v[e].map(decodeURIComponent).join(", "):decodeURIComponent(v[e]);return(0,g.jsxs)(h.Z,{children:[(0,g.jsx)(f.Z,{component:"th",scope:"row",className:a.titleItem,children:e}),(0,g.jsx)(f.Z,{align:"right",children:t})]},"tRow-".concat(n.toString()))}))})})})]})}))},34433:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var i=t(70885),a=t(1413),o=t(72791),s=t(26181),r=t.n(s),l=t(60364),c=t(11135),d=t(25787),u=t(78029),m=t.n(u),h=t(61889),f=t(36151),p=t(40986),x=t(23814),b=t(42649),g=t(81207),j=t(401),v=t(64163),Z=t(30829),y=t(72426),C=t.n(y),k=t(21435),S=t(80184),w=(0,d.Z)((function(e){return(0,c.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},x.YI),x.Hr),{},{labelContainer:{display:"flex",alignItems:"center",marginBottom:15},fieldContainer:(0,a.Z)((0,a.Z)({},x.YI.fieldContainer),{},{display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:10,marginTop:11,marginBottom:6}),dateContainer:{height:20,textAlign:"right",color:"#848484"},dateInputContainer:{margin:"0 10px"},durationInputs:{display:"flex",alignItems:"center",justifyContent:"center"},validityIndicator:{display:"flex",alignItems:"center",justifyContent:"center"},invalidDurationText:{marginTop:15,display:"flex",color:"red",fontSize:11},validityText:{fontSize:14,fontWeight:600,marginTop:15,display:"flex",alignItems:"center",justifyContent:"center","@media (max-width: 900px)":{flexFlow:"column"}}}))}))((function(e){var n=e.classes,t=e.id,a=e.initialDate,s=e.label,r=e.maxDays,l=e.entity,c=e.onChange,d=(0,o.useState)(7),u=(0,i.Z)(d,2),m=u[0],f=u[1],p=(0,o.useState)(0),x=(0,i.Z)(p,2),b=x[0],g=x[1],j=(0,o.useState)(0),v=(0,i.Z)(j,2),y=v[0],w=v[1],N=(0,o.useState)(!0),E=(0,i.Z)(N,2),T=E[0],_=E[1],P=(0,o.useState)(C()()),F=(0,i.Z)(P,2),I=F[0],O=F[1];(0,o.useEffect)((function(){O(function(e,n,t,i){return C()(e).add(n,"days").add(t,"hours").add(i,"minutes")}(a,m,b,y))}),[a,m,b,y]),(0,o.useEffect)((function(){T?c(I.format("YYYY-MM-DDTHH:mm:ss"),!0):c("0000-00-00",!1)}),[I,c,T]),(0,o.useEffect)((function(){var e=!0;(m<0||r&&m>r||isNaN(m))&&(e=!1),(b<0||b>23||isNaN(b))&&(e=!1),(y<0||y>59||isNaN(y))&&(e=!1),!r||m!==r||0===b&&0===y||(e=!1),_(e)}),[I,r,c,m,b,y]);var L={style:{textAlign:"center",paddingRight:10,paddingLeft:10,width:25},className:"removeArrows"};return(0,S.jsx)(o.Fragment,{children:(0,S.jsxs)(h.ZP,{container:!0,className:n.fieldContainer,children:[(0,S.jsxs)(h.ZP,{item:!0,xs:12,alignItems:"center",justifyContent:"center",children:[(0,S.jsx)(h.ZP,{item:!0,xs:12,className:n.labelContainer,children:(0,S.jsx)(Z.Z,{htmlFor:t,className:n.inputLabel,children:(0,S.jsx)("span",{children:s})})}),(0,S.jsxs)(h.ZP,{item:!0,xs:12,className:n.durationInputs,children:[(0,S.jsx)(h.ZP,{item:!0,className:n.dateInputContainer,children:(0,S.jsx)(k.Z,{id:t,type:"number",min:"0",max:r?r.toString():"999",label:"Days",name:t,onChange:function(e){f(parseInt(e.target.value))},value:m.toString(),extraInputProps:L,noLabelMinWidth:!0})}),(0,S.jsx)(h.ZP,{item:!0,className:n.dateInputContainer,children:(0,S.jsx)(k.Z,{id:t,type:"number",min:"0",max:"23",label:"Hours",name:t,onChange:function(e){g(parseInt(e.target.value))},value:b.toString(),extraInputProps:L,noLabelMinWidth:!0})}),(0,S.jsx)(h.ZP,{item:!0,className:n.dateInputContainer,children:(0,S.jsx)(k.Z,{id:t,type:"number",min:"0",max:"59",label:"Minutes",name:t,onChange:function(e){w(parseInt(e.target.value))},value:y.toString(),extraInputProps:L,noLabelMinWidth:!0})})]})]}),(0,S.jsx)(h.ZP,{item:!0,xs:12,className:"".concat(n.validityIndicator," ").concat(n.formFieldRow),children:T?(0,S.jsxs)("div",{className:n.validityText,children:[(0,S.jsxs)("div",{className:n.validityLabel,children:[l," will be available until:"]})," ",(0,S.jsx)("div",{className:n.validTill,children:I.format("MM/DD/YYYY HH:mm:ss")})]}):(0,S.jsx)("div",{className:n.invalidDurationText,children:"Please select a valid duration."})})]})})})),N=t(45248),E=o.lazy((function(){return Promise.resolve().then(t.bind(t,79880))})),T=(0,l.$j)((function(e){var n=e.system;return{distributedSetup:r()(n,"distributedSetup",!1)}}),{setModalSnackMessage:b.MK,setModalErrorSnackMessage:b.zb}),_=(0,d.Z)((function(e){return(0,c.Z)((0,a.Z)((0,a.Z)({shareLinkInfo:{fontSize:13,fontWeight:400},copyShareLink:{display:"flex","@media (max-width: 900px)":{flexFlow:"column",alignItems:"center",justifyContent:"center"}},copyShareLinkInput:{"& div:first-child":{marginTop:0},"@media (max-width: 900px)":{minWidth:250}},copyShareLinkBtn:{display:"flex",alignItems:"center",justifyContent:"center","@media (max-width: 900px)":{marginTop:10}}},x.ID),x.DF))}))(T((function(e){var n=e.classes,t=e.open,a=e.closeModalAndRefresh,s=e.bucketName,l=e.dataObject,c=e.distributedSetup,d=e.setModalSnackMessage,u=e.setModalErrorSnackMessage,x=(0,o.useState)(""),b=(0,i.Z)(x,2),Z=b[0],y=b[1],C=(0,o.useState)(!0),k=(0,i.Z)(C,2),T=k[0],_=k[1],P=(0,o.useState)(!1),F=(0,i.Z)(P,2),I=F[0],O=F[1],L=(0,o.useState)(""),D=(0,i.Z)(L,2),B=D[0],M=D[1],R=(0,o.useState)(!0),z=(0,i.Z)(R,2),A=z[0],W=z[1],U=(0,o.useState)("null"),H=(0,i.Z)(U,2),G=H[0],K=H[1],J=new Date;return(0,o.useEffect)((function(){if(void 0===l.version_id)return c?(g.Z.invoke("GET","/api/v1/buckets/".concat(s,"/objects?prefix=").concat((0,N.ug)(l.name)).concat(c?"&with_versions=true":"")).then((function(e){var n=r()(e,"objects",[]).find((function(e){return e.is_latest}));K(n?n.version_id:"null")})).catch((function(e){u(e)})),void _(!1)):(K("null"),void _(!1));K(l.version_id||"null"),_(!1)}),[s,l,c,u]),(0,o.useEffect)((function(){if(A&&!T){O(!0),y("");var e=new Date("".concat(B)),n=new Date,t=Math.ceil((e.getTime()-n.getTime())/1e3);t>0&&g.Z.invoke("GET","/api/v1/buckets/".concat(s,"/objects/share?prefix=").concat((0,N.ug)(l.name),"&version_id=").concat(G).concat(""!==B?"&expires=".concat(t,"s"):"")).then((function(e){y(e),O(!1)})).catch((function(e){u(e),y(""),O(!1)}))}}),[l,B,s,A,y,u,c,T,G]),(0,S.jsx)(o.Fragment,{children:(0,S.jsxs)(j.Z,{title:"Share File",modalOpen:t,onClose:function(){a()},children:[T&&(0,S.jsx)(h.ZP,{item:!0,xs:12,children:(0,S.jsx)(p.Z,{})}),!T&&(0,S.jsxs)(o.Fragment,{children:[(0,S.jsxs)(h.ZP,{item:!0,xs:12,className:n.shareLinkInfo,children:["This is a temporary URL with integrated access credentials for sharing objects valid for up to 7 days.",(0,S.jsx)("br",{}),"The temporary URL expires after the configured time limit."]}),(0,S.jsx)(h.ZP,{item:!0,xs:12,className:n.dateContainer,children:(0,S.jsx)(w,{initialDate:J,id:"date",label:"Active for",maxDays:7,onChange:function(e,n){W(n),n?M(e):(M(""),y(""))},entity:"Link"})}),(0,S.jsxs)(h.ZP,{item:!0,xs:12,className:"".concat(n.copyShareLink," ").concat(n.formFieldRow," "),children:[(0,S.jsx)(h.ZP,{item:!0,xs:10,className:n.copyShareLinkInput,children:(0,S.jsx)(v.Z,{content:Z})}),(0,S.jsx)(h.ZP,{item:!0,xs:2,className:n.copyShareLinkBtn,children:(0,S.jsx)(m(),{text:Z,children:(0,S.jsx)(f.Z,{variant:"contained",color:"primary",endIcon:(0,S.jsx)(E,{}),onClick:function(){d("Share URL Copied to clipboard")},disabled:""===Z||I,children:"Copy"})})})]})]})]})})})))},35622:function(e,n,t){var i=t(4942),a=t(70885),o=t(72791),s=t(11135),r=t(25787),l=t(61889),c=t(40986),d=t(47922),u=t(45248),m=t(28182),h=t(80184);n.Z=(0,r.Z)((function(){return(0,s.Z)({iframeContainer:{border:"0px",flex:"1 1 auto",width:"100%",height:250,backgroundColor:"transparent",borderRadius:5,"&.image":{height:500},"&.text":{height:700},"&.audio":{height:150},"&.video":{height:350},"&.fullHeight":{height:"calc(100vh - 185px)"}},iframeBase:{backgroundColor:"#fff"},iframeHidden:{display:"none"}})}))((function(e){var n=e.bucketName,t=e.object,s=e.isFullscreen,r=void 0!==s&&s,f=e.classes,p=(0,o.useState)(!0),x=(0,a.Z)(p,2),b=x[0],g=x[1],j="";if(t){var v=(0,u.ug)(t.name),Z=document.baseURI.replace(window.location.origin,"");j="".concat(window.location.origin).concat(Z,"api/v1/buckets/").concat(n,"/objects/download?preview=true&prefix=").concat(v),t.version_id&&(j=j.concat("&version_id=".concat(t.version_id)))}var y=(0,d.Bg)((null===t||void 0===t?void 0:t.name)||""),C=function(){g(!1)};return(0,h.jsxs)(o.Fragment,{children:[b&&(0,h.jsx)(l.ZP,{item:!0,xs:12,children:(0,h.jsx)(c.Z,{})}),"video"===y&&(0,h.jsx)("video",{style:{width:"100%",height:"auto"},autoPlay:!0,controls:!0,muted:!1,playsInline:!0,onPlay:C,children:(0,h.jsx)("source",{src:j,type:"video/mp4"})}),"audio"===y&&(0,h.jsx)("audio",{style:{width:"100%",height:"auto"},autoPlay:!0,controls:!0,muted:!1,playsInline:!0,onPlay:C,children:(0,h.jsx)("source",{src:j,type:"audio/mpeg"})}),"image"===y&&(0,h.jsx)("img",{style:{width:"100%",height:"auto"},src:j,alt:"preview",onLoad:C}),"video"!==y&&"audio"!==y&&"image"!==y&&(0,h.jsx)("div",{className:(0,m.Z)(f.iframeBase,(0,i.Z)({},f.iframeHidden,b)),children:(0,h.jsx)("iframe",{src:j,title:"File Preview",allowTransparency:!0,className:"".concat(f.iframeContainer," ").concat(r?"fullHeight":y),onLoad:C,children:"File couldn't be loaded. Please try Download instead"})})]})}))},19077:function(e,n,t){t.r(n);var i=t(72791),a=t(401),o=t(35622),s=t(96389),r=t(80184);n.default=function(e){var n=e.open,t=e.bucketName,l=e.object,c=e.onClosePreview;return(0,r.jsx)(i.Fragment,{children:(0,r.jsx)(a.Z,{modalOpen:n,title:"Preview - ".concat(null===l||void 0===l?void 0:l.name),onClose:c,wideLimit:!1,titleIcon:(0,r.jsx)(s.$3,{}),children:(0,r.jsx)(o.Z,{bucketName:t,object:l})})})}},47922:function(e,n,t){t.d(n,{LR:function(){return i},Bg:function(){return a},P_:function(){return o}});var i=function(e,n,t,i,a,o){var s=document.createElement("a");document.body.appendChild(s);var r="/api/v1/buckets/".concat(e,"/objects/download?prefix=").concat(n);t&&(r=r.concat("&version_id=".concat(t)));var l=new XMLHttpRequest;l.open("GET",r,!0),l.addEventListener("progress",(function(e){var n=Math.round(e.loaded/i*100);a&&a(n)}),!1),l.responseType="blob",l.onreadystatechange=function(){if(4===l.readyState&&200===l.status){var e=l.getResponseHeader("Content-Disposition"),n="download";if(e)n=decodeURIComponent(e).split('"')[1];o&&o();var t=document.createElement("a");t.href=window.URL.createObjectURL(l.response),t.download=n,document.body.appendChild(t),t.click(),document.body.removeChild(t)}},l.send()},a=function(e){var n=e.split(".").pop();return n?(n=n.toLowerCase(),["jif","jfif","apng","avif","svg","webp","bmp","ico","jpg","jpe","jpeg","gif","png","heic"].includes(n)?"image":["pdf","txt","json"].includes(n)?"text":["wav","mp3","alac","aiff","dsd","pcm"].includes(n)?"audio":["mp4","avi","mpg","webm","mov","flv","mkv","wmv","avchd","mpeg-4"].includes(n)?"video":"none"):"none"},o=function(e){switch(e){case"name":return function(e,n){return e.name.localeCompare(n.name)};case"last_modified":return function(e,n){return new Date(e.last_modified).getTime()-new Date(n.last_modified).getTime()};case"size":return function(e,n){return(e.size||-1)-(n.size||-1)}}}},85531:function(e,n,t){var i=t(1413),a=t(4942),o=t(45987),s=(t(72791),t(11135)),r=t(25787),l=t(13400),c=t(20068),d=t(28182),u=t(80184),m=["classes","children","variant","tooltip"];n.Z=(0,r.Z)((function(e){return(0,s.Z)({root:{padding:8,marginLeft:8,borderWidth:1,borderColor:"#696969",color:"#696969",borderStyle:"solid",borderRadius:3,"& .min-icon":{width:20},"& .MuiTouchRipple-root span":{backgroundColor:e.palette.primary.main,borderRadius:3,opacity:.3},"&:disabled":{color:"#EBEBEB",borderColor:"#EBEBEB"}},contained:{borderColor:e.palette.primary.main,background:e.palette.primary.main,color:"white","& .MuiTouchRipple-root span":{backgroundColor:e.palette.primary.dark,borderRadius:3,opacity:.3},"&:hover":{backgroundColor:e.palette.primary.light,color:"#FFF"}}})}))((function(e){var n=e.classes,t=e.children,s=e.variant,r=void 0===s?"outlined":s,h=e.tooltip,f=(0,o.Z)(e,m),p=(0,u.jsx)(l.Z,(0,i.Z)((0,i.Z)({},f),{},{className:(0,d.Z)(n.root,(0,a.Z)({},n.contained,"contained"===r)),children:t}));return h&&""!==h?(0,u.jsx)(c.Z,{title:h,children:(0,u.jsx)("span",{children:p})}):p}))},75578:function(e,n,t){var i=t(1413),a=t(72791),o=t(80184);n.Z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;function t(t){return(0,o.jsx)(a.Suspense,{fallback:n,children:(0,o.jsx)(e,(0,i.Z)({},t))})}return t}},81159:function(e,n,t){var i=t(4942),a=t(1413),o=t(72791),s=t(11135),r=t(25787),l=t(9955),c=t(30829),d=t(20068),u=t(20890),m=t(61889),h=t(23814),f=t(84570),p=t(28182),x=t(80184),b=(0,r.Z)((function(e){return{root:{width:50,height:24,padding:0,margin:0},switchBase:{padding:1,"&$checked":{transform:"translateX(24px)",color:e.palette.common.white,"& + $track":{backgroundColor:"#4CCB92",boxShadow:"inset 0px 1px 4px rgba(0,0,0,0.1)",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#4CCB92",border:"6px solid #fff"}},thumb:{width:22,height:22,backgroundColor:"#FAFAFA",border:"2px solid #FFFFFF",marginLeft:1},track:{borderRadius:12,backgroundColor:"#E2E2E2",boxShadow:"inset 0px 1px 4px rgba(0,0,0,0.1)",opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{},switchContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end"}}}))(l.Z);n.Z=(0,r.Z)((function(e){return(0,s.Z)((0,a.Z)((0,a.Z)({divContainer:{marginBottom:20},indicatorLabelOn:{fontWeight:"bold",color:"#081C42 !important"},indicatorLabel:{fontSize:12,color:"#E2E2E2",margin:"0 8px 0 10px"},fieldDescription:{marginTop:4,color:"#999999"},tooltip:{fontSize:16}},h.OR),h.YI))}))((function(e){var n=e.label,t=void 0===n?"":n,a=e.onChange,s=e.value,r=e.id,l=e.name,h=e.checked,g=void 0!==h&&h,j=e.disabled,v=void 0!==j&&j,Z=e.switchOnly,y=void 0!==Z&&Z,C=e.tooltip,k=void 0===C?"":C,S=e.description,w=void 0===S?"":S,N=e.classes,E=e.indicatorLabels,T=(0,x.jsxs)(o.Fragment,{children:[!y&&(0,x.jsx)("span",{className:(0,p.Z)(N.indicatorLabel,(0,i.Z)({},N.indicatorLabelOn,!g)),children:E&&E.length>1?E[1]:"OFF"}),(0,x.jsx)(b,{checked:g,onChange:a,color:"primary",name:l,inputProps:{"aria-label":"primary checkbox"},disabled:v,disableRipple:!0,disableFocusRipple:!0,disableTouchRipple:!0,value:s}),!y&&(0,x.jsx)("span",{className:(0,p.Z)(N.indicatorLabel,(0,i.Z)({},N.indicatorLabelOn,g)),children:E?E[0]:"ON"})]});return y?T:(0,x.jsx)("div",{className:N.divContainer,children:(0,x.jsxs)(m.ZP,{container:!0,alignItems:"center",children:[(0,x.jsx)(m.ZP,{item:!0,xs:!0,children:(0,x.jsxs)(m.ZP,{container:!0,children:[(0,x.jsx)(m.ZP,{item:!0,xs:12,sm:4,md:3,children:""!==t&&(0,x.jsxs)(c.Z,{htmlFor:r,className:N.inputLabel,children:[(0,x.jsx)("span",{children:t}),""!==k&&(0,x.jsx)("div",{className:N.tooltipContainer,children:(0,x.jsx)(d.Z,{title:k,placement:"top-start",children:(0,x.jsx)("div",{className:N.tooltip,children:(0,x.jsx)(f.Z,{})})})})]})}),(0,x.jsx)(m.ZP,{item:!0,xs:12,sm:!0,textAlign:"left",children:""!==w&&(0,x.jsx)(u.Z,{component:"p",className:N.fieldDescription,children:w})})]})}),(0,x.jsx)(m.ZP,{item:!0,xs:12,sm:2,textAlign:"right",className:N.switchContainer,children:T})]})})}))},21435:function(e,n,t){var i=t(1413),a=t(72791),o=t(27391),s=t(61889),r=t(30829),l=t(20068),c=t(13400),d=t(11135),u=t(72455),m=t(25787),h=t(23814),f=t(84570),p=t(28182),x=t(80184),b=(0,u.Z)((function(e){return(0,d.Z)((0,i.Z)({},h.gM))}));function g(e){var n=b();return(0,x.jsx)(o.Z,(0,i.Z)({InputProps:{classes:n}},e))}n.Z=(0,m.Z)((function(e){return(0,d.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},h.YI),h.Hr),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}},inputLabel:(0,i.Z)((0,i.Z)({},h.YI.inputLabel),{},{fontWeight:"normal"})}))}))((function(e){var n=e.label,t=e.onChange,o=e.value,d=e.id,u=e.name,m=e.type,h=void 0===m?"text":m,b=e.autoComplete,j=void 0===b?"off":b,v=e.disabled,Z=void 0!==v&&v,y=e.multiline,C=void 0!==y&&y,k=e.tooltip,S=void 0===k?"":k,w=e.index,N=void 0===w?0:w,E=e.error,T=void 0===E?"":E,_=e.required,P=void 0!==_&&_,F=e.placeholder,I=void 0===F?"":F,O=e.min,L=e.max,D=e.overlayIcon,B=void 0===D?null:D,M=e.overlayObject,R=void 0===M?null:M,z=e.extraInputProps,A=void 0===z?{}:z,W=e.overlayAction,U=e.noLabelMinWidth,H=void 0!==U&&U,G=e.pattern,K=void 0===G?"":G,J=e.autoFocus,Y=void 0!==J&&J,$=e.classes,V=e.className,q=void 0===V?"":V,X=(0,i.Z)({"data-index":N},A);return"number"===h&&O&&(X.min=O),"number"===h&&L&&(X.max=L),""!==K&&(X.pattern=K),(0,x.jsx)(a.Fragment,{children:(0,x.jsxs)(s.ZP,{container:!0,className:(0,p.Z)(""!==q?q:"",""!==T?$.errorInField:$.inputBoxContainer),children:[""!==n&&(0,x.jsxs)(r.Z,{htmlFor:d,className:H?$.noMinWidthLabel:$.inputLabel,children:[(0,x.jsxs)("span",{children:[n,P?"*":""]}),""!==S&&(0,x.jsx)("div",{className:$.tooltipContainer,children:(0,x.jsx)(l.Z,{title:S,placement:"top-start",children:(0,x.jsx)("div",{className:$.tooltip,children:(0,x.jsx)(f.Z,{})})})})]}),(0,x.jsxs)("div",{className:$.textBoxContainer,children:[(0,x.jsx)(g,{id:d,name:u,fullWidth:!0,value:o,autoFocus:Y,disabled:Z,onChange:t,type:h,multiline:C,autoComplete:j,inputProps:X,error:""!==T,helperText:T,placeholder:I,className:$.inputRebase}),B&&(0,x.jsx)("div",{className:"".concat($.overlayAction," ").concat(""!==n?"withLabel":""),children:(0,x.jsx)(c.Z,{onClick:W?function(){W()}:function(){return null},size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:B})}),R&&(0,x.jsx)("div",{className:"".concat($.overlayAction," ").concat(""!==n?"withLabel":""),children:R})]})]})})}))},64163:function(e,n,t){var i=t(1413),a=t(72791),o=t(61889),s=t(11135),r=t(25787),l=t(23814),c=t(80184);n.Z=(0,r.Z)((function(e){return(0,s.Z)((0,i.Z)({},l.xx))}))((function(e){var n=e.classes,t=e.label,i=void 0===t?"":t,s=e.content,r=e.multiLine,l=void 0!==r&&r;return(0,c.jsx)(a.Fragment,{children:(0,c.jsxs)(o.ZP,{className:n.prefinedContainer,children:[""!==i&&(0,c.jsx)(o.ZP,{item:!0,xs:12,className:n.predefinedTitle,children:i}),(0,c.jsx)(o.ZP,{item:!0,xs:12,className:n.predefinedList,children:(0,c.jsx)(o.ZP,{item:!0,xs:12,className:l?n.innerContentMultiline:n.innerContent,children:s})})]})})}))},83679:function(e,n,t){var i=t(4942),a=t(1413),o=(t(72791),t(28182)),s=t(61889),r=t(10765),l=t(85523),c=t(61419),d=t(30829),u=t(20068),m=t(11135),h=t(25787),f=t(72455),p=t(23814),x=t(84570),b=t(80184),g=(0,f.Z)((0,a.Z)({root:{"&:hover":{backgroundColor:"transparent"}}},p.FU)),j=function(e){var n=g();return(0,b.jsx)(c.Z,(0,a.Z)({className:n.root,disableRipple:!0,color:"default",checkedIcon:(0,b.jsx)("span",{className:n.radioSelectedIcon}),icon:(0,b.jsx)("span",{className:n.radioUnselectedIcon})},e))};n.Z=(0,h.Z)((function(e){return(0,m.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},p.YI),p.Hr),{},{optionLabel:{"&.Mui-disabled":{"& .MuiFormControlLabel-label":{color:"#9c9c9c"}},"&:last-child":{marginRight:0},"& .MuiFormControlLabel-label":{fontSize:12,color:"#07193E"}},checkedOption:{"& .MuiFormControlLabel-label":{fontSize:12,color:"#07193E",fontWeight:700}}}))}))((function(e){var n=e.selectorOptions,t=void 0===n?[]:n,a=e.currentSelection,c=e.label,m=e.id,h=e.name,f=e.onChange,p=e.tooltip,g=void 0===p?"":p,v=e.disableOptions,Z=void 0!==v&&v,y=e.classes,C=e.displayInColumn,k=void 0!==C&&C;return(0,b.jsxs)(s.ZP,{container:!0,alignItems:"center",children:[(0,b.jsx)(s.ZP,{item:!0,xs:!0,children:(0,b.jsxs)(d.Z,{htmlFor:m,className:y.inputLabel,children:[(0,b.jsx)("span",{children:c}),""!==g&&(0,b.jsx)("div",{className:y.tooltipContainer,children:(0,b.jsx)(u.Z,{title:g,placement:"top-start",children:(0,b.jsx)("div",{children:(0,b.jsx)(x.Z,{})})})})]})}),(0,b.jsx)(s.ZP,{item:!0,xs:!0,className:y.radioOptionsLayout,children:(0,b.jsx)(r.Z,{"aria-label":m,id:m,name:h,value:a,onChange:f,row:!k,style:{display:"block",textAlign:"right"},children:t.map((function(e){return(0,b.jsx)(l.Z,{value:e.value,control:(0,b.jsx)(j,{}),label:e.label,disabled:Z,className:(0,o.Z)(y.optionLabel,(0,i.Z)({},y.checkedOption,e.value===a))},"rd-".concat(h,"-").concat(e.value))}))})})]})}))},9505:function(e,n,t){var i=t(70885),a=t(72791),o=t(81207);n.Z=function(e,n){var t=(0,a.useState)(!1),s=(0,i.Z)(t,2),r=s[0],l=s[1];return[r,function(t,i,a){l(!0),o.Z.invoke(t,i,a).then((function(n){l(!1),e(n)})).catch((function(e){l(!1),n(e)}))}]}},23508:function(e,n,t){var i=t(1413),a=t(72791),o=t(5574),s=t(65661),r=t(39157),l=t(97123),c=t(36151),d=t(39709),u=t(13400),m=t(29823),h=t(11135),f=t(25787),p=t(23814),x=t(80184);n.Z=(0,f.Z)((function(e){return(0,h.Z)((0,i.Z)({},p.Qw))}))((function(e){var n=e.isOpen,t=void 0!==n&&n,h=e.onClose,f=e.onCancel,p=e.onConfirm,b=e.classes,g=void 0===b?{}:b,j=e.title,v=void 0===j?"":j,Z=e.isLoading,y=e.confirmationContent,C=e.cancelText,k=void 0===C?"Cancel":C,S=e.confirmText,w=void 0===S?"Confirm":S,N=e.confirmButtonProps,E=void 0===N?{}:N,T=e.cancelButtonProps,_=void 0===T?{}:T,P=e.titleIcon,F=void 0===P?null:P;return(0,x.jsxs)(o.Z,{open:t,onClose:function(e,n){"backdropClick"!==n&&h()},className:g.root,sx:{"& .MuiPaper-root":{padding:"1rem 2rem 2rem 1rem"}},children:[(0,x.jsxs)(s.Z,{className:g.title,children:[(0,x.jsxs)("div",{className:g.titleText,children:[F," ",v]}),(0,x.jsx)("div",{className:g.closeContainer,children:(0,x.jsx)(u.Z,{"aria-label":"close",className:g.closeButton,onClick:h,disableRipple:!0,size:"small",children:(0,x.jsx)(m.Z,{})})})]}),(0,x.jsx)(r.Z,{className:g.content,children:y}),(0,x.jsxs)(l.Z,{className:g.actions,children:[(0,x.jsx)(c.Z,(0,i.Z)((0,i.Z)({className:g.cancelButton,onClick:f||h,disabled:Z,type:"button"},_),{},{variant:"outlined",color:"primary",children:k})),(0,x.jsx)(d.Z,(0,i.Z)((0,i.Z)({className:g.confirmButton,type:"button",onClick:p,loading:Z,disabled:Z,variant:"outlined",color:"secondary",loadingPosition:"start",startIcon:(0,x.jsx)(a.Fragment,{}),autoFocus:!0},E),{},{children:w}))]})]})}))},401:function(e,n,t){t.d(n,{Z:function(){return N}});var i,a=t(70885),o=t(1413),s=t(72791),r=t(60364),l=t(13400),c=t(55646),d=t(5574),u=t(65661),m=t(39157),h=t(11135),f=t(25787),p=t(23814),x=t(42649),b=t(26181),g=t.n(b),j=t(10215),v=t(15146),Z=t(29823),y=t(80184),C=function(){clearInterval(i)},k={displayErrorMessage:x.zb},S=(0,r.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),k)((0,f.Z)((function(e){return(0,h.Z)({modalErrorContainer:{position:"absolute",marginTop:10,width:"80%",backgroundColor:"#fff",border:"#C72C48 1px solid",borderLeftWidth:12,borderRadius:3,zIndex:1e3,padding:"10px 15px",left:"50%",transform:"translateX(-50%)",opacity:0,transitionDuration:"0.2s"},modalErrorShow:{opacity:1},closeButton:{position:"absolute",right:5,fontSize:"small",border:0,backgroundColor:"#fff",cursor:"pointer"},errorTitle:{display:"flex",alignItems:"center"},errorLabel:{color:"#000",fontSize:18,fontWeight:500,marginLeft:5,marginRight:25},messageIcon:{color:"#C72C48",display:"flex","& svg":{width:32,height:32}},detailsButton:{color:"#9C9C9C",display:"flex",alignItems:"center",border:0,backgroundColor:"transparent",paddingLeft:5,fontSize:14,transformDuration:"0.3s",cursor:"pointer"},extraDetailsContainer:{fontStyle:"italic",color:"#9C9C9C",lineHeight:0,padding:"0 10px",transition:"all .2s ease-in-out",overflow:"hidden"},extraDetailsOpen:{lineHeight:1,padding:"3px 10px"},arrowElement:{marginLeft:-5},arrowOpen:{transform:"rotateZ(90deg)",transformDuration:"0.3s"}})}))((function(e){var n=e.classes,t=e.modalSnackMessage,o=e.displayErrorMessage,r=e.customStyle,l=(0,s.useState)(!1),c=(0,a.Z)(l,2),d=c[0],u=c[1],m=(0,s.useState)(!1),h=(0,a.Z)(m,2),f=h[0],p=h[1],x=(0,s.useCallback)((function(){p(!1)}),[]);(0,s.useEffect)((function(){f||(o({detailedError:"",errorMessage:""}),u(!1))}),[o,f]),(0,s.useEffect)((function(){""!==t.message&&"error"===t.type&&p(!0)}),[x,t.message,t.type]);var b=g()(t,"message",""),k=g()(t,"detailedErrorMsg","");return"error"!==t.type||""===b?null:(0,y.jsx)(s.Fragment,{children:(0,y.jsxs)("div",{className:"".concat(n.modalErrorContainer," ").concat(f?n.modalErrorShow:""),style:r,onMouseOver:C,onMouseLeave:function(){i=setInterval(x,1e4)},children:[(0,y.jsx)("button",{className:n.closeButton,onClick:x,children:(0,y.jsx)(Z.Z,{})}),(0,y.jsxs)("div",{className:n.errorTitle,children:[(0,y.jsx)("span",{className:n.messageIcon,children:(0,y.jsx)(v.Z,{})}),(0,y.jsx)("span",{className:n.errorLabel,children:b})]}),""!==k&&(0,y.jsxs)(s.Fragment,{children:[(0,y.jsx)("div",{className:n.detailsContainerLink,children:(0,y.jsxs)("button",{className:n.detailsButton,onClick:function(){u(!d)},children:["Details",(0,y.jsx)(j.Z,{className:"".concat(n.arrowElement," ").concat(d?n.arrowOpen:"")})]})}),(0,y.jsx)("div",{className:"".concat(n.extraDetailsContainer," ").concat(d?n.extraDetailsOpen:""),children:k})]})]})})}))),w=(0,r.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:x.MK}),N=(0,f.Z)((function(e){return(0,h.Z)((0,o.Z)((0,o.Z)({},p.Qw),{},{root:{"& .MuiPaper-root":{padding:"0 2rem 2rem 1rem"}},content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},p.sN))}))(w((function(e){var n=e.onClose,t=e.modalOpen,i=e.title,r=e.children,h=e.classes,f=e.wideLimit,p=void 0===f||f,x=e.modalSnackMessage,b=e.noContentPadding,g=e.setModalSnackMessage,j=e.titleIcon,v=void 0===j?null:j,C=(0,s.useState)(!1),k=(0,a.Z)(C,2),w=k[0],N=k[1];(0,s.useEffect)((function(){g("")}),[g]),(0,s.useEffect)((function(){if(x){if(""===x.message)return void N(!1);"error"!==x.type&&N(!0)}}),[x]);var E=p?{classes:{paper:h.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},T="";return x&&(T=x.detailedErrorMsg,(""===x.detailedErrorMsg||x.detailedErrorMsg.length<5)&&(T=x.message)),(0,y.jsxs)(d.Z,(0,o.Z)((0,o.Z)({open:t,classes:h},E),{},{scroll:"paper",onClose:function(e,t){"backdropClick"!==t&&n()},className:h.root,children:[(0,y.jsxs)(u.Z,{className:h.title,children:[(0,y.jsxs)("div",{className:h.titleText,children:[v," ",i]}),(0,y.jsx)("div",{className:h.closeContainer,children:(0,y.jsx)(l.Z,{"aria-label":"close",className:h.closeButton,onClick:n,disableRipple:!0,size:"small",children:(0,y.jsx)(Z.Z,{})})})]}),(0,y.jsx)(S,{}),(0,y.jsx)(c.Z,{open:w,className:h.snackBarModal,onClose:function(){N(!1),g("")},message:T,ContentProps:{className:"".concat(h.snackBar," ").concat(x&&"error"===x.type?h.errorSnackBar:"")},autoHideDuration:x&&"error"===x.type?1e4:5e3}),(0,y.jsx)(m.Z,{className:b?"":h.content,children:r})]}))})))},32291:function(e,n,t){t(72791);var i=t(60364),a=t(61889),o=t(11135),s=t(25787),r=t(20890),l=t(13400),c=t(95466),d=t(84683),u=t(3925),m=t(96389),h=t(80184),f={toggleList:u.kQ},p=(0,i.$j)((function(e){return{sidebarOpen:e.system.sidebarOpen,operatorMode:e.system.operatorMode,managerObjects:e.objectBrowser.objectManager.objectsToManage}}),f);n.Z=p((0,s.Z)((function(e){return(0,o.Z)({headerContainer:{width:"100%",minHeight:79,display:"flex",backgroundColor:"#fff",left:0,boxShadow:"rgba(0,0,0,.08) 0 3px 10px"},label:{display:"flex",justifyContent:"flex-start",alignItems:"center"},labelStyle:{color:"#000",fontSize:18,fontWeight:700,marginLeft:34,marginTop:8},rightMenu:{textAlign:"right"},logo:{marginLeft:34,fill:e.palette.primary.main,"& .min-icon":{width:120}},middleComponent:{display:"flex",justifyContent:"center",alignItems:"center"}})}))((function(e){var n=e.classes,t=e.label,i=e.actions,o=e.sidebarOpen,s=e.operatorMode,u=e.managerObjects,f=e.toggleList,p=e.middleComponent;return(0,h.jsxs)(a.ZP,{container:!0,className:"".concat(n.headerContainer," page-header"),direction:"row",alignItems:"center",children:[(0,h.jsxs)(a.ZP,{item:!0,xs:12,sm:12,md:p?3:6,className:n.label,sx:{paddingTop:["15px","15px","0","0"]},children:[!o&&(0,h.jsx)("div",{className:n.logo,children:s?(0,h.jsx)(c.Z,{}):(0,h.jsx)(d.Z,{})}),(0,h.jsx)(r.Z,{variant:"h4",className:n.labelStyle,children:t})]}),p&&(0,h.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:6,className:n.middleComponent,sx:{marginTop:["10px","10px","0","0"]},children:p}),(0,h.jsxs)(a.ZP,{item:!0,xs:12,sm:12,md:p?3:6,className:n.rightMenu,children:[i&&i,u&&u.length>0&&(0,h.jsx)(l.Z,{color:"primary","aria-label":"Refresh List",component:"span",onClick:function(){f()},size:"large",children:(0,h.jsx)(m.gx,{})})]})]})})))},14917:function(e,n,t){t(72791);var i=t(61889),a=t(11135),o=t(25787),s=t(80184);n.Z=(0,o.Z)((function(e){return(0,a.Z)({headerBarIcon:{marginRight:".7rem",color:e.palette.primary.main,"& .min-icon":{width:44,height:44}},headerBarSubheader:{color:"grey","@media (max-width: 900px)":{maxWidth:200}},screenTitle:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem",borderBottom:"1px solid #EAEAEA","@media (max-width: 600px)":{flexFlow:"column"}},titleColumn:{height:"auto",justifyContent:"center",display:"flex",flexFlow:"column",alignItems:"flex-start","& h1":{fontSize:19}},leftItems:{display:"flex",alignItems:"center","@media (max-width: 600px)":{flexFlow:"column"}},rightItems:{display:"flex",alignItems:"center"}})}))((function(e){var n=e.classes,t=e.icon,a=e.title,o=e.subTitle,r=e.actions,l=e.className;return(0,s.jsx)(i.ZP,{container:!0,children:(0,s.jsxs)(i.ZP,{item:!0,xs:12,className:"".concat(n.screenTitle," ").concat(l||""),children:[(0,s.jsxs)("div",{className:n.leftItems,children:[t?(0,s.jsx)("div",{className:n.headerBarIcon,children:t}):null,(0,s.jsxs)("div",{className:n.titleColumn,children:[(0,s.jsx)("h1",{style:{margin:0},children:a}),(0,s.jsx)("span",{className:n.headerBarSubheader,children:o})]})]}),(0,s.jsx)("div",{className:n.rightItems,children:r})]})})}))},59114:function(e,n,t){var i=t(4942),a=t(1413),o=(t(72791),t(63466)),s=t(74900),r=t(27391),l=t(25787),c=t(11135),d=t(23814),u=t(80184);n.Z=(0,l.Z)((function(e){return(0,c.Z)({searchField:(0,a.Z)({},d.qg.searchField),adornment:{}})}))((function(e){var n=e.placeholder,t=void 0===n?"":n,a=e.classes,l=e.onChange,c=e.adornmentPosition,d=void 0===c?"end":c,m=e.overrideClass,h=e.value,f=(0,i.Z)({disableUnderline:!0},"".concat(d,"Adornment"),(0,u.jsx)(o.Z,{position:d,className:a.adornment,children:(0,u.jsx)(s.Z,{})}));return(0,u.jsx)(r.Z,{placeholder:t,className:m||a.searchField,id:"search-resource",label:"",InputProps:f,onChange:function(e){l(e.target.value)},variant:"standard",value:h})}))},45902:function(e,n,t){t.r(n);var i=t(1413),a=(t(72791),t(53767)),o=t(80184);n.default=function(e){var n=e.label,t=void 0===n?null:n,s=e.value,r=void 0===s?"-":s,l=e.orientation,c=void 0===l?"column":l,d=e.stkProps,u=void 0===d?{}:d,m=e.lblProps,h=void 0===m?{}:m,f=e.valProps,p=void 0===f?{}:f;return(0,o.jsxs)(a.Z,(0,i.Z)((0,i.Z)({direction:{xs:"column",sm:c}},u),{},{children:[(0,o.jsx)("label",(0,i.Z)((0,i.Z)({style:{marginRight:5,fontWeight:600}},h),{},{children:t})),(0,o.jsx)("label",(0,i.Z)((0,i.Z)({style:{marginRight:5,fontWeight:500}},p),{},{children:r}))]}))}},50276:function(e,n,t){var i=t(1413),a=t(70885),o=t(72791),s=t(64554),r=t(43896),l=t(83449),c=t(47283),d=t(82851),u=t(25787),m=t(13967),h=t(11135),f=t(95193),p=t(80184),x={minHeight:60};n.Z=(0,u.Z)((function(e){return(0,h.Z)({tabsContainer:{display:"flex",height:"100%",width:"100%"},tabsHeaderContainer:{width:"300px",background:"#F8F8F8",borderRight:"1px solid #EAEAEA","& .MuiTabs-root":{"& .MuiTabs-indicator":{display:"none"},"& .MuiTab-root":{display:"flex",flexFlow:"row",alignItems:"center",justifyContent:"flex-start",borderBottom:"1px solid #EAEAEA","& .MuiSvgIcon-root":{marginRight:8,marginBottom:0},"&.Mui-selected":{background:"#E5E5E5",fontWeight:600}},"&. MuiTabs-scroller":{display:"none"}}},tabContentContainer:{width:"100%","& .MuiTabPanel-root":{height:"100%"}},tabPanel:{height:"100%"},"@media (max-width: 900px)":{tabsContainer:{flexFlow:"column",flexDirection:"column"},tabsHeaderContainer:{width:"100%",borderBottom:" 1px solid #EAEAEA","& .MuiTabs-root .MuiTabs-scroller .MuiButtonBase-root":{borderBottom:" 0px"}}}})}))((function(e){var n=e.children,t=e.classes,u=e.selectedTab,h=void 0===u?"0":u,b=e.routes,g=e.isRouteTabs,j=o.useState(h),v=(0,a.Z)(j,2),Z=v[0],y=v[1],C=(0,m.Z)(),k=(0,f.Z)(C.breakpoints.down("md")),S=[],w=[];return n?(n.forEach((function(e){S.push(e.tabConfig),w.push(e.content)})),(0,p.jsx)(l.ZP,{value:"".concat(Z),children:(0,p.jsxs)(s.Z,{className:t.tabsContainer,children:[(0,p.jsx)(s.Z,{className:t.tabsHeaderContainer,children:(0,p.jsx)(c.Z,{onChange:function(e,n){y(n)},orientation:k?"horizontal":"vertical",variant:k?"scrollable":"standard",scrollButtons:"auto",className:t.tabList,children:S.map((function(e,n){return e?(0,p.jsx)(r.Z,(0,i.Z)((0,i.Z)({className:t.tabHeader,value:"".concat(n),style:x},e),{},{disableRipple:!0,disableTouchRipple:!0,focusRipple:!0}),"v-tab-".concat(n)):null}))})}),(0,p.jsxs)(s.Z,{className:t.tabContentContainer,children:[g?null:w.map((function(e,n){return(0,p.jsx)(d.Z,{classes:(0,i.Z)({},t.tabPanel),value:"".concat(n),children:e||null},"v-tab-p-".concat(n))})),g?(0,p.jsx)("div",{className:t.tabPanel,children:b}):null]})]})})):null}))}}]);
//# sourceMappingURL=4829.e6c4c3e0.chunk.js.map