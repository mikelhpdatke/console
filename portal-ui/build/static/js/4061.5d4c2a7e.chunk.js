"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[4061],{84669:function(e,n,t){t(72791);var i=t(91523),o=t(11135),a=t(25787),r=t(96389),s=t(80184);n.Z=(0,a.Z)((function(e){return(0,o.Z)({link:{display:"flex",alignItems:"center",textDecoration:"none",maxWidth:"300px",padding:"2rem 2rem 0rem 2rem",color:e.palette.primary.light,fontSize:".8rem","&:hover":{textDecoration:"underline"}},icon:{marginRight:".3rem",display:"flex",alignItems:"center",justifyContent:"center","& svg.min-icon":{width:12}}})}))((function(e){var n=e.to,t=e.label,o=e.classes,a=e.className,l=e.executeOnClick;return(0,s.jsxs)(i.rU,{to:n,className:"".concat(o.link," ").concat(a||""),onClick:function(){l&&l()},children:[(0,s.jsx)("div",{className:o.icon,children:(0,s.jsx)(r.xN,{})}),(0,s.jsx)("div",{className:o.label,children:t})]})}))},40603:function(e,n,t){var i=t(1413),o=t(45987),a=(t(72791),t(85531)),r=t(72455),s=t(80184),l=["onClick","text","disabled","tooltip","icon"],c=(0,r.Z)((function(e){return{root:{padding:"7px",color:function(n){return function(n){var t=n.variant,i=n.color,o=e.palette.primary.main;return"primary"===i&&"contained"===t?o=e.palette.primary.contrastText:"primary"===i&&"outlined"===t?o=e.palette.primary.main:"secondary"===i&&(o=e.palette.secondary.main),o}(n)},borderColor:function(n){return"secondary"===n.color?e.palette.secondary.main:e.palette.primary.main},"& svg.min-icon":{width:12,marginLeft:function(e){return e.text?"5px":"0px"},"@media (max-width: 900px)":{width:16,marginLeft:"0px !important"}}}}}));n.Z=function(e){var n=c(e),t=e.onClick,r=e.text,d=void 0===r?"":r,u=e.disabled,m=void 0!==u&&u,p=e.tooltip,x=e.icon,h=void 0===x?null:x,f=(0,o.Z)(e,l);return(0,s.jsxs)(a.Z,(0,i.Z)((0,i.Z)({classes:n,tooltip:p||d,variant:"outlined",onClick:t,disabled:m,color:"secondary",size:"medium",sx:{border:"1px solid #f44336","& span":{fontSize:14,"@media (max-width: 900px)":{display:"none"}}}},f),{},{children:[(0,s.jsx)("span",{children:d})," ",h]}))}},85531:function(e,n,t){var i=t(1413),o=t(4942),a=t(45987),r=(t(72791),t(11135)),s=t(25787),l=t(13400),c=t(20068),d=t(28182),u=t(80184),m=["classes","children","variant","tooltip"];n.Z=(0,s.Z)((function(e){return(0,r.Z)({root:{padding:8,marginLeft:8,borderWidth:1,borderColor:"#696969",color:"#696969",borderStyle:"solid",borderRadius:3,"& .min-icon":{width:20},"& .MuiTouchRipple-root span":{backgroundColor:e.palette.primary.main,borderRadius:3,opacity:.3},"&:disabled":{color:"#EBEBEB",borderColor:"#EBEBEB"}},contained:{borderColor:e.palette.primary.main,background:e.palette.primary.main,color:"white","& .MuiTouchRipple-root span":{backgroundColor:e.palette.primary.dark,borderRadius:3,opacity:.3},"&:hover":{backgroundColor:e.palette.primary.light,color:"#FFF"}}})}))((function(e){var n=e.classes,t=e.children,r=e.variant,s=void 0===r?"outlined":r,p=e.tooltip,x=(0,a.Z)(e,m),h=(0,u.jsx)(l.Z,(0,i.Z)((0,i.Z)({},x),{},{className:(0,d.Z)(n.root,(0,o.Z)({},n.contained,"contained"===s)),children:t}));return p&&""!==p?(0,u.jsx)(c.Z,{title:p,children:(0,u.jsx)("span",{children:h})}):h}))},9505:function(e,n,t){var i=t(70885),o=t(72791),a=t(81207);n.Z=function(e,n){var t=(0,o.useState)(!1),r=(0,i.Z)(t,2),s=r[0],l=r[1];return[s,function(t,i,o){l(!0),a.Z.invoke(t,i,o).then((function(n){l(!1),e(n)})).catch((function(e){l(!1),n(e)}))}]}},74794:function(e,n,t){var i=t(1413),o=(t(72791),t(61889)),a=t(11135),r=t(25787),s=t(23814),l=t(80184);n.Z=(0,r.Z)((function(e){return(0,a.Z)((0,i.Z)({},s.Bw))}))((function(e){var n=e.classes,t=e.className,i=void 0===t?"":t,a=e.children;return(0,l.jsx)("div",{className:n.contentSpacer,children:(0,l.jsx)(o.ZP,{container:!0,children:(0,l.jsx)(o.ZP,{item:!0,xs:12,className:i,children:a})})})}))},23508:function(e,n,t){var i=t(1413),o=t(72791),a=t(5574),r=t(65661),s=t(39157),l=t(97123),c=t(36151),d=t(39709),u=t(13400),m=t(29823),p=t(11135),x=t(25787),h=t(23814),f=t(80184);n.Z=(0,x.Z)((function(e){return(0,p.Z)((0,i.Z)({},h.Qw))}))((function(e){var n=e.isOpen,t=void 0!==n&&n,p=e.onClose,x=e.onCancel,h=e.onConfirm,Z=e.classes,g=void 0===Z?{}:Z,b=e.title,j=void 0===b?"":b,v=e.isLoading,y=e.confirmationContent,C=e.cancelText,N=void 0===C?"Cancel":C,S=e.confirmText,k=void 0===S?"Confirm":S,P=e.confirmButtonProps,E=void 0===P?{}:P,M=e.cancelButtonProps,R=void 0===M?{}:M,w=e.titleIcon,A=void 0===w?null:w;return(0,f.jsxs)(a.Z,{open:t,onClose:function(e,n){"backdropClick"!==n&&p()},className:g.root,sx:{"& .MuiPaper-root":{padding:"1rem 2rem 2rem 1rem"}},children:[(0,f.jsxs)(r.Z,{className:g.title,children:[(0,f.jsxs)("div",{className:g.titleText,children:[A," ",j]}),(0,f.jsx)("div",{className:g.closeContainer,children:(0,f.jsx)(u.Z,{"aria-label":"close",className:g.closeButton,onClick:p,disableRipple:!0,size:"small",children:(0,f.jsx)(m.Z,{})})})]}),(0,f.jsx)(s.Z,{className:g.content,children:y}),(0,f.jsxs)(l.Z,{className:g.actions,children:[(0,f.jsx)(c.Z,(0,i.Z)((0,i.Z)({className:g.cancelButton,onClick:x||p,disabled:v,type:"button"},R),{},{variant:"outlined",color:"primary",children:N})),(0,f.jsx)(d.Z,(0,i.Z)((0,i.Z)({className:g.confirmButton,type:"button",onClick:h,loading:v,disabled:v,variant:"outlined",color:"secondary",loadingPosition:"start",startIcon:(0,f.jsx)(o.Fragment,{}),autoFocus:!0},E),{},{children:k}))]})]})}))},32291:function(e,n,t){t(72791);var i=t(60364),o=t(61889),a=t(11135),r=t(25787),s=t(20890),l=t(13400),c=t(95466),d=t(84683),u=t(3925),m=t(96389),p=t(80184),x={toggleList:u.kQ},h=(0,i.$j)((function(e){return{sidebarOpen:e.system.sidebarOpen,operatorMode:e.system.operatorMode,managerObjects:e.objectBrowser.objectManager.objectsToManage}}),x);n.Z=h((0,r.Z)((function(e){return(0,a.Z)({headerContainer:{width:"100%",minHeight:79,display:"flex",backgroundColor:"#fff",left:0,boxShadow:"rgba(0,0,0,.08) 0 3px 10px"},label:{display:"flex",justifyContent:"flex-start",alignItems:"center"},labelStyle:{color:"#000",fontSize:18,fontWeight:700,marginLeft:34,marginTop:8},rightMenu:{textAlign:"right"},logo:{marginLeft:34,fill:e.palette.primary.main,"& .min-icon":{width:120}},middleComponent:{display:"flex",justifyContent:"center",alignItems:"center"}})}))((function(e){var n=e.classes,t=e.label,i=e.actions,a=e.sidebarOpen,r=e.operatorMode,u=e.managerObjects,x=e.toggleList,h=e.middleComponent;return(0,p.jsxs)(o.ZP,{container:!0,className:"".concat(n.headerContainer," page-header"),direction:"row",alignItems:"center",children:[(0,p.jsxs)(o.ZP,{item:!0,xs:12,sm:12,md:h?3:6,className:n.label,sx:{paddingTop:["15px","15px","0","0"]},children:[!a&&(0,p.jsx)("div",{className:n.logo,children:r?(0,p.jsx)(c.Z,{}):(0,p.jsx)(d.Z,{})}),(0,p.jsx)(s.Z,{variant:"h4",className:n.labelStyle,children:t})]}),h&&(0,p.jsx)(o.ZP,{item:!0,xs:12,sm:12,md:6,className:n.middleComponent,sx:{marginTop:["10px","10px","0","0"]},children:h}),(0,p.jsxs)(o.ZP,{item:!0,xs:12,sm:12,md:h?3:6,className:n.rightMenu,children:[i&&i,u&&u.length>0&&(0,p.jsx)(l.Z,{color:"primary","aria-label":"Refresh List",component:"span",onClick:function(){x()},size:"large",children:(0,p.jsx)(m.gx,{})})]})]})})))},60680:function(e,n,t){t(72791);var i=t(11135),o=t(25787),a=t(80184);n.Z=(0,o.Z)((function(e){return(0,i.Z)({root:{padding:0,margin:0,fontSize:".9rem"}})}))((function(e){var n=e.classes,t=e.children;return(0,a.jsx)("h1",{className:n.root,children:t})}))},14917:function(e,n,t){t(72791);var i=t(61889),o=t(11135),a=t(25787),r=t(80184);n.Z=(0,a.Z)((function(e){return(0,o.Z)({headerBarIcon:{marginRight:".7rem",color:e.palette.primary.main,"& .min-icon":{width:44,height:44}},headerBarSubheader:{color:"grey","@media (max-width: 900px)":{maxWidth:200}},screenTitle:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem",borderBottom:"1px solid #EAEAEA","@media (max-width: 600px)":{flexFlow:"column"}},titleColumn:{height:"auto",justifyContent:"center",display:"flex",flexFlow:"column",alignItems:"flex-start","& h1":{fontSize:19}},leftItems:{display:"flex",alignItems:"center","@media (max-width: 600px)":{flexFlow:"column"}},rightItems:{display:"flex",alignItems:"center"}})}))((function(e){var n=e.classes,t=e.icon,o=e.title,a=e.subTitle,s=e.actions,l=e.className;return(0,r.jsx)(i.ZP,{container:!0,children:(0,r.jsxs)(i.ZP,{item:!0,xs:12,className:"".concat(n.screenTitle," ").concat(l||""),children:[(0,r.jsxs)("div",{className:n.leftItems,children:[t?(0,r.jsx)("div",{className:n.headerBarIcon,children:t}):null,(0,r.jsxs)("div",{className:n.titleColumn,children:[(0,r.jsx)("h1",{style:{margin:0},children:o}),(0,r.jsx)("span",{className:n.headerBarSubheader,children:a})]})]}),(0,r.jsx)("div",{className:n.rightItems,children:s})]})})}))},59114:function(e,n,t){var i=t(4942),o=t(1413),a=(t(72791),t(63466)),r=t(74900),s=t(27391),l=t(25787),c=t(11135),d=t(23814),u=t(80184);n.Z=(0,l.Z)((function(e){return(0,c.Z)({searchField:(0,o.Z)({},d.qg.searchField),adornment:{}})}))((function(e){var n=e.placeholder,t=void 0===n?"":n,o=e.classes,l=e.onChange,c=e.adornmentPosition,d=void 0===c?"end":c,m=e.overrideClass,p=e.value,x=(0,i.Z)({disableUnderline:!0},"".concat(d,"Adornment"),(0,u.jsx)(a.Z,{position:d,className:o.adornment,children:(0,u.jsx)(r.Z,{})}));return(0,u.jsx)(s.Z,{placeholder:t,className:m||o.searchField,id:"search-resource",label:"",InputProps:x,onChange:function(e){l(e.target.value)},variant:"standard",value:p})}))},50276:function(e,n,t){var i=t(1413),o=t(70885),a=t(72791),r=t(64554),s=t(43896),l=t(83449),c=t(47283),d=t(82851),u=t(25787),m=t(13967),p=t(11135),x=t(95193),h=t(80184),f={minHeight:60};n.Z=(0,u.Z)((function(e){return(0,p.Z)({tabsContainer:{display:"flex",height:"100%",width:"100%"},tabsHeaderContainer:{width:"300px",background:"#F8F8F8",borderRight:"1px solid #EAEAEA","& .MuiTabs-root":{"& .MuiTabs-indicator":{display:"none"},"& .MuiTab-root":{display:"flex",flexFlow:"row",alignItems:"center",justifyContent:"flex-start",borderBottom:"1px solid #EAEAEA","& .MuiSvgIcon-root":{marginRight:8,marginBottom:0},"&.Mui-selected":{background:"#E5E5E5",fontWeight:600}},"&. MuiTabs-scroller":{display:"none"}}},tabContentContainer:{width:"100%","& .MuiTabPanel-root":{height:"100%"}},tabPanel:{height:"100%"},"@media (max-width: 900px)":{tabsContainer:{flexFlow:"column",flexDirection:"column"},tabsHeaderContainer:{width:"100%",borderBottom:" 1px solid #EAEAEA","& .MuiTabs-root .MuiTabs-scroller .MuiButtonBase-root":{borderBottom:" 0px"}}}})}))((function(e){var n=e.children,t=e.classes,u=e.selectedTab,p=void 0===u?"0":u,Z=e.routes,g=e.isRouteTabs,b=a.useState(p),j=(0,o.Z)(b,2),v=j[0],y=j[1],C=(0,m.Z)(),N=(0,x.Z)(C.breakpoints.down("md")),S=[],k=[];return n?(n.forEach((function(e){S.push(e.tabConfig),k.push(e.content)})),(0,h.jsx)(l.ZP,{value:"".concat(v),children:(0,h.jsxs)(r.Z,{className:t.tabsContainer,children:[(0,h.jsx)(r.Z,{className:t.tabsHeaderContainer,children:(0,h.jsx)(c.Z,{onChange:function(e,n){y(n)},orientation:N?"horizontal":"vertical",variant:N?"scrollable":"standard",scrollButtons:"auto",className:t.tabList,children:S.map((function(e,n){return e?(0,h.jsx)(s.Z,(0,i.Z)((0,i.Z)({className:t.tabHeader,value:"".concat(n),style:f},e),{},{disableRipple:!0,disableTouchRipple:!0,focusRipple:!0}),"v-tab-".concat(n)):null}))})}),(0,h.jsxs)(r.Z,{className:t.tabContentContainer,children:[g?null:k.map((function(e,n){return(0,h.jsx)(d.Z,{classes:(0,i.Z)({},t.tabPanel),value:"".concat(n),children:e||null},"v-tab-p-".concat(n))})),g?(0,h.jsx)("div",{className:t.tabPanel,children:Z}):null]})]})})):null}))},88896:function(e,n,t){t.r(n);var i=t(70885),o=(t(72791),t(60364)),a=t(51691),r=t(42649),s=t(23508),l=t(9505),c=t(96389),d=t(80184),u={setErrorSnackMessage:r.Ih},m=(0,o.$j)(null,u);n.default=m((function(e){var n=e.selectedGroup,t=e.deleteOpen,o=e.closeDeleteModalAndRefresh,r=e.setErrorSnackMessage,u=(0,l.Z)((function(){return o(!0)}),(function(e){return r(e)})),m=(0,i.Z)(u,2),p=m[0],x=m[1];if(!n)return null;return(0,d.jsx)(s.Z,{title:"Delete Group",confirmText:"Delete",isOpen:t,titleIcon:(0,d.jsx)(c.Nv,{}),isLoading:p,onConfirm:function(){x("DELETE","/api/v1/group?name=".concat(encodeURI(n)))},onClose:function(){return o(!1)},confirmationContent:(0,d.jsxs)(a.Z,{children:["Are you sure you want to delete group",(0,d.jsx)("br",{}),(0,d.jsx)("b",{children:n}),"?"]})})}))},94061:function(e,n,t){t.r(n),t.d(n,{default:function(){return K},formatPolicy:function(){return G},getPoliciesAsString:function(){return D}});var i=t(70885),o=t(1413),a=t(72791),r=t(79271),s=t(11135),l=t(23814),c=t(42649),d=t(60364),u=t(25787),m=t(61889),p=t(14917),x=t(96389),h=t(92983),f=t(62666),Z=t(81207),g=t(39134),b=t(40228),j=t(401),v=t(64163),y=t(36151),C=t(80184),N={setModalErrorSnackMessage:c.zb},S=(0,d.$j)(null,N),k=(0,u.Z)((function(e){return(0,s.Z)((0,o.Z)((0,o.Z)((0,o.Z)({buttonContainer:{textAlign:"right",marginTop:"1rem"},userSelector:{"& .MuiPaper-root":{padding:0,marginBottom:15}}},l.ID),l.DF),l.oO))}))(S((function(e){var n=e.classes,t=e.title,o=void 0===t?"":t,r=e.groupStatus,s=void 0===r?"enabled":r,l=e.preSelectedUsers,d=void 0===l?[]:l,u=e.selectedGroup,p=void 0===u?"":u,h=e.open,f=e.onClose,g=(0,a.useState)(d),N=(0,i.Z)(g,2),S=N[0],k=N[1];return(0,C.jsxs)(j.Z,{modalOpen:h,onClose:f,title:o,titleIcon:(0,C.jsx)(x.Zm,{}),children:[(0,C.jsx)("div",{className:n.formFieldRow,children:(0,C.jsx)(v.Z,{label:"Selected Group",content:p})}),(0,C.jsx)("div",{className:n.userSelector,children:(0,C.jsx)(b.Z,{selectedUsers:S,setSelectedUsers:k,editMode:!p})}),(0,C.jsxs)(m.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,C.jsx)(y.Z,{type:"button",variant:"outlined",color:"primary",onClick:function(){k(d)},children:"Reset"}),(0,C.jsx)(y.Z,{type:"button",variant:"contained",color:"primary",onClick:function(){Z.Z.invoke("PUT","/api/v1/group?name=".concat(encodeURI(p)),{group:p,members:S,status:s}).then((function(e){f()})).catch((function(e){f(),(0,c.zb)(e)}))},children:"Save"})]})]})}))),P=t(88896),E=t(50276),M=t(81159),R=t(74794),w=t(84669),A=t(60680),B=t(59114),F=t(56087),I=t(38442),T=t(32291),U=t(91523),O=(0,u.Z)((function(e){return(0,s.Z)({breadcrumLink:{textDecoration:"none",color:"black"}})}))((function(e){var n=e.classes;return(0,C.jsx)(T.Z,{label:(0,C.jsx)(a.Fragment,{children:(0,C.jsx)(U.rU,{to:F.gA.GROUPS,className:n.breadcrumLink,children:"Groups"})}),actions:(0,C.jsx)(a.Fragment,{})})})),L=t(40603),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.length<=0?[]:e.split(",")},D=function(e){return e.join(", ")},z={setErrorSnackMessage:c.Ih},_=(0,d.$j)(null,z),K=(0,u.Z)((function(e){return(0,s.Z)((0,o.Z)((0,o.Z)((0,o.Z)({pageContainer:{border:"1px solid #EAEAEA",width:"100%"},breadcrumLink:{textDecoration:"none",color:"black"},statusLabel:{fontSize:".8rem",marginRight:".7rem"},statusValue:{fontWeight:"bold",fontSize:".9rem",marginRight:".7rem"},searchField:(0,o.Z)((0,o.Z)({},l.qg.searchField),{},{maxWidth:280})},l.VX),l.bK),{},{actionsTray:(0,o.Z)((0,o.Z)({},l.OR.actionsTray),{},{alignItems:"center","& h1":{flex:1},"& button":{marginLeft:".8rem"},"@media (max-width: 900px)":{justifyContent:"flex-end","& h1":{display:"none"},"& button":{whiteSpace:"nowrap",textOverflow:"ellipsis"}}})},(0,l.Bz)(e.spacing(4))))}))(_((function(e){var n=e.classes,t=(0,a.useState)({}),o=(0,i.Z)(t,2),s=o[0],l=o[1],d=(0,a.useState)(!1),u=(0,i.Z)(d,2),b=u[0],j=u[1],v=(0,a.useState)(!1),y=(0,i.Z)(v,2),N=y[0],S=y[1],T=(0,a.useState)(!1),U=(0,i.Z)(T,2),D=U[0],z=U[1],_=(0,a.useState)(""),K=(0,i.Z)(_,2),H=K[0],V=K[1],W=(0,r.UO)().groupName,$=void 0===W?"":W,X=s.members,q=void 0===X?[]:X,Q=s.policy,Y=void 0===Q?"":Q,J=s.status,ee=q.filter((function(e){return e.includes(H)}));(0,a.useEffect)((function(){$&&ae()}),[$]);var ne=G(Y),te="enabled"===J,ie=q.length>0?"Edit Members":"Add Members",oe=(0,I.F)(F.C3,[F.Ft.ADMIN_GET_GROUP]);function ae(){oe&&Z.Z.invoke("GET","/api/v1/group?name=".concat(encodeURI($))).then((function(e){l(e)})).catch((function(e){(0,c.zb)(e),l({})}))}var re=(0,C.jsxs)(a.Fragment,{children:[(0,C.jsxs)("div",{className:n.actionsTray,children:[(0,C.jsx)(A.Z,{children:"Members"}),(0,C.jsx)(B.Z,{placeholder:"Search members",onChange:function(e){V(e)},overrideClass:n.searchField,value:H}),(0,C.jsx)(I.s,{resource:F.C3,scopes:[F.Ft.ADMIN_ADD_USER_TO_GROUP],errorProps:{disabled:!0},children:(0,C.jsx)(L.Z,{tooltip:ie,text:ie,variant:"contained",color:"primary",icon:(0,C.jsx)(x.dt,{}),onClick:function(){S(!0)}})})]}),(0,C.jsx)("div",{className:n.tableBlock,children:(0,C.jsx)(I.s,{resource:F.C3,scopes:[F.Ft.ADMIN_LIST_USERS],errorProps:{disabled:!0},children:(0,C.jsx)(h.Z,{itemActions:[{type:"view",onClick:function(e){f.Z.push("".concat(F.gA.USERS,"/").concat(e))}}],columns:[{label:"Access Key",elementKey:""}],selectedItems:[],isLoading:!1,records:ee,entityName:"Users",idField:""})})})]}),se=(0,C.jsxs)(a.Fragment,{children:[(0,C.jsxs)("div",{className:n.actionsTray,children:[(0,C.jsx)(A.Z,{children:"Policies"}),(0,C.jsx)(L.Z,{tooltip:"Set Policies",text:"Set Policies",variant:"contained",color:"primary",icon:(0,C.jsx)(x.v4,{}),onClick:function(){j(!0)}})]}),(0,C.jsx)("div",{className:n.tableBlock,children:(0,C.jsx)(h.Z,{itemActions:[{type:"view",onClick:function(e){f.Z.push("".concat(F.gA.POLICIES,"/").concat(e))}}],columns:[{label:"Policy",elementKey:""}],isLoading:!1,records:ne,entityName:"Policies",idField:""})})]});return(0,C.jsxs)(a.Fragment,{children:[(0,C.jsx)(O,{}),(0,C.jsx)(w.Z,{to:F.gA.GROUPS,label:"Return to Groups"}),(0,C.jsxs)(R.Z,{className:n.pageContainer,children:[(0,C.jsx)(m.ZP,{item:!0,xs:12,children:(0,C.jsx)(p.Z,{icon:(0,C.jsx)(a.Fragment,{children:(0,C.jsx)(x.ww,{width:40})}),title:$,subTitle:null,actions:(0,C.jsxs)(a.Fragment,{children:[(0,C.jsx)("span",{className:n.statusLabel,children:"Group Status:"}),(0,C.jsx)("span",{id:"group-status",className:n.statusValue,children:te?"Enabled":"Disabled"}),(0,C.jsx)(I.s,{resource:F.C3,scopes:[F.Ft.ADMIN_ENABLE_GROUP,F.Ft.ADMIN_DISABLE_GROUP],errorProps:{disabled:!0},matchAll:!0,children:(0,C.jsx)(M.Z,{indicatorLabels:["Enabled","Disabled"],checked:te,value:"group_enabled",id:"group-status",name:"group-status",onChange:function(){var e;e=!te,Z.Z.invoke("PUT","/api/v1/group?name=".concat(encodeURI($)),{group:$,members:q,status:e?"enabled":"disabled"}).then((function(e){ae()})).catch((function(e){(0,c.zb)(e)}))},switchOnly:!0})}),(0,C.jsx)(I.s,{resource:F.C3,scopes:[F.Ft.ADMIN_REMOVE_USER_FROM_GROUP],errorProps:{disabled:!0},children:(0,C.jsx)("div",{className:n.spacerLeft,children:(0,C.jsx)(L.Z,{tooltip:"Delete Group",text:"",variant:"outlined",color:"secondary",icon:(0,C.jsx)(x.XH,{}),onClick:function(){z(!0)}})})})]})})}),(0,C.jsx)(m.ZP,{item:!0,xs:12,children:(0,C.jsxs)(E.Z,{children:[{tabConfig:{label:"Members"},content:re},{tabConfig:{label:"Policies"},content:se}]})})]}),b?(0,C.jsx)(g.default,{open:b,selectedGroup:$,selectedUser:null,closeModalAndRefresh:function(){j(!1),ae()}}):null,N?(0,C.jsx)(k,{selectedGroup:$,onSaveClick:function(){},title:ie,groupStatus:J,preSelectedUsers:q,open:N,onClose:function(){S(!1),ae()}}):null,D&&(0,C.jsx)(P.default,{deleteOpen:D,selectedGroup:$,closeDeleteModalAndRefresh:function(e){z(!1),e&&f.Z.push(F.gA.GROUPS)}})]})})))},58400:function(e,n,t){var i=t(42982),o=t(70885),a=t(1413),r=t(72791),s=t(60364),l=t(11135),c=t(25787),d=t(40986),u=t(61889),m=t(21639),p=t(23814),x=t(42649),h=t(81207),f=t(92983),Z=t(59114),g=t(80184),b=(0,s.$j)(null,{setModalErrorSnackMessage:x.zb});n.Z=(0,c.Z)((function(e){return(0,l.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({noFound:{textAlign:"center",padding:"10px 0"},searchBox:{flex:1},fieldLabel:{fontWeight:400,width:160,marginRight:10},tableBlock:(0,a.Z)({},p.VX.tableBlock),filterBox:{display:"flex",marginBottom:15,alignItems:"center","& span":{fontSize:14}}},p.qg),p.VX),p.OR),p.jY))}))(b((function(e){var n=e.classes,t=e.selectedPolicy,a=void 0===t?[]:t,s=e.setSelectedPolicy,l=e.setModalErrorSnackMessage,c=(0,r.useState)([]),p=(0,o.Z)(c,2),x=p[0],b=p[1],j=(0,r.useState)(!1),v=(0,o.Z)(j,2),y=v[0],C=v[1],N=(0,r.useState)(""),S=(0,o.Z)(N,2),k=S[0],P=S[1],E=(0,r.useCallback)((function(){C(!0),h.Z.invoke("GET","/api/v1/policies?limit=1000").then((function(e){var n=null===e.policies?[]:e.policies;C(!1),b(n.sort(m.g4))})).catch((function(e){C(!1),l(e)}))}),[l]);(0,r.useEffect)((function(){C(!0)}),[]),(0,r.useEffect)((function(){y&&E()}),[y,E]);var M=x.filter((function(e){return e.name.includes(k)}));return(0,g.jsx)(r.Fragment,{children:(0,g.jsxs)(u.ZP,{item:!0,xs:12,children:[y&&(0,g.jsx)(d.Z,{}),x.length>0?(0,g.jsxs)(r.Fragment,{children:[(0,g.jsxs)(u.ZP,{item:!0,xs:12,className:n.filterBox,children:[(0,g.jsx)("span",{className:n.fieldLabel,children:"Assign Policies"}),(0,g.jsx)("div",{className:n.searchBox,children:(0,g.jsx)(Z.Z,{placeholder:"Filter Policy",onChange:function(e){P(e)},value:k})})]}),(0,g.jsx)(u.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,g.jsx)(f.Z,{columns:[{label:"Policy",elementKey:"name"}],onSelect:function(e){var n=e.target,t=n.value,o=n.checked,r=(0,i.Z)(a);o?r.push(t):r=r.filter((function(e){return e!==t})),r=r.filter((function(e){return""!==e})),s(r)},selectedItems:a,isLoading:y,records:M,entityName:"Policies",idField:"name",customPaperHeight:n.multiSelectTable})})]}):(0,g.jsx)("div",{className:n.noFound,children:"No Policies Available"})]})})})))},39134:function(e,n,t){t.r(n);var i=t(70885),o=t(1413),a=t(72791),r=t(60364),s=t(26181),l=t.n(s),c=t(11135),d=t(25787),u=t(36151),m=t(40986),p=t(61889),x=t(23814),h=t(42649),f=t(401),Z=t(81207),g=t(58400),b=t(64163),j=t(80184),v={setModalErrorSnackMessage:h.zb},y=(0,r.$j)(null,v);n.default=(0,d.Z)((function(e){return(0,c.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},x.oO),x.bK),{},{tableBlock:(0,o.Z)((0,o.Z)({},x.VX.tableBlock),{},{marginTop:15}),buttonContainer:{textAlign:"right",marginTop:".9rem"}}))}))(y((function(e){var n=e.classes,t=e.closeModalAndRefresh,o=e.selectedUser,r=e.selectedGroup,s=e.setModalErrorSnackMessage,c=e.open,d=(0,a.useState)(!1),x=(0,i.Z)(d,2),h=x[0],v=x[1],y=(0,a.useState)([]),C=(0,i.Z)(y,2),N=C[0],S=C[1],k=(0,a.useState)([]),P=(0,i.Z)(k,2),E=P[0],M=P[1];(0,a.useEffect)((function(){if(c){if(null!==r)return void(r&&Z.Z.invoke("GET","/api/v1/group?name=".concat(encodeURI(r))).then((function(e){var n=l()(e,"policy","");S(n.split(",")),M(n.split(","))})).catch((function(e){s(e),v(!1)})));var e=l()(o,"policy",[]);S(e),M(e)}}),[c,r,o]);var R=l()(o,"accessKey","");return(0,j.jsxs)(f.Z,{onClose:function(){t()},modalOpen:c,title:"Set Policies",children:[(0,j.jsx)(p.ZP,{item:!0,xs:12,children:(0,j.jsx)(b.Z,{label:"Selected ".concat(null!==r?"Group":"User"),content:null!==r?r:R})}),(0,j.jsx)(p.ZP,{item:!0,xs:12,children:(0,j.jsx)(b.Z,{label:"Current Policy",content:N.join(", ")})}),(0,j.jsx)("div",{className:n.tableBlock,children:(0,j.jsx)(g.Z,{selectedPolicy:E,setSelectedPolicy:M})}),(0,j.jsxs)(p.ZP,{item:!0,xs:12,className:n.buttonContainer,children:[(0,j.jsx)(u.Z,{type:"button",variant:"outlined",color:"primary",className:n.spacerRight,onClick:function(){M(N)},children:"Reset"}),(0,j.jsx)(u.Z,{type:"button",variant:"contained",color:"primary",disabled:h,onClick:function(){var e="user",n=null;null!==r?(e="group",n=r):null!==o&&(n=o.accessKey),v(!0),Z.Z.invoke("PUT","/api/v1/set-policy",{name:E,entityName:n,entityType:e}).then((function(){v(!1),t()})).catch((function(e){v(!1),s(e)}))},children:"Save"})]}),h&&(0,j.jsx)(p.ZP,{item:!0,xs:12,children:(0,j.jsx)(m.Z,{})})]})})))},21639:function(e,n,t){t.d(n,{LQ:function(){return i},g4:function(){return o},V2:function(){return a}});var i=function(e,n){return e.accessKey>n.accessKey?1:e.accessKey<n.accessKey?-1:0},o=function(e,n){return e.name>n.name?1:e.name<n.name?-1:0},a=function(e,n){return e>n?1:e<n?-1:0}}}]);
//# sourceMappingURL=4061.5d4c2a7e.chunk.js.map