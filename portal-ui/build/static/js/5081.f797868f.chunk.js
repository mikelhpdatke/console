/*! For license information please see 5081.f797868f.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[5081],{84669:function(e,t,a){a(72791);var n=a(91523),i=a(11135),r=a(25787),s=a(96389),o=a(80184);t.Z=(0,r.Z)((function(e){return(0,i.Z)({link:{display:"flex",alignItems:"center",textDecoration:"none",maxWidth:"300px",padding:"2rem 2rem 0rem 2rem",color:e.palette.primary.light,fontSize:".8rem","&:hover":{textDecoration:"underline"}},icon:{marginRight:".3rem",display:"flex",alignItems:"center",justifyContent:"center","& svg.min-icon":{width:12}}})}))((function(e){var t=e.to,a=e.label,i=e.classes,r=e.className,l=e.executeOnClick;return(0,o.jsxs)(n.rU,{to:t,className:"".concat(i.link," ").concat(r||""),onClick:function(){l&&l()},children:[(0,o.jsx)("div",{className:i.icon,children:(0,o.jsx)(s.xN,{})}),(0,o.jsx)("div",{className:i.label,children:a})]})}))},54639:function(e,t,a){a.d(t,{Z:function(){return j}});var n=a(70885),i=a(1413),r=a(72791),s=a(26181),o=a.n(s),l=a(61889),c=a(30829),d=a(20068),u=a(13400),m=a(99663),p=a(86711),x=a(11135),f=a(25787),h=a(23814),g=a(84570),v=a(22512),Z=a(80184),j=(0,f.Z)((function(e){return(0,x.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},h.YI),h.Hr),{},{valueString:{maxWidth:350,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginTop:2},fileInputField:{margin:"13px 0","@media (max-width: 900px)":{flexFlow:"column"}}},h.bV),{},{inputLabel:(0,i.Z)((0,i.Z)({},h.YI.inputLabel),{},{fontWeight:"normal"}),textBoxContainer:(0,i.Z)((0,i.Z)({},h.YI.textBoxContainer),{},{maxWidth:"100%",border:"1px solid #eaeaea",paddingLeft:"15px"})}))}))((function(e){var t=e.label,a=e.classes,i=e.onChange,s=e.id,x=e.name,f=e.disabled,h=void 0!==f&&f,j=e.tooltip,b=void 0===j?"":j,C=e.required,y=e.error,S=void 0===y?"":y,N=e.accept,k=void 0===N?"":N,w=e.value,F=void 0===w?"":w,I=(0,r.useState)(!1),T=(0,n.Z)(I,2),E=T[0],A=T[1];return(0,Z.jsx)(r.Fragment,{children:(0,Z.jsxs)(l.ZP,{item:!0,xs:12,className:"".concat(a.fileInputField," ").concat(a.fieldBottom," ").concat(a.fieldContainer," ").concat(""!==S?a.errorInField:""),children:[""!==t&&(0,Z.jsxs)(c.Z,{htmlFor:s,className:"".concat(""!==S?a.fieldLabelError:""," ").concat(a.inputLabel),children:[(0,Z.jsxs)("span",{children:[t,C?"*":""]}),""!==b&&(0,Z.jsx)("div",{className:a.tooltipContainer,children:(0,Z.jsx)(d.Z,{title:b,placement:"top-start",children:(0,Z.jsx)("div",{className:a.tooltip,children:(0,Z.jsx)(g.Z,{})})})})]}),E||""===F?(0,Z.jsxs)("div",{className:a.textBoxContainer,children:[(0,Z.jsx)("input",{type:"file",name:x,onChange:function(e){var t=o()(e,"target.files[0].name","");!function(e,t){var a=e.target.files[0],n=new FileReader;n.readAsDataURL(a),n.onload=function(){var e=n.result;if(e){var a=e.toString().split("base64,");2===a.length&&t(a[1])}}}(e,(function(e){i(e,t)}))},accept:k,required:C,disabled:h,className:a.fileInputField}),""!==F&&(0,Z.jsx)(u.Z,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){A(!1)},disableRipple:!1,disableFocusRipple:!1,size:"small",children:(0,Z.jsx)(p.Z,{})}),""!==S&&(0,Z.jsx)(v.Z,{errorMessage:S})]}):(0,Z.jsxs)("div",{className:a.fileReselect,children:[(0,Z.jsx)("div",{className:a.valueString,children:F}),(0,Z.jsx)(u.Z,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){A(!0)},disableRipple:!1,disableFocusRipple:!1,size:"small",children:(0,Z.jsx)(m.Z,{})})]})]})})}))},21435:function(e,t,a){var n=a(1413),i=a(72791),r=a(27391),s=a(61889),o=a(30829),l=a(20068),c=a(13400),d=a(11135),u=a(72455),m=a(25787),p=a(23814),x=a(84570),f=a(28182),h=a(80184),g=(0,u.Z)((function(e){return(0,d.Z)((0,n.Z)({},p.gM))}));function v(e){var t=g();return(0,h.jsx)(r.Z,(0,n.Z)({InputProps:{classes:t}},e))}t.Z=(0,m.Z)((function(e){return(0,d.Z)((0,n.Z)((0,n.Z)((0,n.Z)({},p.YI),p.Hr),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}},inputLabel:(0,n.Z)((0,n.Z)({},p.YI.inputLabel),{},{fontWeight:"normal"})}))}))((function(e){var t=e.label,a=e.onChange,r=e.value,d=e.id,u=e.name,m=e.type,p=void 0===m?"text":m,g=e.autoComplete,Z=void 0===g?"off":g,j=e.disabled,b=void 0!==j&&j,C=e.multiline,y=void 0!==C&&C,S=e.tooltip,N=void 0===S?"":S,k=e.index,w=void 0===k?0:k,F=e.error,I=void 0===F?"":F,T=e.required,E=void 0!==T&&T,A=e.placeholder,B=void 0===A?"":A,R=e.min,L=e.max,P=e.overlayIcon,z=void 0===P?null:P,M=e.overlayObject,O=void 0===M?null:M,W=e.extraInputProps,K=void 0===W?{}:W,_=e.overlayAction,D=e.noLabelMinWidth,V=void 0!==D&&D,$=e.pattern,Y=void 0===$?"":$,G=e.autoFocus,H=void 0!==G&&G,X=e.classes,U=e.className,q=void 0===U?"":U,Q=(0,n.Z)({"data-index":w},K);return"number"===p&&R&&(Q.min=R),"number"===p&&L&&(Q.max=L),""!==Y&&(Q.pattern=Y),(0,h.jsx)(i.Fragment,{children:(0,h.jsxs)(s.ZP,{container:!0,className:(0,f.Z)(""!==q?q:"",""!==I?X.errorInField:X.inputBoxContainer),children:[""!==t&&(0,h.jsxs)(o.Z,{htmlFor:d,className:V?X.noMinWidthLabel:X.inputLabel,children:[(0,h.jsxs)("span",{children:[t,E?"*":""]}),""!==N&&(0,h.jsx)("div",{className:X.tooltipContainer,children:(0,h.jsx)(l.Z,{title:N,placement:"top-start",children:(0,h.jsx)("div",{className:X.tooltip,children:(0,h.jsx)(x.Z,{})})})})]}),(0,h.jsxs)("div",{className:X.textBoxContainer,children:[(0,h.jsx)(v,{id:d,name:u,fullWidth:!0,value:r,autoFocus:H,disabled:b,onChange:a,type:p,multiline:y,autoComplete:Z,inputProps:Q,error:""!==I,helperText:I,placeholder:B,className:X.inputRebase}),z&&(0,h.jsx)("div",{className:"".concat(X.overlayAction," ").concat(""!==t?"withLabel":""),children:(0,h.jsx)(c.Z,{onClick:_?function(){_()}:function(){return null},size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:z})}),O&&(0,h.jsx)("div",{className:"".concat(X.overlayAction," ").concat(""!==t?"withLabel":""),children:O})]})]})})}))},74794:function(e,t,a){var n=a(1413),i=(a(72791),a(61889)),r=a(11135),s=a(25787),o=a(23814),l=a(80184);t.Z=(0,s.Z)((function(e){return(0,r.Z)((0,n.Z)({},o.Bw))}))((function(e){var t=e.classes,a=e.className,n=void 0===a?"":a,r=e.children;return(0,l.jsx)("div",{className:t.contentSpacer,children:(0,l.jsx)(i.ZP,{container:!0,children:(0,l.jsx)(i.ZP,{item:!0,xs:12,className:n,children:r})})})}))},32291:function(e,t,a){a(72791);var n=a(60364),i=a(61889),r=a(11135),s=a(25787),o=a(20890),l=a(13400),c=a(95466),d=a(84683),u=a(3925),m=a(96389),p=a(80184),x={toggleList:u.kQ},f=(0,n.$j)((function(e){return{sidebarOpen:e.system.sidebarOpen,operatorMode:e.system.operatorMode,managerObjects:e.objectBrowser.objectManager.objectsToManage}}),x);t.Z=f((0,s.Z)((function(e){return(0,r.Z)({headerContainer:{width:"100%",minHeight:79,display:"flex",backgroundColor:"#fff",left:0,boxShadow:"rgba(0,0,0,.08) 0 3px 10px"},label:{display:"flex",justifyContent:"flex-start",alignItems:"center"},labelStyle:{color:"#000",fontSize:18,fontWeight:700,marginLeft:34,marginTop:8},rightMenu:{textAlign:"right"},logo:{marginLeft:34,fill:e.palette.primary.main,"& .min-icon":{width:120}},middleComponent:{display:"flex",justifyContent:"center",alignItems:"center"}})}))((function(e){var t=e.classes,a=e.label,n=e.actions,r=e.sidebarOpen,s=e.operatorMode,u=e.managerObjects,x=e.toggleList,f=e.middleComponent;return(0,p.jsxs)(i.ZP,{container:!0,className:"".concat(t.headerContainer," page-header"),direction:"row",alignItems:"center",children:[(0,p.jsxs)(i.ZP,{item:!0,xs:12,sm:12,md:f?3:6,className:t.label,sx:{paddingTop:["15px","15px","0","0"]},children:[!r&&(0,p.jsx)("div",{className:t.logo,children:s?(0,p.jsx)(c.Z,{}):(0,p.jsx)(d.Z,{})}),(0,p.jsx)(o.Z,{variant:"h4",className:t.labelStyle,children:a})]}),f&&(0,p.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:6,className:t.middleComponent,sx:{marginTop:["10px","10px","0","0"]},children:f}),(0,p.jsxs)(i.ZP,{item:!0,xs:12,sm:12,md:f?3:6,className:t.rightMenu,children:[n&&n,u&&u.length>0&&(0,p.jsx)(l.Z,{color:"primary","aria-label":"Refresh List",component:"span",onClick:function(){x()},size:"large",children:(0,p.jsx)(m.gx,{})})]})]})})))},11838:function(e,t,a){a.r(t);var n=a(70885),i=a(1413),r=a(72791),s=a(60364),o=a(26181),l=a.n(o),c=a(61889),d=a(11135),u=a(25787),m=a(64554),p=a(36151),x=a(42649),f=a(23814),h=a(81207),g=a(21435),v=a(54639),Z=a(32291),j=a(34345),b=a(84669),C=a(74794),y=a(56087),S=a(80184),N={setErrorSnackMessage:x.Ih},k=(0,s.$j)(null,N);t.default=(0,u.Z)((function(e){return(0,d.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},f.oO),f.Je),f.DF),{},{lambdaNotifTitle:{color:"#07193E",fontSize:16,fontFamily:"Lato,sans-serif",paddingLeft:18},fileInputFieldCss:{margin:"0"},fileTextBoxContainer:{maxWidth:" 100%",flex:1},fileReselectCss:{maxWidth:" 100%",flex:1}},f.bV))}))(k((function(e){var t=e.classes,a=e.setErrorSnackMessage,s=e.match,o=e.history,d=(0,r.useState)(!1),u=(0,n.Z)(d,2),x=u[0],f=u[1],N=(0,r.useState)(""),k=(0,n.Z)(N,2),w=k[0],F=k[1],I=(0,r.useState)(""),T=(0,n.Z)(I,2),E=T[0],A=T[1],B=(0,r.useState)(""),R=(0,n.Z)(B,2),L=R[0],P=R[1],z=(0,r.useState)(""),M=(0,n.Z)(z,2),O=M[0],W=M[1],K=(0,r.useState)(""),_=(0,n.Z)(K,2),D=_[0],V=_[1],$=(0,r.useState)(""),Y=(0,n.Z)($,2),G=Y[0],H=Y[1],X=(0,r.useState)(""),U=(0,n.Z)(X,2),q=U[0],Q=U[1],J=(0,r.useState)(""),ee=(0,n.Z)(J,2),te=ee[0],ae=ee[1],ne=(0,r.useState)(""),ie=(0,n.Z)(ne,2),re=ie[0],se=ie[1],oe=(0,r.useState)(""),le=(0,n.Z)(oe,2),ce=le[0],de=le[1],ue=(0,r.useState)(""),me=(0,n.Z)(ue,2),pe=me[0],xe=me[1],fe=(0,r.useState)(""),he=(0,n.Z)(fe,2),ge=he[0],ve=he[1],Ze=(0,r.useState)(""),je=(0,n.Z)(Ze,2),be=je[0],Ce=je[1],ye=l()(s,"params.service","s3"),Se=(0,r.useState)(!0),Ne=(0,n.Z)(Se,2),ke=Ne[0],we=Ne[1],Fe=(0,r.useState)(""),Ie=(0,n.Z)(Fe,2),Te=Ie[0],Ee=Ie[1],Ae=(0,r.useCallback)((function(){return/^[A-Z0-9-_]+$/.test(w)?(Ee(""),!0):(Ee("Please verify that string is uppercase only and contains valid characters (numbers, dashes & underscores)."),!1)}),[w]);(0,r.useEffect)((function(){if(x){var e={},t={name:w,endpoint:E,bucket:L,prefix:O,region:D},n=ye;switch("minio"===ye&&(n="s3"),ye){case"minio":case"s3":e={s3:(0,i.Z)((0,i.Z)({},t),{},{accesskey:q,secretkey:te,storageclass:G})};break;case"gcs":e={gcs:(0,i.Z)((0,i.Z)({},t),{},{creds:ce})};break;case"azure":e={azure:(0,i.Z)((0,i.Z)({},t),{},{accountname:pe,accountkey:ge})}}var r=(0,i.Z)({type:n},e);h.Z.invoke("POST","/api/v1/admin/tiers",r).then((function(){f(!1),o.push(y.gA.TIERS_ADD)})).catch((function(e){f(!1),a(e)}))}}),[q,ge,pe,L,ce,E,o,w,O,D,x,te,a,G,ye]),(0,r.useEffect)((function(){var e=!0;""===ye&&(e=!1),""!==w&&Ae()||(e=!1),""===E&&(e=!1),""===L&&(e=!1),""===O&&(e=!1),""===D&&(e=!1),"s3"!==ye&&"minio"!==ye||(""===q&&(e=!1),""===te&&(e=!1)),"gcs"===ye&&""===ce&&(e=!1),"azure"===ye&&(""===pe&&(e=!1),""===ge&&(e=!1)),we(e)}),[q,ge,pe,L,ce,E,ke,w,O,D,te,G,ye,Ae]),(0,r.useEffect)((function(){switch(ye){case"gcs":A("https://storage.googleapis.com/"),Ce("Google Cloud");break;case"s3":A("https://s3.amazonaws.com"),Ce("Amazon S3");break;case"azure":A("http://blob.core.windows.net"),Ce("Azure");break;case"minio":A(""),Ce("MinIO")}}),[ye]);var Be=j.Bh.find((function(e){return e.serviceName===ye}));return(0,S.jsxs)(r.Fragment,{children:[(0,S.jsx)(Z.Z,{label:"Tiers"}),(0,S.jsx)(b.Z,{to:y.gA.TIERS_ADD,label:"Back To Tier Type Selection"}),(0,S.jsx)(C.Z,{children:(0,S.jsx)(c.ZP,{item:!0,xs:12,sx:{border:"1px solid #eaeaea",padding:"25px"},children:(0,S.jsxs)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),f(!0)},children:[""!==ye&&Be?(0,S.jsxs)(c.ZP,{item:!0,xs:12,sx:{display:"flex",alignItems:"center",justifyContent:"start",marginBottom:"20px"},children:[Be.logo?(0,S.jsx)(m.Z,{sx:{"& .min-icon":{height:"60px",width:"60px"}},children:Be.logo}):null,(0,S.jsx)("div",{className:t.lambdaNotifTitle,children:(0,S.jsxs)("b",{children:[be||""," - Add Tier Configuration"]})})]},"icon-".concat(Be.targetTitle)):null,(0,S.jsx)(c.ZP,{item:!0,xs:12,sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr"},gridAutoFlow:{xs:"dense",sm:"row"},gridRowGap:25,gridColumnGap:50},children:""!==ye&&(0,S.jsxs)(r.Fragment,{children:[(0,S.jsx)(g.Z,{id:"name",name:"name",label:"Name",placeholder:"Enter Name (Eg. REMOTE-TIER)",value:w,onChange:function(e){F(e.target.value.toUpperCase())},error:Te}),(0,S.jsx)(g.Z,{id:"endpoint",name:"endpoint",label:"Endpoint",placeholder:"Enter Endpoint",value:E,onChange:function(e){A(e.target.value)}}),(ye===j.b2||ye===j.Pp)&&(0,S.jsxs)(r.Fragment,{children:[(0,S.jsx)(g.Z,{id:"accessKey",name:"accessKey",label:"Access Key",placeholder:"Enter Access Key",value:q,onChange:function(e){Q(e.target.value)}}),(0,S.jsx)(g.Z,{id:"secretKey",name:"secretKey",label:"Secret Key",placeholder:"Enter Secret Key",value:te,onChange:function(e){ae(e.target.value)}})]}),ye===j.f0&&(0,S.jsx)(v.Z,{accept:".json",classes:{fileInputField:t.fileInputFieldCss,textBoxContainer:t.fileTextBoxContainer,fileReselect:t.fileReselectCss},id:"creds",label:"Credentials",name:"creds",onChange:function(e,t){de(e),se(t)},value:re}),ye===j.vB&&(0,S.jsxs)(r.Fragment,{children:[(0,S.jsx)(g.Z,{id:"accountName",name:"accountName",label:"Account Name",placeholder:"Enter Account Name",value:pe,onChange:function(e){xe(e.target.value)}}),(0,S.jsx)(g.Z,{id:"accountKey",name:"accountKey",label:"Account Key",placeholder:"Enter Account Key",value:ge,onChange:function(e){ve(e.target.value)}})]}),(0,S.jsx)(g.Z,{id:"bucket",name:"bucket",label:"Bucket",placeholder:"Enter Bucket",value:L,onChange:function(e){P(e.target.value)}}),(0,S.jsx)(g.Z,{id:"prefix",name:"prefix",label:"Prefix",placeholder:"Enter Prefix",value:O,onChange:function(e){W(e.target.value)}}),(0,S.jsx)(g.Z,{id:"region",name:"region",label:"Region",placeholder:"Enter Region",value:D,onChange:function(e){V(e.target.value)}}),ye===j.b2||ye===j.Pp&&(0,S.jsx)(g.Z,{id:"storageClass",name:"storageClass",label:"Storage Class",placeholder:"Enter Storage Class",value:G,onChange:function(e){H(e.target.value)}})]})}),(0,S.jsx)(c.ZP,{item:!0,xs:12,className:t.settingsButtonContainer,children:(0,S.jsx)(p.Z,{type:"submit",variant:"contained",color:"primary",disabled:x||!ke,children:"Save Tier Configuration"})})]})})})]})})))},34345:function(e,t,a){a.d(t,{Pp:function(){return r},f0:function(){return s},b2:function(){return o},vB:function(){return l},Bh:function(){return c}});var n=a(96389),i=a(80184),r="minio",s="gcs",o="s3",l="azure",c=[{serviceName:r,targetTitle:"MinIO",logo:(0,i.jsx)(n.$E,{}),logoXs:(0,i.jsx)(n.YE,{})},{serviceName:s,targetTitle:"Google Cloud Storage",logo:(0,i.jsx)(n.UQ,{}),logoXs:(0,i.jsx)(n.Vw,{})},{serviceName:o,targetTitle:"AWS S3",logo:(0,i.jsx)(n.fe,{}),logoXs:(0,i.jsx)(n.Xj,{})},{serviceName:l,targetTitle:"Azure",logo:(0,i.jsx)(n.jz,{}),logoXs:(0,i.jsx)(n.nA,{})}]},22512:function(e,t,a){var n=a(72791),i=a(20890),r=a(11135),s=a(25787),o=a(80184);t.Z=(0,s.Z)((function(e){var t;return(0,r.Z)({errorBlock:{color:(null===(t=e.palette)||void 0===t?void 0:t.error.main)||"#C83B51"}})}))((function(e){var t=e.classes,a=e.errorMessage,r=e.withBreak,s=void 0===r||r;return(0,o.jsxs)(n.Fragment,{children:[s&&(0,o.jsx)("br",{}),(0,o.jsx)(i.Z,{component:"p",variant:"body1",className:t.errorBlock,children:a})]})}))},99663:function(e,t,a){var n=a(95318);t.Z=void 0;var i=n(a(45649)),r=a(80184),s=(0,i.default)((0,r.jsx)("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}),"AttachFile");t.Z=s},86711:function(e,t,a){var n=a(95318);t.Z=void 0;var i=n(a(45649)),r=a(80184),s=(0,i.default)((0,r.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");t.Z=s},96532:function(e,t){var a=60103,n=60106,i=60107,r=60108,s=60114,o=60109,l=60110,c=60112,d=60113,u=60120,m=60115,p=60116,x=60121,f=60122,h=60117,g=60129,v=60131;if("function"===typeof Symbol&&Symbol.for){var Z=Symbol.for;a=Z("react.element"),n=Z("react.portal"),i=Z("react.fragment"),r=Z("react.strict_mode"),s=Z("react.profiler"),o=Z("react.provider"),l=Z("react.context"),c=Z("react.forward_ref"),d=Z("react.suspense"),u=Z("react.suspense_list"),m=Z("react.memo"),p=Z("react.lazy"),x=Z("react.block"),f=Z("react.server.block"),h=Z("react.fundamental"),g=Z("react.debug_trace_mode"),v=Z("react.legacy_hidden")}function j(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case i:case s:case r:case d:case u:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case m:case o:return e;default:return t}}case n:return t}}}},78457:function(e,t,a){a(96532)}}]);
//# sourceMappingURL=5081.f797868f.chunk.js.map