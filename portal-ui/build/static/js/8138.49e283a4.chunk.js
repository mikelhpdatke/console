"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[8138],{40603:function(e,r,t){var o=t(1413),n=t(45987),a=(t(72791),t(85531)),i=t(72455),s=t(80184),l=["onClick","text","disabled","tooltip","icon"],c=(0,i.Z)((function(e){return{root:{padding:"7px",color:function(r){return function(r){var t=r.variant,o=r.color,n=e.palette.primary.main;return"primary"===o&&"contained"===t?n=e.palette.primary.contrastText:"primary"===o&&"outlined"===t?n=e.palette.primary.main:"secondary"===o&&(n=e.palette.secondary.main),n}(r)},borderColor:function(r){return"secondary"===r.color?e.palette.secondary.main:e.palette.primary.main},"& svg.min-icon":{width:12,marginLeft:function(e){return e.text?"5px":"0px"},"@media (max-width: 900px)":{width:16,marginLeft:"0px !important"}}}}}));r.Z=function(e){var r=c(e),t=e.onClick,i=e.text,d=void 0===i?"":i,u=e.disabled,f=void 0!==u&&u,m=e.tooltip,p=e.icon,x=void 0===p?null:p,h=(0,n.Z)(e,l);return(0,s.jsxs)(a.Z,(0,o.Z)((0,o.Z)({classes:r,tooltip:m||d,variant:"outlined",onClick:t,disabled:f,color:"secondary",size:"medium",sx:{border:"1px solid #f44336","& span":{fontSize:14,"@media (max-width: 900px)":{display:"none"}}}},h),{},{children:[(0,s.jsx)("span",{children:d})," ",x]}))}},92217:function(e,r,t){var o=t(42982),n=t(70885),a=t(1413),i=t(72791),s=t(61889),l=(t(2574),t(69874)),c=t(9461),d=t(73975),u=t(80745),f=t(30829),m=t(20068),p=t(64554),x=t(11135),h=t(25787),Z=t(84570),b=t(23814),g=t(96389),v=t(40603),y=t(78029),k=t.n(y),C=t(64294),j=t(80184),S={json:d.AV,yaml:function(){return c.i.define(u.r)}},w=C.tk.theme({"&":{backgroundColor:"#FBFAFA"},".cm-content":{caretColor:"#05122B"},"&.cm-focused .cm-cursor":{borderLeftColor:"#05122B"},".cm-gutters":{backgroundColor:"#FBFAFA",color:"#000000",border:"none"},".cm-gutter.cm-foldGutter":{borderRight:"1px solid #eaeaea"},".cm-gutterElement":{fontSize:"13px"},".cm-line":{fontSize:"13px",color:"#2781B0","& .\u037cc":{color:"#C83B51"}},"& .\u037cb":{color:"#2781B0"},".cm-activeLine":{backgroundColor:"#dde1f1"},".cm-matchingBracket":{backgroundColor:"#05122B",color:"#ffffff"},".cm-selectionMatch":{backgroundColor:"#ebe7f1"},".cm-selectionLayer":{fontWeight:500}," .cm-selectionBackground":{backgroundColor:"#a180c7",color:"#ffffff"}},{dark:!1}),M=C.tk.theme({"&":{backgroundColor:"#282a36",color:"#ffb86c"},".cm-gutter.cm-foldGutter":{borderRight:"1px solid #eaeaea"},".cm-gutterElement":{fontSize:"13px"},".cm-line":{fontSize:"13px","& .\u037cd, & .\u037cc":{color:"#8e6cef"}},"& .\u037cb":{color:"#2781B0"},".cm-activeLine":{backgroundColor:"#44475a"},".cm-matchingBracket":{backgroundColor:"#842de5",color:"#ff79c6"},".cm-selectionLayer .cm-selectionBackground":{backgroundColor:"green"}},{dark:!0});r.Z=(0,h.Z)((function(e){return(0,x.Z)((0,a.Z)((0,a.Z)({},b.YI),{},{inputLabel:(0,a.Z)((0,a.Z)({},b.YI.inputLabel),{},{fontWeight:"normal"})}))}))((function(e){var r=e.value,t=e.label,a=void 0===t?"":t,c=e.tooltip,d=void 0===c?"":c,u=e.mode,x=void 0===u?"json":u,h=e.classes,b=e.onBeforeChange,y=e.readOnly,C=void 0!==y&&y,E=e.editorHeight,L=void 0===E?"250px":E,z=(0,i.useState)(!1),B=(0,n.Z)(z,2),N=B[0],O=B[1],I=[];return S[x]&&(I=[].concat((0,o.Z)(I),[S[x]()])),(0,j.jsxs)(i.Fragment,{children:[(0,j.jsxs)(f.Z,{className:h.inputLabel,children:[(0,j.jsx)("span",{children:a}),""!==d&&(0,j.jsx)("div",{className:h.tooltipContainer,children:(0,j.jsx)(m.Z,{title:d,placement:"top-start",children:(0,j.jsx)("div",{className:h.tooltip,children:(0,j.jsx)(Z.Z,{})})})})]}),(0,j.jsx)(s.ZP,{item:!0,xs:12,children:(0,j.jsx)("br",{})}),(0,j.jsxs)(s.ZP,{item:!0,xs:12,sx:{border:"1px solid #eaeaea"},children:[(0,j.jsx)(s.ZP,{item:!0,xs:12,children:(0,j.jsx)(l.ZP,{value:r,theme:N?M:w,extensions:I,editable:!C,basicSetup:!0,height:L,onChange:function(e,r){b(null,null,e)}})}),(0,j.jsx)(s.ZP,{item:!0,xs:12,sx:{borderTop:"1px solid #eaeaea",background:N?"#282c34":"#f7f7f7"},children:(0,j.jsxs)(p.Z,{sx:{display:"flex",alignItems:"center",padding:"2px",paddingRight:"5px",justifyContent:"flex-end","& button":{height:"26px",width:"26px",padding:"2px"," .min-icon":{marginLeft:"0"}}},children:[(0,j.jsx)(v.Z,{tooltip:"Change theme",onClick:function(){O(!N)},text:"",icon:(0,j.jsx)(g.EO,{}),color:"primary",variant:"outlined"}),(0,j.jsx)(k(),{text:r,children:(0,j.jsx)(v.Z,{tooltip:"Copy to Clipboard",onClick:function(){},text:"",icon:(0,j.jsx)(g.TI,{}),color:"primary",variant:"outlined"})})]})})]})]})}))},401:function(e,r,t){t.d(r,{Z:function(){return M}});var o,n=t(70885),a=t(1413),i=t(72791),s=t(60364),l=t(13400),c=t(55646),d=t(5574),u=t(65661),f=t(39157),m=t(11135),p=t(25787),x=t(23814),h=t(42649),Z=t(26181),b=t.n(Z),g=t(10215),v=t(15146),y=t(29823),k=t(80184),C=function(){clearInterval(o)},j={displayErrorMessage:h.zb},S=(0,s.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),j)((0,p.Z)((function(e){return(0,m.Z)({modalErrorContainer:{position:"absolute",marginTop:10,width:"80%",backgroundColor:"#fff",border:"#C72C48 1px solid",borderLeftWidth:12,borderRadius:3,zIndex:1e3,padding:"10px 15px",left:"50%",transform:"translateX(-50%)",opacity:0,transitionDuration:"0.2s"},modalErrorShow:{opacity:1},closeButton:{position:"absolute",right:5,fontSize:"small",border:0,backgroundColor:"#fff",cursor:"pointer"},errorTitle:{display:"flex",alignItems:"center"},errorLabel:{color:"#000",fontSize:18,fontWeight:500,marginLeft:5,marginRight:25},messageIcon:{color:"#C72C48",display:"flex","& svg":{width:32,height:32}},detailsButton:{color:"#9C9C9C",display:"flex",alignItems:"center",border:0,backgroundColor:"transparent",paddingLeft:5,fontSize:14,transformDuration:"0.3s",cursor:"pointer"},extraDetailsContainer:{fontStyle:"italic",color:"#9C9C9C",lineHeight:0,padding:"0 10px",transition:"all .2s ease-in-out",overflow:"hidden"},extraDetailsOpen:{lineHeight:1,padding:"3px 10px"},arrowElement:{marginLeft:-5},arrowOpen:{transform:"rotateZ(90deg)",transformDuration:"0.3s"}})}))((function(e){var r=e.classes,t=e.modalSnackMessage,a=e.displayErrorMessage,s=e.customStyle,l=(0,i.useState)(!1),c=(0,n.Z)(l,2),d=c[0],u=c[1],f=(0,i.useState)(!1),m=(0,n.Z)(f,2),p=m[0],x=m[1],h=(0,i.useCallback)((function(){x(!1)}),[]);(0,i.useEffect)((function(){p||(a({detailedError:"",errorMessage:""}),u(!1))}),[a,p]),(0,i.useEffect)((function(){""!==t.message&&"error"===t.type&&x(!0)}),[h,t.message,t.type]);var Z=b()(t,"message",""),j=b()(t,"detailedErrorMsg","");return"error"!==t.type||""===Z?null:(0,k.jsx)(i.Fragment,{children:(0,k.jsxs)("div",{className:"".concat(r.modalErrorContainer," ").concat(p?r.modalErrorShow:""),style:s,onMouseOver:C,onMouseLeave:function(){o=setInterval(h,1e4)},children:[(0,k.jsx)("button",{className:r.closeButton,onClick:h,children:(0,k.jsx)(y.Z,{})}),(0,k.jsxs)("div",{className:r.errorTitle,children:[(0,k.jsx)("span",{className:r.messageIcon,children:(0,k.jsx)(v.Z,{})}),(0,k.jsx)("span",{className:r.errorLabel,children:Z})]}),""!==j&&(0,k.jsxs)(i.Fragment,{children:[(0,k.jsx)("div",{className:r.detailsContainerLink,children:(0,k.jsxs)("button",{className:r.detailsButton,onClick:function(){u(!d)},children:["Details",(0,k.jsx)(g.Z,{className:"".concat(r.arrowElement," ").concat(d?r.arrowOpen:"")})]})}),(0,k.jsx)("div",{className:"".concat(r.extraDetailsContainer," ").concat(d?r.extraDetailsOpen:""),children:j})]})]})})}))),w=(0,s.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:h.MK}),M=(0,p.Z)((function(e){return(0,m.Z)((0,a.Z)((0,a.Z)({},x.Qw),{},{root:{"& .MuiPaper-root":{padding:"0 2rem 2rem 1rem"}},content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},x.sN))}))(w((function(e){var r=e.onClose,t=e.modalOpen,o=e.title,s=e.children,m=e.classes,p=e.wideLimit,x=void 0===p||p,h=e.modalSnackMessage,Z=e.noContentPadding,b=e.setModalSnackMessage,g=e.titleIcon,v=void 0===g?null:g,C=(0,i.useState)(!1),j=(0,n.Z)(C,2),w=j[0],M=j[1];(0,i.useEffect)((function(){b("")}),[b]),(0,i.useEffect)((function(){if(h){if(""===h.message)return void M(!1);"error"!==h.type&&M(!0)}}),[h]);var E=x?{classes:{paper:m.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},L="";return h&&(L=h.detailedErrorMsg,(""===h.detailedErrorMsg||h.detailedErrorMsg.length<5)&&(L=h.message)),(0,k.jsxs)(d.Z,(0,a.Z)((0,a.Z)({open:t,classes:m},E),{},{scroll:"paper",onClose:function(e,t){"backdropClick"!==t&&r()},className:m.root,children:[(0,k.jsxs)(u.Z,{className:m.title,children:[(0,k.jsxs)("div",{className:m.titleText,children:[v," ",o]}),(0,k.jsx)("div",{className:m.closeContainer,children:(0,k.jsx)(l.Z,{"aria-label":"close",className:m.closeButton,onClick:r,disableRipple:!0,size:"small",children:(0,k.jsx)(y.Z,{})})})]}),(0,k.jsx)(S,{}),(0,k.jsx)(c.Z,{open:w,className:m.snackBarModal,onClose:function(){M(!1),b("")},message:L,ContentProps:{className:"".concat(m.snackBar," ").concat(h&&"error"===h.type?m.errorSnackBar:"")},autoHideDuration:h&&"error"===h.type?1e4:5e3}),(0,k.jsx)(f.Z,{className:Z?"":m.content,children:s})]}))})))},82859:function(e,r,t){t.r(r);var o=t(70885),n=t(1413),a=t(72791),i=t(60364),s=t(61889),l=t(40986),c=t(36151),d=t(11135),u=t(25787),f=t(81207),m=t(42649),p=t(23814),x=t(401),h=t(92217),Z=t(96389),b=t(80184),g={setModalErrorSnackMessage:m.zb},v=(0,i.$j)(null,g);r.default=(0,u.Z)((function(e){return(0,d.Z)((0,n.Z)((0,n.Z)({buttonContainer:{textAlign:"right"},errorState:{color:"#b53b4b",fontSize:14,fontWeight:"bold"},codeMirrorContainer:{marginBottom:20,paddingLeft:15,"& label":{marginBottom:".5rem"},"& label + div":{display:"none"}}},p.ID),p.YI))}))(v((function(e){var r=e.classes,t=e.open,n=e.closeModalAndRefresh,i=e.tenant,d=e.namespace,u=e.setModalErrorSnackMessage,m=(0,a.useState)(!1),p=(0,o.Z)(m,2),g=p[0],v=p[1],y=(0,a.useState)(!1),k=(0,o.Z)(y,2),C=k[0],j=k[1],S=(0,a.useState)(""),w=(0,o.Z)(S,2),M=w[0],E=w[1],L=(0,a.useState)(""),z=(0,o.Z)(L,2),B=z[0],N=z[1];(0,a.useEffect)((function(){f.Z.invoke("GET","/api/v1/namespaces/".concat(d,"/tenants/").concat(i,"/yaml")).then((function(e){j(!1),E(e.yaml)})).catch((function(e){j(!1),u(e)}))}),[i,d,u]),(0,a.useEffect)((function(){}),[]);var O=""!==M.trim();return(0,b.jsxs)(x.Z,{modalOpen:t,onClose:function(){n(!1)},title:"YAML",titleIcon:(0,b.jsx)(Z.wK,{}),children:[g||C&&(0,b.jsx)(s.ZP,{item:!0,xs:12,children:(0,b.jsx)(l.Z,{})}),""!==B&&(0,b.jsx)("div",{className:r.errorState,children:B}),!C&&(0,b.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),g||(v(!0),N(""),f.Z.invoke("PUT","/api/v1/namespaces/".concat(d,"/tenants/").concat(i,"/yaml"),{yaml:M}).then((function(e){v(!1),n(!0),N("")})).catch((function(e){v(!1),N(e.errorMessage)})))},children:(0,b.jsxs)(s.ZP,{container:!0,children:[(0,b.jsx)(s.ZP,{item:!0,xs:12,className:r.codeMirrorContainer,children:(0,b.jsx)(h.Z,{label:"Tenant Specification",value:M,mode:"yaml",onBeforeChange:function(e,r,t){E(t)},editorHeight:"550px"})}),(0,b.jsxs)(s.ZP,{item:!0,xs:12,className:r.modalButtonBar,children:[(0,b.jsx)(c.Z,{type:"button",variant:"outlined",color:"primary",disabled:g,onClick:function(){n(!1)},children:"Cancel"}),(0,b.jsx)(c.Z,{type:"submit",variant:"contained",color:"primary",disabled:g||!O,children:"Save"})]})]})})]})})))},93840:function(e,r,t){var o=t(72791).createContext();r.Z=o},76147:function(e,r,t){function o(e){var r=e.props,t=e.states,o=e.muiFormControl;return t.reduce((function(e,t){return e[t]=r[t],o&&"undefined"===typeof r[t]&&(e[t]=o[t]),e}),{})}t.d(r,{Z:function(){return o}})},52930:function(e,r,t){t.d(r,{Z:function(){return a}});var o=t(72791),n=t(93840);function a(){return o.useContext(n.Z)}},17133:function(e,r,t){var o=t(4942),n=t(63366),a=t(87462),i=t(72791),s=t(28182),l=t(90767),c=t(76147),d=t(52930),u=t(14036),f=t(93736),m=t(47630),p=t(10843),x=t(80184),h=["children","className","color","component","disabled","error","filled","focused","required"],Z=(0,m.ZP)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,r){var t=e.ownerState;return(0,a.Z)({},r.root,"secondary"===t.color&&r.colorSecondary,t.filled&&r.filled)}})((function(e){var r,t=e.theme,n=e.ownerState;return(0,a.Z)({color:t.palette.text.secondary},t.typography.body1,(r={lineHeight:"1.4375em",padding:0,position:"relative"},(0,o.Z)(r,"&.".concat(p.Z.focused),{color:t.palette[n.color].main}),(0,o.Z)(r,"&.".concat(p.Z.disabled),{color:t.palette.text.disabled}),(0,o.Z)(r,"&.".concat(p.Z.error),{color:t.palette.error.main}),r))})),b=(0,m.ZP)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,r){return r.asterisk}})((function(e){var r=e.theme;return(0,o.Z)({},"&.".concat(p.Z.error),{color:r.palette.error.main})})),g=i.forwardRef((function(e,r){var t=(0,f.Z)({props:e,name:"MuiFormLabel"}),o=t.children,i=t.className,m=t.component,g=void 0===m?"label":m,v=(0,n.Z)(t,h),y=(0,d.Z)(),k=(0,c.Z)({props:t,muiFormControl:y,states:["color","required","focused","disabled","error","filled"]}),C=(0,a.Z)({},t,{color:k.color||"primary",component:g,disabled:k.disabled,error:k.error,filled:k.filled,focused:k.focused,required:k.required}),j=function(e){var r=e.classes,t=e.color,o=e.focused,n=e.disabled,a=e.error,i=e.filled,s=e.required,c={root:["root","color".concat((0,u.Z)(t)),n&&"disabled",a&&"error",i&&"filled",o&&"focused",s&&"required"],asterisk:["asterisk",a&&"error"]};return(0,l.Z)(c,p.M,r)}(C);return(0,x.jsxs)(Z,(0,a.Z)({as:g,ownerState:C,className:(0,s.Z)(j.root,i),ref:r},v,{children:[o,k.required&&(0,x.jsxs)(b,{ownerState:C,"aria-hidden":!0,className:j.asterisk,children:["\u2009","*"]})]}))}));r.Z=g},10843:function(e,r,t){t.d(r,{M:function(){return n}});var o=t(95159);function n(e){return(0,o.Z)("MuiFormLabel",e)}var a=(0,t(30208).Z)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]);r.Z=a},30829:function(e,r,t){t.d(r,{Z:function(){return g}});var o=t(4942),n=t(63366),a=t(87462),i=t(72791),s=t(90767),l=t(76147),c=t(52930),d=t(17133),u=t(10843),f=t(93736),m=t(47630),p=t(95159);function x(e){return(0,p.Z)("MuiInputLabel",e)}(0,t(30208).Z)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var h=t(80184),Z=["disableAnimation","margin","shrink","variant"],b=(0,m.ZP)(d.Z,{shouldForwardProp:function(e){return(0,m.FO)(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,r){var t=e.ownerState;return[(0,o.Z)({},"& .".concat(u.Z.asterisk),r.asterisk),r.root,t.formControl&&r.formControl,"small"===t.size&&r.sizeSmall,t.shrink&&r.shrink,!t.disableAnimation&&r.animated,r[t.variant]]}})((function(e){var r=e.theme,t=e.ownerState;return(0,a.Z)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===t.size&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:r.transitions.create(["color","transform","max-width"],{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut})},"filled"===t.variant&&(0,a.Z)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===t.size&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&(0,a.Z)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===t.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===t.variant&&(0,a.Z)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===t.size&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))})),g=i.forwardRef((function(e,r){var t=(0,f.Z)({name:"MuiInputLabel",props:e}),o=t.disableAnimation,i=void 0!==o&&o,d=t.shrink,u=(0,n.Z)(t,Z),m=(0,c.Z)(),p=d;"undefined"===typeof p&&m&&(p=m.filled||m.focused||m.adornedStart);var g=(0,l.Z)({props:t,muiFormControl:m,states:["size","variant","required"]}),v=(0,a.Z)({},t,{disableAnimation:i,formControl:m,shrink:p,size:g.size,variant:g.variant,required:g.required}),y=function(e){var r=e.classes,t=e.formControl,o=e.size,n=e.shrink,i={root:["root",t&&"formControl",!e.disableAnimation&&"animated",n&&"shrink","small"===o&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},l=(0,s.Z)(i,x,r);return(0,a.Z)({},r,l)}(v);return(0,h.jsx)(b,(0,a.Z)({"data-shrink":p,ownerState:v,ref:r},u,{classes:y}))}))},61120:function(e,r,t){function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}t.d(r,{Z:function(){return o}})},60136:function(e,r,t){t.d(r,{Z:function(){return n}});var o=t(89611);function n(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&(0,o.Z)(e,r)}},6215:function(e,r,t){function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}t.d(r,{Z:function(){return a}});var n=t(97326);function a(e,r){if(r&&("object"===o(r)||"function"===typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return(0,n.Z)(e)}}}]);
//# sourceMappingURL=8138.49e283a4.chunk.js.map