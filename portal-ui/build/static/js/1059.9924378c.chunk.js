/*! For license information please see 1059.9924378c.chunk.js.LICENSE.txt */
(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[1059],{74794:function(e,t,a){"use strict";var n=a(1413),r=(a(72791),a(61889)),s=a(11135),o=a(25787),l=a(23814),c=a(80184);t.Z=(0,o.Z)((function(e){return(0,s.Z)((0,n.Z)({},l.Bw))}))((function(e){var t=e.classes,a=e.className,n=void 0===a?"":a,s=e.children;return(0,c.jsx)("div",{className:t.contentSpacer,children:(0,c.jsx)(r.ZP,{container:!0,children:(0,c.jsx)(r.ZP,{item:!0,xs:12,className:n,children:s})})})}))},32291:function(e,t,a){"use strict";a(72791);var n=a(60364),r=a(61889),s=a(11135),o=a(25787),l=a(20890),c=a(13400),i=a(95466),d=a(84683),u=a(3925),m=a(96389),f=a(80184),h={toggleList:u.kQ},p=(0,n.$j)((function(e){return{sidebarOpen:e.system.sidebarOpen,operatorMode:e.system.operatorMode,managerObjects:e.objectBrowser.objectManager.objectsToManage}}),h);t.Z=p((0,o.Z)((function(e){return(0,s.Z)({headerContainer:{width:"100%",minHeight:79,display:"flex",backgroundColor:"#fff",left:0,boxShadow:"rgba(0,0,0,.08) 0 3px 10px"},label:{display:"flex",justifyContent:"flex-start",alignItems:"center"},labelStyle:{color:"#000",fontSize:18,fontWeight:700,marginLeft:34,marginTop:8},rightMenu:{textAlign:"right"},logo:{marginLeft:34,fill:e.palette.primary.main,"& .min-icon":{width:120}},middleComponent:{display:"flex",justifyContent:"center",alignItems:"center"}})}))((function(e){var t=e.classes,a=e.label,n=e.actions,s=e.sidebarOpen,o=e.operatorMode,u=e.managerObjects,h=e.toggleList,p=e.middleComponent;return(0,f.jsxs)(r.ZP,{container:!0,className:"".concat(t.headerContainer," page-header"),direction:"row",alignItems:"center",children:[(0,f.jsxs)(r.ZP,{item:!0,xs:12,sm:12,md:p?3:6,className:t.label,sx:{paddingTop:["15px","15px","0","0"]},children:[!s&&(0,f.jsx)("div",{className:t.logo,children:o?(0,f.jsx)(i.Z,{}):(0,f.jsx)(d.Z,{})}),(0,f.jsx)(l.Z,{variant:"h4",className:t.labelStyle,children:a})]}),p&&(0,f.jsx)(r.ZP,{item:!0,xs:12,sm:12,md:6,className:t.middleComponent,sx:{marginTop:["10px","10px","0","0"]},children:p}),(0,f.jsxs)(r.ZP,{item:!0,xs:12,sm:12,md:p?3:6,className:t.rightMenu,children:[n&&n,u&&u.length>0&&(0,f.jsx)(c.Z,{color:"primary","aria-label":"Refresh List",component:"span",onClick:function(){h()},size:"large",children:(0,f.jsx)(m.gx,{})})]})]})})))},59121:function(e,t,a){"use strict";a.r(t);var n=a(70885),r=a(1413),s=a(72791),o=a(61889),l=a(27391),c=a(36151),i=a(95087),d=a(60364),u=a(30061),m=a(11135),f=a(25787),h=a(45248),p=a(26824),g=a(23814),b=a(92983),x=a(32291),y=a(34866),v=a(72426),Z=a.n(v),j=a(74794),S=a(80184),w=null,C=(0,d.$j)((function(e){return{messages:e.trace.messages,traceStarted:e.trace.traceStarted}}),{traceMessageReceived:u.ho,traceResetMessages:u.At,setTraceStarted:u.qv});t.default=C((0,f.Z)((function(e){return(0,m.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({sizeItem:{width:150},timeItem:{width:100},startButton:{textAlign:"right"}},g.OR),g.qg),g.bp),g.VX),{},{searchField:(0,r.Z)((0,r.Z)({},g.qg.searchField),{},{margin:"0 5px","&:first-of-type":{marginLeft:0},"&:last-of-type":{marginRight:0}}),tableWrapper:{height:"calc(100vh - 292px)"},inlineCheckboxes:(0,r.Z)((0,r.Z)({},g.IX.inlineCheckboxes),{},{alignItems:"center","@media (max-width: 900px)":{flexFlow:"column",alignItems:"flex-start"}}),checkBoxLabel:{marginTop:10,fontSize:16,fontWeight:500},formBox:{border:"1px solid #EAEAEA",padding:15,marginBottom:15},midColumnCheckboxes:{display:"flex"},separatorBar:{fontSize:16,fontWeight:700,paddingTop:19,"@media (max-width: 900px)":{display:"none"}}},(0,g.Bz)(e.spacing(4))))}))((function(e){var t=e.classes,a=e.traceMessageReceived,r=e.traceResetMessages,d=e.setTraceStarted,u=e.traceStarted,m=e.messages,f=(0,s.useState)(""),g=(0,n.Z)(f,2),v=g[0],C=g[1],k=(0,s.useState)(""),_=(0,n.Z)(k,2),N=_[0],I=_[1],O=(0,s.useState)(""),P=(0,n.Z)(O,2),T=P[0],F=P[1],M=(0,s.useState)(""),B=(0,n.Z)(M,2),E=B[0],L=B[1],z=(0,s.useState)(0),R=(0,n.Z)(z,2),U=R[0],A=R[1],W=(0,s.useState)(!1),D=(0,n.Z)(W,2),K=D[0],$=D[1],H=(0,s.useState)(!0),Y=(0,n.Z)(H,2),q=Y[0],G=Y[1],V=(0,s.useState)(!1),X=(0,n.Z)(V,2),J=X[0],Q=X[1],ee=(0,s.useState)(!1),te=(0,n.Z)(ee,2),ae=te[0],ne=te[1],re=(0,s.useState)(!1),se=(0,n.Z)(re,2),oe=se[0],le=se[1],ce=(0,s.useState)(!1),ie=(0,n.Z)(ce,2),de=ie[0],ue=ie[1];return(0,S.jsxs)(s.Fragment,{children:[(0,S.jsx)(x.Z,{label:"Trace"}),(0,S.jsxs)(j.Z,{children:[(0,S.jsxs)(o.ZP,{xs:12,className:t.formBox,children:[(0,S.jsxs)(o.ZP,{item:!0,xs:12,className:t.actionsTray,children:[(0,S.jsx)(l.Z,{className:t.searchField,id:"status-code",label:"Status Code",InputProps:{disableUnderline:!0},value:v,onChange:function(e){C(e.target.value)},disabled:u,variant:"standard"}),(0,S.jsx)(l.Z,{className:t.searchField,id:"method",label:"Method",InputProps:{disableUnderline:!0},value:N,onChange:function(e){I(e.target.value)},disabled:u,variant:"standard"}),(0,S.jsx)(l.Z,{label:"Function Name",className:t.searchField,id:"func-name",disabled:u,InputProps:{disableUnderline:!0},value:T,onChange:function(e){F(e.target.value)},variant:"standard"}),(0,S.jsx)(l.Z,{className:t.searchField,id:"path",label:"Path",disabled:u,InputProps:{disableUnderline:!0},value:E,onChange:function(e){L(e.target.value)},variant:"standard"}),(0,S.jsx)(l.Z,{type:"number",className:t.searchField,id:"fthreshold",label:"Response Threshold",disabled:u,InputProps:{disableUnderline:!0},inputProps:{min:0},value:U,onChange:function(e){A(parseInt(e.target.value))},variant:"standard"})]}),(0,S.jsxs)(o.ZP,{item:!0,xs:12,className:t.inlineCheckboxes,children:[(0,S.jsx)("div",{className:t.checkBoxLabel,children:"Calls to trace:"}),(0,S.jsxs)("div",{className:t.midColumnCheckboxes,children:[(0,S.jsx)(y.Z,{checked:K,id:"all_calls",name:"all_calls",label:"All",onChange:function(e){$(e.target.checked)},value:"all",disabled:u}),(0,S.jsx)(y.Z,{checked:q||K,id:"s3_calls",name:"s3_calls",label:"S3",onChange:function(e){G(e.target.checked)},value:"s3",disabled:K||u}),(0,S.jsx)(y.Z,{checked:J||K,id:"internal_calls",name:"internal_calls",label:"Internal",onChange:function(e){Q(e.target.checked)},value:"internal",disabled:K||u}),(0,S.jsx)(y.Z,{checked:ae||K,id:"storage_calls",name:"storage_calls",label:"Storage",onChange:function(e){ne(e.target.checked)},value:"storage",disabled:K||u}),(0,S.jsx)(y.Z,{checked:oe||K,id:"os_calls",name:"os_calls",label:"OS",onChange:function(e){le(e.target.checked)},value:"os",disabled:K||u}),(0,S.jsx)("span",{className:t.separatorBar,children:"\xa0 \xa0 \xa0 | \xa0 \xa0 \xa0"})]}),(0,S.jsx)(y.Z,{checked:de,id:"only_errors",name:"only_errors",label:"Display only Errors",onChange:function(e){ue(e.target.checked)},value:"only_errors",disabled:u})]}),(0,S.jsxs)(o.ZP,{item:!0,xs:12,className:t.startButton,children:[!u&&(0,S.jsx)(c.Z,{type:"submit",variant:"contained",color:"primary",disabled:u,onClick:function(){r();var e=new URL(window.location.toString()),t=e.port,n="".concat(q?"s3,":"").concat(J?"internal,":"").concat(ae?"storage,":"").concat(oe?"os,":"");K&&(n="all");var s=(0,p.x2)(e.protocol);w=new i.w3cwebsocket("".concat(s,"://").concat(e.hostname,":").concat(t,"/ws/trace?calls=").concat(n,"&threshold=").concat(U,"&onlyErrors=").concat(de?"yes":"no","&statusCode=").concat(v,"&method=").concat(N,"&funcname=").concat(T,"&path=").concat(E));var o=null;if(null!==w)return w.onopen=function(){console.log("WebSocket Client Connected"),d(!0),w.send("ok"),o=setInterval((function(){w.send("ok")}),1e4)},w.onmessage=function(e){var t=JSON.parse(e.data.toString());t.ptime=Z()(t.time,"YYYY-MM-DD HH:mm:s.SSSS +0000 UTC").toDate(),t.key=Math.random(),a(t)},w.onclose=function(){clearInterval(o),console.log("connection closed by server"),d(!1)},function(){w.close(1e3),clearInterval(o),console.log("closing websockets"),d(!1)}},children:"Start"}),u&&(0,S.jsx)(c.Z,{type:"button",variant:"contained",color:"primary",onClick:function(){w.close(1e3),d(!1)},children:"Stop"})]})]}),(0,S.jsx)(o.ZP,{item:!0,xs:12,className:t.tableBlock,children:(0,S.jsx)(b.Z,{itemActions:[],columns:[{label:"Time",elementKey:"ptime",renderFunction:function(e){var t=new Date(e);return(0,h.zk)(t)},globalClass:t.timeItem},{label:"Name",elementKey:"api"},{label:"Status",elementKey:"",renderFunction:function(e){return"".concat(e.statusCode," ").concat(e.statusMsg)},renderFullObject:!0},{label:"Location",elementKey:"configuration_id",renderFunction:function(e){return"".concat(e.host," ").concat(e.client)},renderFullObject:!0},{label:"Load Time",elementKey:"callStats.duration",globalClass:t.timeItem},{label:"Upload",elementKey:"callStats.rx",renderFunction:h.ae,globalClass:t.sizeItem},{label:"Download",elementKey:"callStats.tx",renderFunction:h.ae,globalClass:t.sizeItem}],isLoading:!1,records:m,entityName:"Traces",idField:"api",customEmptyMessage:u?"No Traced elements received yet":"Trace is not started yet",customPaperHeight:t.tableWrapper,autoScrollToBottom:!0})})]})]})})))},26824:function(e,t,a){"use strict";a.d(t,{V9:function(){return n},ci:function(){return r},HE:function(){return s},x2:function(){return o}});var n=1006,r=1008,s=1011,o=function(e){var t="ws";return"https:"===e&&(t="wss"),t}},96532:function(e,t){"use strict";var a=60103,n=60106,r=60107,s=60108,o=60114,l=60109,c=60110,i=60112,d=60113,u=60120,m=60115,f=60116,h=60121,p=60122,g=60117,b=60129,x=60131;if("function"===typeof Symbol&&Symbol.for){var y=Symbol.for;a=y("react.element"),n=y("react.portal"),r=y("react.fragment"),s=y("react.strict_mode"),o=y("react.profiler"),l=y("react.provider"),c=y("react.context"),i=y("react.forward_ref"),d=y("react.suspense"),u=y("react.suspense_list"),m=y("react.memo"),f=y("react.lazy"),h=y("react.block"),p=y("react.server.block"),g=y("react.fundamental"),b=y("react.debug_trace_mode"),x=y("react.legacy_hidden")}function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case r:case o:case s:case d:case u:return e;default:switch(e=e&&e.$$typeof){case c:case i:case f:case m:case l:return e;default:return t}}case n:return t}}}},78457:function(e,t,a){"use strict";a(96532)},94210:function(e){var t=function(){if("object"===typeof self&&self)return self;if("object"===typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"===typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}()},95087:function(e,t,a){var n;if("object"===typeof globalThis)n=globalThis;else try{n=a(94210)}catch(l){}finally{if(n||"undefined"===typeof window||(n=window),!n)throw new Error("Could not determine global this")}var r=n.WebSocket||n.MozWebSocket,s=a(51496);function o(e,t){return t?new r(e,t):new r(e)}r&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(o,e,{get:function(){return r[e]}})})),e.exports={w3cwebsocket:r?o:null,version:s}},51496:function(e,t,a){e.exports=a(19794).version},45987:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var n=a(63366);function r(e,t){if(null==e)return{};var a,r,s=(0,n.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}},19794:function(e){"use strict";e.exports={version:"1.0.34"}}}]);
//# sourceMappingURL=1059.9924378c.chunk.js.map